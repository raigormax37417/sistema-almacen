(self.webpackChunksistema_almacen=self.webpackChunksistema_almacen||[]).push([[179],{7128:(Ft,Ue,F)=>{"use strict";F.d(Ue,{nm:()=>yn});var g=F(5813),he=(F(4893),F(3692),F(5867),F(5861)),Pe=F(9681),Ce=F(4859),ce=F(2090),Me=F(1877);const Z=new Map,X={activated:!1,tokenObservers:[]},Ae={initialized:!1,enabled:!1};function xe(Ee){return Z.get(Ee)||X}function ke(Ee,pe){Z.set(Ee,pe)}function rt(){return Ae}class Le{constructor(pe,Ie,Qe,ut,It){if(this.operation=pe,this.retryPolicy=Ie,this.getWaitDuration=Qe,this.lowerBound=ut,this.upperBound=It,this.pending=null,this.nextErrorWaitInterval=ut,ut>It)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var Ie=this;return(0,he.Z)(function*(){Ie.stop();try{Ie.pending=new ce.BH,yield function Ye(Ee){return new Promise(pe=>{setTimeout(pe,Ee)})}(Ie.getNextRun(pe)),Ie.pending.resolve(),yield Ie.pending.promise,Ie.pending=new ce.BH,yield Ie.operation(),Ie.pending.resolve(),yield Ie.pending.promise,Ie.process(!0).catch(()=>{})}catch(Qe){Ie.retryPolicy(Qe)?Ie.process(!1).catch(()=>{}):Ie.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ie=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ie}}}const Be=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ee(Ee){if(!xe(Ee).activated)throw Be.create("use-before-activation",{appName:Ee.name})}function Oe(Ee,pe){return te.apply(this,arguments)}function te(){return(te=(0,he.Z)(function*({url:Ee,body:pe},Ie){const Qe={"Content-Type":"application/json"},ut=Ie.getImmediate({optional:!0});ut&&(Qe["X-Firebase-Client"]=ut.getPlatformInfoString());const It={method:"POST",body:JSON.stringify(pe),headers:Qe};let Gt,nr;try{Gt=yield fetch(Ee,It)}catch(Pr){throw Be.create("fetch-network-error",{originalErrorMessage:Pr.message})}if(200!==Gt.status)throw Be.create("fetch-status-error",{httpStatus:Gt.status});try{nr=yield Gt.json()}catch(Pr){throw Be.create("fetch-parse-error",{originalErrorMessage:Pr.message})}const hn=nr.ttl.match(/^([\d.]+)(s)$/);if(!hn||!hn[2]||isNaN(Number(hn[1])))throw Be.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nr.ttl}`});const yr=1e3*Number(hn[1]),Cr=Date.now();return{token:nr.attestationToken,expireTimeMillis:Cr+yr,issuedAtTimeMillis:Cr}})).apply(this,arguments)}function An(Ee,pe){const{projectId:Ie,appId:Qe,apiKey:ut}=Ee.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Ie}/apps/${Qe}:exchangeDebugToken?key=${ut}`,body:{debug_token:pe}}}const Dn="firebase-app-check-store";let Cn=null;function jt(){return Cn||(Cn=new Promise((Ee,pe)=>{try{const Ie=indexedDB.open("firebase-app-check-database",1);Ie.onsuccess=Qe=>{Ee(Qe.target.result)},Ie.onerror=Qe=>{var ut;pe(Be.create("storage-open",{originalErrorMessage:null===(ut=Qe.target.error)||void 0===ut?void 0:ut.message}))},Ie.onupgradeneeded=Qe=>{0===Qe.oldVersion&&Qe.target.result.createObjectStore(Dn,{keyPath:"compositeKey"})}}catch(Ie){pe(Be.create("storage-open",{originalErrorMessage:Ie.message}))}}),Cn)}function Ln(){return(Ln=(0,he.Z)(function*(Ee,pe){const Qe=(yield jt()).transaction(Dn,"readwrite"),It=Qe.objectStore(Dn).put({compositeKey:Ee,value:pe});return new Promise((Gt,nr)=>{It.onsuccess=hn=>{Gt()},Qe.onerror=hn=>{var yr;nr(Be.create("storage-set",{originalErrorMessage:null===(yr=hn.target.error)||void 0===yr?void 0:yr.message}))}})})).apply(this,arguments)}const Jn=new Me.Yd("@firebase/app-check");function Qr(Ee,pe){return(0,ce.hl)()?function fn(Ee,pe){return function tn(Ee,pe){return Ln.apply(this,arguments)}(function Nr(Ee){return`${Ee.options.appId}-${Ee.name}`}(Ee),pe)}(Ee,pe).catch(Ie=>{Jn.warn(`Failed to write token to IndexedDB. Error: ${Ie}`)}):Promise.resolve()}function Kt(){return rt().enabled}function nt(){return bn.apply(this,arguments)}function bn(){return(bn=(0,he.Z)(function*(){const Ee=rt();if(Ee.enabled&&Ee.token)return Ee.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pn={error:"UNKNOWN_ERROR"};function sr(Ee){return ce.US.encodeString(JSON.stringify(Ee),!1)}function nn(Ee){return et.apply(this,arguments)}function et(){return(et=(0,he.Z)(function*(Ee,pe=!1){const Ie=Ee.app;ee(Ie);const Qe=xe(Ie);let It,ut=Qe.token;if(!ut){const hn=yield Qe.cachedTokenPromise;hn&&or(hn)&&(ut=hn)}if(!pe&&ut&&or(ut))return{token:ut.token};let nr,Gt=!1;if(Kt()){Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Oe(An(Ie,yield nt()),Ee.platformLoggerProvider).then(yr=>(Qe.exchangeTokenPromise=void 0,yr)),Gt=!0);const hn=yield Qe.exchangeTokenPromise;return yield Qr(Ie,hn),ke(Ie,Object.assign(Object.assign({},Qe),{token:hn})),{token:hn.token}}try{Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Qe.provider.getToken().then(hn=>(Qe.exchangeTokenPromise=void 0,hn)),Gt=!0),ut=yield Qe.exchangeTokenPromise}catch(hn){"appCheck/throttled"===hn.code?Jn.warn(hn.message):Jn.error(hn),It=hn}return ut?(nr={token:ut.token},ke(Ie,Object.assign(Object.assign({},Qe),{token:ut})),yield Qr(Ie,ut)):nr=Ei(It),Gt&&ii(Ie,nr),nr})).apply(this,arguments)}function Tr(Ee,pe){const Ie=xe(Ee),Qe=Ie.tokenObservers.filter(ut=>ut.next!==pe);0===Qe.length&&Ie.tokenRefresher&&Ie.tokenRefresher.isRunning()&&Ie.tokenRefresher.stop(),ke(Ee,Object.assign(Object.assign({},Ie),{tokenObservers:Qe}))}function Wr(Ee){const{app:pe}=Ee,Ie=xe(pe);let Qe=Ie.tokenRefresher;Qe||(Qe=function Xn(Ee){const{app:pe}=Ee;return new Le((0,he.Z)(function*(){let Qe;if(Qe=xe(pe).token?yield nn(Ee,!0):yield nn(Ee),Qe.error)throw Qe.error}),()=>!0,()=>{const Ie=xe(pe);if(Ie.token){let Qe=Ie.token.issuedAtTimeMillis+.5*(Ie.token.expireTimeMillis-Ie.token.issuedAtTimeMillis)+3e5;return Qe=Math.min(Qe,Ie.token.expireTimeMillis-3e5),Math.max(0,Qe-Date.now())}return 0},3e4,96e4)}(Ee),ke(pe,Object.assign(Object.assign({},Ie),{tokenRefresher:Qe}))),!Qe.isRunning()&&Ie.isTokenAutoRefreshEnabled&&Qe.start()}function ii(Ee,pe){const Ie=xe(Ee).tokenObservers;for(const Qe of Ie)try{"EXTERNAL"===Qe.type&&null!=pe.error?Qe.error(pe.error):Qe.next(pe)}catch(ut){}}function or(Ee){return Ee.expireTimeMillis-Date.now()>0}function Ei(Ee){return{token:sr(pn),error:Ee}}class de{constructor(pe,Ie){this.app=pe,this.platformLoggerProvider=Ie}_delete(){const{tokenObservers:pe}=xe(this.app);for(const Ie of pe)Tr(this.app,Ie.next);return Promise.resolve()}}const Hn="app-check-internal";!function mn(){(0,Pe.Xd)(new Ce.wA("app-check",Ee=>function oe(Ee,pe){return new de(Ee,pe)}(Ee.getProvider("app").getImmediate(),Ee.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ee,pe,Ie)=>{Ee.getProvider(Hn).initialize()})),(0,Pe.Xd)(new Ce.wA(Hn,Ee=>function ve(Ee){return{getToken:pe=>nn(Ee,pe),addTokenListener:pe=>function bt(Ee,pe,Ie,Qe){const{app:ut}=Ee,It=xe(ut),Gt={next:Ie,error:Qe,type:pe};if(ke(ut,Object.assign(Object.assign({},It),{tokenObservers:[...It.tokenObservers,Gt]})),It.token&&or(It.token)){const nr=It.token;Promise.resolve().then(()=>{Ie({token:nr.token}),Wr(Ee)}).catch(()=>{})}It.cachedTokenPromise.then(()=>Wr(Ee))}(Ee,"INTERNAL",pe),removeTokenListener:pe=>Tr(Ee.app,pe)}}(Ee.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pe.KN)("@firebase/app-check","0.5.3")}();class yn{constructor(){return(0,g.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Ot:()=>me,ZF:()=>be,hX:()=>xe,z6:()=>he});var g=F(5867),k=F(4893),ue=F(5813);class me{constructor(Le){return Le}}class he{constructor(){return(0,g.C6)()}}const ce=new k.OlP("angularfire2._apps"),Me={provide:me,useFactory:function Ce(Re){return Re&&1===Re.length?Re[0]:new me((0,g.Mq)())},deps:[[new k.FiY,ce]]},Z={provide:he,deps:[[new k.FiY,ce]]};function X(Re){return(Le,Ye)=>{const Tt=Le.runOutsideAngular(()=>Re(Ye));return new me(Tt)}}let Ae=(()=>{class Re{constructor(Ye){(0,g.KN)("angularfire",ue.q4.full,"core"),(0,g.KN)("angularfire",ue.q4.full,"app"),(0,g.KN)("angular",k.q4F.full,Ye.toString())}}return Re.\u0275fac=function(Ye){return new(Ye||Re)(k.LFG(k.Lbi))},Re.\u0275mod=k.oAB({type:Re}),Re.\u0275inj=k.cJS({providers:[Me,Z]}),Re})();function xe(Re,...Le){return{ngModule:Ae,providers:[{provide:ce,useFactory:X(Re),multi:!0,deps:[k.R0b,k.zs3,ue.HU,...Le]}]}}const be=(0,ue.u3)(g.ZF,!0)},7323:(Ft,Ue,F)=>{"use strict";F.d(Ue,{gx:()=>Ae,dh:()=>xe,fD:()=>Le,Xb:()=>ie,v0:()=>gt,AR:()=>Re,e5:()=>an,rh:()=>nn});var g=F(5813),k=F(4893),ue=F(3692),me=F(5867),he=F(7128),Pe=F(5516),Ce=F(8306);function ce(je){return new Ce.y(function(we){return{unsubscribe:(0,Pe.Aj)(je,we.next.bind(we),we.error.bind(we),we.complete.bind(we))}})}const X="auth";class Ae{constructor(we){return we}}class xe{constructor(){return(0,g.vb)(X)}}const rt=new k.OlP("angularfire2.auth-instances");function be(je){return(we,Ze)=>{const St=we.runOutsideAngular(()=>je(Ze));return new Ae(St)}}const ot={provide:xe,deps:[[new k.FiY,rt]]},qe={provide:Ae,useFactory:function Je(je,we){const Ze=(0,g.JM)(X,je,we);return Ze&&new Ae(Ze)},deps:[[new k.FiY,rt],ue.Ot]};let $e=(()=>{class je{constructor(){(0,me.KN)("angularfire",g.q4.full,"auth")}}return je.\u0275fac=function(Ze){return new(Ze||je)},je.\u0275mod=k.oAB({type:je}),je.\u0275inj=k.cJS({providers:[qe,ot]}),je})();function Re(je,...we){return{ngModule:$e,providers:[{provide:rt,useFactory:be(je),multi:!0,deps:[k.R0b,k.zs3,g.HU,ue.z6,[new k.FiY,he.nm],...we]}]}}const Le=(0,g.u3)(ce,!0),ie=(0,g.u3)(Pe.Xb,!0),gt=(0,g.u3)(Pe.v0,!0),an=(0,g.u3)(Pe.e5,!0),nn=(0,g.u3)(Pe.rh,!0)},3562:(Ft,Ue,F)=>{"use strict";F.d(Ue,{gg:()=>re,hJ:()=>Lr,$k:()=>Cn,oe:()=>Sn,JU:()=>nt,_1:()=>br,QT:()=>bt,ad:()=>Ei,Cm:()=>Dn,pl:()=>wi,r7:()=>pi});var g=F(5813),k=F(4893),ue=F(7323),me=F(3692),he=F(5867),Pe=F(7128),Ce=F(3209),ce=F(8306),Me=F(4004),Z={includeMetadataChanges:!1};function X(Et,ht){return void 0===ht&&(ht=Z),new ce.y(function(Nt){return{unsubscribe:(0,Ce.cf)(Et,ht,{next:Nt.next.bind(Nt),error:Nt.error.bind(Nt),complete:Nt.complete.bind(Nt)})}})}function xe(Et,ht){return void 0===ht&&(ht={}),function Ae(Et){return X(Et,{includeMetadataChanges:!0})}(Et).pipe((0,Me.U)(function(Nt){return function ke(Et,ht){void 0===ht&&(ht={});var Nt=Et.data();return!Et.exists()||"object"!=typeof Nt||null===Nt||ht.idField&&(Nt[ht.idField]=Et.id),Nt}(Nt,ht)}))}function Tt(Et){return X(Et,{includeMetadataChanges:!0}).pipe((0,Me.U)(function(ht){return ht.docs}))}class re{constructor(ht){return ht}}const ie="firestore",te=new k.OlP("angularfire2.firestore-instances");function Dt(Et){return(ht,Nt)=>{const un=ht.runOutsideAngular(()=>Et(Nt));return new re(un)}}const An={provide:class ye{constructor(){return(0,g.vb)(ie)}},deps:[[new k.FiY,te]]},dt={provide:re,useFactory:function gt(Et,ht){const Nt=(0,g.JM)(ie,Et,ht);return Nt&&new re(Nt)},deps:[[new k.FiY,te],me.Ot]};let Zt=(()=>{class Et{constructor(){(0,he.KN)("angularfire",g.q4.full,"fst")}}return Et.\u0275fac=function(Nt){return new(Nt||Et)},Et.\u0275mod=k.oAB({type:Et}),Et.\u0275inj=k.cJS({providers:[dt,An]}),Et})();function Dn(Et,...ht){return{ngModule:Zt,providers:[{provide:te,useFactory:Dt(Et),multi:!0,deps:[k.R0b,k.zs3,g.HU,me.z6,[new k.FiY,ue.dh],[new k.FiY,Pe.nm],...ht]}]}}const Cn=(0,g.u3)(Tt,!0),br=(0,g.u3)(xe,!0),Lr=(0,g.u3)(Ce.hJ,!0),Sn=(0,g.u3)(Ce.oe,!0),nt=(0,g.u3)(Ce.JU,!0),bt=(0,g.u3)(Ce.QT,!0),Ei=(0,g.u3)(Ce.ad,!0),wi=(0,g.u3)(Ce.pl,!0),pi=(0,g.u3)(Ce.r7,!0)},5813:(Ft,Ue,F)=>{"use strict";F.d(Ue,{q4:()=>Hr,HU:()=>au,vb:()=>gc,JM:()=>Bs,u3:()=>du});var g=F(4893),k=F(5867),ue=F(5861),me=F(9681),he=F(2090),Pe=F(4859),Ce=F(1877),ce=F(2940);const Me="@firebase/installations",Z="0.5.5",Ae=`w:${Z}`,xe="FIS_v2",qe=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(T){return T instanceof he.ZR&&T.code.includes("request-failed")}function Re({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Le(T){return{token:T.token,requestStatus:2,expiresIn:ie(T.expiresIn),creationTime:Date.now()}}function Ye(T,R){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,ue.Z)(function*(T,R){const ne=(yield R.json()).error;return qe.create("request-failed",{requestName:T,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function Be({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Yt(T,{refreshToken:R}){const G=Be(T);return G.append("Authorization",function ye(T){return`${xe} ${T}`}(R)),G}function ee(T){return re.apply(this,arguments)}function re(){return(re=(0,ue.Z)(function*(T){const R=yield T();return R.status>=500&&R.status<600?T():R})).apply(this,arguments)}function ie(T){return Number(T.replace("s","000"))}function Oe(T,R){return te.apply(this,arguments)}function te(){return(te=(0,ue.Z)(function*(T,{fid:R}){const G=Re(T),Fe={method:"POST",headers:Be(T),body:JSON.stringify({fid:R,authVersion:xe,appId:T.appId,sdkVersion:Ae})},pt=yield ee(()=>fetch(G,Fe));if(pt.ok){const kt=yield pt.json();return{fid:kt.fid||R,registrationStatus:2,refreshToken:kt.refreshToken,authToken:Le(kt.authToken)}}throw yield Ye("Create Installation",pt)})).apply(this,arguments)}function gt(T){return new Promise(R=>{setTimeout(R,T)})}const An=/^[cdef][\w-]{21}$/;function Zt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const G=function Dn(T){return function Dt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return An.test(G)?G:""}catch(T){return""}}function qt(T){return`${T.appName}!${T.appId}`}const Cn=new Map;function jt(T,R){const G=qt(T);Fn(G,R),function br(T,R){const G=function Ln(){return!tn&&"BroadcastChannel"in self&&(tn=new BroadcastChannel("[Firebase] FID Change"),tn.onmessage=T=>{Fn(T.data.key,T.data.fid)}),tn}();G&&G.postMessage({key:T,fid:R}),function xr(){0===Cn.size&&tn&&(tn.close(),tn=null)}()}(G,R)}function Fn(T,R){const G=Cn.get(T);if(G)for(const ne of G)ne(R)}let tn=null;const Jn="firebase-installations-store";let Lr=null;function fr(){return Lr||(Lr=(0,ce.openDb)("firebase-installations-database",1,T=>{0===T.oldVersion&&T.createObjectStore(Jn)})),Lr}function Qr(T,R){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,ue.Z)(function*(T,R){const G=qt(T),De=(yield fr()).transaction(Jn,"readwrite"),Fe=De.objectStore(Jn),pt=yield Fe.get(G);return yield Fe.put(R,G),yield De.complete,(!pt||pt.fid!==R.fid)&&jt(T,R.fid),R})).apply(this,arguments)}function In(T){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,ue.Z)(function*(T){const R=qt(T),ne=(yield fr()).transaction(Jn,"readwrite");yield ne.objectStore(Jn).delete(R),yield ne.complete})).apply(this,arguments)}function nt(T,R){return bn.apply(this,arguments)}function bn(){return(bn=(0,ue.Z)(function*(T,R){const G=qt(T),De=(yield fr()).transaction(Jn,"readwrite"),Fe=De.objectStore(Jn),pt=yield Fe.get(G),kt=R(pt);return void 0===kt?yield Fe.delete(G):yield Fe.put(kt,G),yield De.complete,kt&&(!pt||pt.fid!==kt.fid)&&jt(T,kt.fid),kt})).apply(this,arguments)}function an(T){return pn.apply(this,arguments)}function pn(){return(pn=(0,ue.Z)(function*(T){let R;const G=yield nt(T,ne=>{const De=sr(ne),Fe=nn(T,De);return R=Fe.registrationPromise,Fe.installationEntry});return""===G.fid?{installationEntry:yield R}:{installationEntry:G,registrationPromise:R}})).apply(this,arguments)}function sr(T){return ii(T||{fid:Zt(),registrationStatus:0})}function nn(T,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(qe.create("app-offline"))};const G={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},ne=function et(T,R){return bt.apply(this,arguments)}(T,G);return{installationEntry:G,registrationPromise:ne}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:Tr(T)}:{installationEntry:R}}function bt(){return(bt=(0,ue.Z)(function*(T,R){try{return Qr(T,yield Oe(T,R))}catch(G){throw $e(G)&&409===G.customData.serverCode?yield In(T):yield Qr(T,{fid:R.fid,registrationStatus:0}),G}})).apply(this,arguments)}function Tr(T){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,ue.Z)(function*(T){let R=yield Xn(T);for(;1===R.registrationStatus;)yield gt(100),R=yield Xn(T);if(0===R.registrationStatus){const{installationEntry:G,registrationPromise:ne}=yield an(T);return ne||G}return R})).apply(this,arguments)}function Xn(T){return nt(T,R=>{if(!R)throw qe.create("installation-not-found");return ii(R)})}function ii(T){return function or(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Ei(T,R){return de.apply(this,arguments)}function de(){return(de=(0,ue.Z)(function*({appConfig:T,platformLoggerProvider:R},G){const ne=oe(T,G),De=Yt(T,G),Fe=R.getImmediate({optional:!0});Fe&&De.append("x-firebase-client",Fe.getPlatformInfoString());const kt={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:Ae}})},Ct=yield ee(()=>fetch(ne,kt));if(Ct.ok)return Le(yield Ct.json());throw yield Ye("Generate Auth Token",Ct)})).apply(this,arguments)}function oe(T,{fid:R}){return`${Re(T)}/${R}/authTokens:generate`}function ve(T){return je.apply(this,arguments)}function je(){return(je=(0,ue.Z)(function*(T,R=!1){let G;const ne=yield nt(T.appConfig,Fe=>{if(!Vn(Fe))throw qe.create("not-registered");const pt=Fe.authToken;if(!R&&Gn(pt))return Fe;if(1===pt.requestStatus)return G=we(T,R),Fe;{if(!navigator.onLine)throw qe.create("app-offline");const kt=dn(Fe);return G=gn(T,kt),kt}});return G?yield G:ne.authToken})).apply(this,arguments)}function we(T,R){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,ue.Z)(function*(T,R){let G=yield St(T.appConfig);for(;1===G.authToken.requestStatus;)yield gt(100),G=yield St(T.appConfig);const ne=G.authToken;return 0===ne.requestStatus?ve(T,R):ne})).apply(this,arguments)}function St(T){return nt(T,R=>{if(!Vn(R))throw qe.create("not-registered");return function Vr(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function gn(T,R){return On.apply(this,arguments)}function On(){return(On=(0,ue.Z)(function*(T,R){try{const G=yield Ei(T,R),ne=Object.assign(Object.assign({},R),{authToken:G});return yield Qr(T.appConfig,ne),G}catch(G){if(!$e(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ne=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Qr(T.appConfig,ne)}else yield In(T.appConfig);throw G}})).apply(this,arguments)}function Vn(T){return void 0!==T&&2===T.registrationStatus}function Gn(T){return 2===T.requestStatus&&!function Ut(T){const R=Date.now();return R<T.creationTime||T.creationTime+T.expiresIn<R+36e5}(T)}function dn(T){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:R})}function ar(){return(ar=(0,ue.Z)(function*(T){const R=T,{installationEntry:G,registrationPromise:ne}=yield an(R.appConfig);return ne?ne.catch(console.error):ve(R).catch(console.error),G.fid})).apply(this,arguments)}function pr(){return(pr=(0,ue.Z)(function*(T,R=!1){const G=T;return yield sn(G.appConfig),(yield ve(G,R)).token})).apply(this,arguments)}function sn(T){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,ue.Z)(function*(T){const{registrationPromise:R}=yield an(T);R&&(yield R)})).apply(this,arguments)}function Hn(T){return qe.create("missing-app-config-values",{valueName:T})}const mn="installations",Zn=T=>{const R=T.getProvider("app").getImmediate(),G=function un(T){if(!T||!T.options)throw Hn("App Configuration");if(!T.name)throw Hn("App Name");const R=["projectId","apiKey","appId"];for(const G of R)if(!T.options[G])throw Hn(G);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(R);return{app:R,appConfig:G,platformLoggerProvider:(0,me.qX)(R,"platform-logger"),_delete:()=>Promise.resolve()}},yn=T=>{const R=T.getProvider("app").getImmediate(),G=(0,me.qX)(R,mn).getImmediate();return{getId:()=>function wi(T){return ar.apply(this,arguments)}(G),getToken:De=>function si(T){return pr.apply(this,arguments)}(G,De)}};(function ki(){(0,me.Xd)(new Pe.wA(mn,Zn,"PUBLIC")),(0,me.Xd)(new Pe.wA("installations-internal",yn,"PRIVATE"))})(),(0,me.KN)(Me,Z),(0,me.KN)(Me,Z,"esm2017");const er="@firebase/remote-config",tr=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pr{constructor(R,G,ne,De){this.client=R,this.storage=G,this.storageCache=ne,this.logger=De}isCachedDataFresh(R,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-G,De=ne<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${De}.`),De}fetch(R){var G=this;return(0,ue.Z)(function*(){const[ne,De]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(De&&G.isCachedDataFresh(R.cacheMaxAgeMillis,ne))return De;R.eTag=De&&De.eTag;const Fe=yield G.client.fetch(R),pt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&pt.push(G.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(pt),Fe})()}}function Rr(T=navigator){return T.languages&&T.languages[0]||T.language}class Ar{constructor(R,G,ne,De,Fe,pt){this.firebaseInstallations=R,this.sdkVersion=G,this.namespace=ne,this.projectId=De,this.apiKey=Fe,this.appId=pt}fetch(R){var G=this;return(0,ue.Z)(function*(){const[ne,De]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Ct={sdk_version:G.sdkVersion,app_instance_id:ne,app_instance_id_token:De,app_id:G.appId,language_code:Rr()},xn={method:"POST",headers:kt,body:JSON.stringify(Ct)},$n=fetch(pt,xn),Si=new Promise((ms,Ao)=>{R.signal.addEventListener(()=>{const So=new Error("The operation was aborted.");So.name="AbortError",Ao(So)})});let ti;try{yield Promise.race([$n,Si]),ti=yield $n}catch(ms){let Ao="fetch-client-network";throw"AbortError"===ms.name&&(Ao="fetch-timeout"),tr.create(Ao,{originalErrorMessage:ms.message})}let di=ti.status;const ha=ti.headers.get("ETag")||void 0;let ja,$s;if(200===ti.status){let ms;try{ms=yield ti.json()}catch(Ao){throw tr.create("fetch-client-parse",{originalErrorMessage:Ao.message})}ja=ms.entries,$s=ms.state}if("INSTANCE_STATE_UNSPECIFIED"===$s?di=500:"NO_CHANGE"===$s?di=304:("NO_TEMPLATE"===$s||"EMPTY_CONFIG"===$s)&&(ja={}),304!==di&&200!==di)throw tr.create("fetch-status",{httpStatus:di});return{status:di,eTag:ha,config:ja}})()}}class Ci{constructor(R,G){this.client=R,this.storage=G}fetch(R){var G=this;return(0,ue.Z)(function*(){const ne=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(R,ne)})()}attemptFetch(R,{throttleEndTimeMillis:G,backoffCount:ne}){var De=this;return(0,ue.Z)(function*(){yield function Gr(T,R){return new Promise((G,ne)=>{const De=Math.max(R-Date.now(),0),Fe=setTimeout(G,De);T.addEventListener(()=>{clearTimeout(Fe),ne(tr.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,G);try{const Fe=yield De.client.fetch(R);return yield De.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function Di(T){if(!(T instanceof he.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Fe))throw Fe;const pt={throttleEndTimeMillis:Date.now()+(0,he.$s)(ne),backoffCount:ne+1};return yield De.storage.setThrottleMetadata(pt),De.attemptFetch(R,pt)}})()}}class ns{constructor(R,G,ne,De,Fe){this.app=R,this._client=G,this._storageCache=ne,this._storage=De,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rs(T,R){const G=T.target.error||void 0;return tr.create(R,{originalErrorMessage:G&&G.message})}const Fi="app_namespace_store";class Li{constructor(R,G,ne,De=function ss(){return new Promise((T,R)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ne=>{R(rs(ne,"storage-open"))},G.onsuccess=ne=>{T(ne.target.result)},G.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Fi,{keyPath:"compositeKey"})}}catch(G){R(tr.create("storage-open",{originalErrorMessage:G}))}})}()){this.appId=R,this.appName=G,this.namespace=ne,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var G=this;return(0,ue.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((De,Fe)=>{const kt=ne.transaction([Fi],"readonly").objectStore(Fi),Ct=G.createCompositeKey(R);try{const xn=kt.get(Ct);xn.onerror=$n=>{Fe(rs($n,"storage-get"))},xn.onsuccess=$n=>{const Si=$n.target.result;De(Si?Si.value:void 0)}}catch(xn){Fe(tr.create("storage-get",{originalErrorMessage:xn&&xn.message}))}})})()}set(R,G){var ne=this;return(0,ue.Z)(function*(){const De=yield ne.openDbPromise;return new Promise((Fe,pt)=>{const Ct=De.transaction([Fi],"readwrite").objectStore(Fi),xn=ne.createCompositeKey(R);try{const $n=Ct.put({compositeKey:xn,value:G});$n.onerror=Si=>{pt(rs(Si,"storage-set"))},$n.onsuccess=()=>{Fe()}}catch($n){pt(tr.create("storage-set",{originalErrorMessage:$n&&$n.message}))}})})()}delete(R){var G=this;return(0,ue.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((De,Fe)=>{const kt=ne.transaction([Fi],"readwrite").objectStore(Fi),Ct=G.createCompositeKey(R);try{const xn=kt.delete(Ct);xn.onerror=$n=>{Fe(rs($n,"storage-delete"))},xn.onsuccess=()=>{De()}}catch(xn){Fe(tr.create("storage-delete",{originalErrorMessage:xn&&xn.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class cs{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,ue.Z)(function*(){const G=R.storage.getLastFetchStatus(),ne=R.storage.getLastSuccessfulFetchTimestampMillis(),De=R.storage.getActiveConfig(),Fe=yield G;Fe&&(R.lastFetchStatus=Fe);const pt=yield ne;pt&&(R.lastSuccessfulFetchTimestampMillis=pt);const kt=yield De;kt&&(R.activeConfig=kt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function ls(){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,ue.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(T){return!1}})).apply(this,arguments)}!function Vi(){(0,me.Xd)(new Pe.wA("remote-config",function T(R,{instanceIdentifier:G}){const ne=R.getProvider("app").getImmediate(),De=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw tr.create("registration-window");if(!(0,he.hl)())throw tr.create("indexed-db-unavailable");const{projectId:Fe,apiKey:pt,appId:kt}=ne.options;if(!Fe)throw tr.create("registration-project-id");if(!pt)throw tr.create("registration-api-key");if(!kt)throw tr.create("registration-app-id");const Ct=new Li(kt,ne.name,G=G||"firebase"),xn=new cs(Ct),$n=new Ce.Yd(er);$n.logLevel=Ce.in.ERROR;const Si=new Ar(De,me.Jn,G,Fe,pt,kt),ti=new Ci(Si,Ct),di=new Pr(ti,Ct,xn,$n),ha=new ns(ne,di,xn,Ct,$n);return function pe(T){const R=(0,he.m9)(T);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(ha),ha},"PUBLIC").setMultipleInstances(!0)),(0,me.KN)(er,"0.3.4"),(0,me.KN)(er,"0.3.4","esm2017")}();const bi="/firebase-messaging-sw.js",Qi="/firebase-cloud-messaging-push-scope",ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oi="google.c.a.c_id",Rs="google.c.a.c_l",kr="google.c.a.ts",yi="google.c.a.e";var K=(()=>{return(T=K||(K={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",K;var T})();function $(T){const R=new Uint8Array(T);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ge(T){const G=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(G),De=new Uint8Array(ne.length);for(let Fe=0;Fe<ne.length;++Fe)De[Fe]=ne.charCodeAt(Fe);return De}const Se="fcm_token_details_db",Pt="fcm_token_object_Store";function Tn(T){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,ue.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Se))return null;let R=null;return(yield(0,ce.openDb)(Se,5,function(){var ne=(0,ue.Z)(function*(De){var Fe;if(De.oldVersion<2||!De.objectStoreNames.contains(Pt))return;const pt=De.transaction.objectStore(Pt),kt=yield pt.index("fcmSenderId").get(T);if(yield pt.clear(),kt)if(2===De.oldVersion){const Ct=kt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;R={token:Ct.fcmToken,createTime:null!==(Fe=Ct.createTime)&&void 0!==Fe?Fe:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:$(Ct.vapidKey)}}}else if(3===De.oldVersion){const Ct=kt;R={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:$(Ct.auth),p256dh:$(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:$(Ct.vapidKey)}}}else if(4===De.oldVersion){const Ct=kt;R={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:$(Ct.auth),p256dh:$(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:$(Ct.vapidKey)}}}});return function(De){return ne.apply(this,arguments)}}())).close(),yield(0,ce.deleteDb)(Se),yield(0,ce.deleteDb)("fcm_vapid_details_db"),yield(0,ce.deleteDb)("undefined"),Er(R)?R:null}),Bn.apply(this,arguments)}function Er(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:R}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const ai="firebase-messaging-store";let os=null;function ui(){return os||(os=(0,ce.openDb)("firebase-messaging-database",1,T=>{0===T.oldVersion&&T.createObjectStore(ai)})),os}function x(T){return U.apply(this,arguments)}function U(){return(U=(0,ue.Z)(function*(T){const R=st(T),ne=yield(yield ui()).transaction(ai).objectStore(ai).get(R);if(ne)return ne;{const De=yield Tn(T.appConfig.senderId);if(De)return yield O(T,De),De}})).apply(this,arguments)}function O(T,R){return W.apply(this,arguments)}function W(){return(W=(0,ue.Z)(function*(T,R){const G=st(T),De=(yield ui()).transaction(ai,"readwrite");return yield De.objectStore(ai).put(R,G),yield De.complete,R})).apply(this,arguments)}function ae(T){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,ue.Z)(function*(T){const R=st(T),ne=(yield ui()).transaction(ai,"readwrite");yield ne.objectStore(ai).delete(R),yield ne.complete})).apply(this,arguments)}function st({appConfig:T}){return T.appId}const Qt=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rr(T,R){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,ue.Z)(function*(T,R){const G=yield Sr(T),ne=ci(R),De={method:"POST",headers:G,body:JSON.stringify(ne)};let Fe;try{Fe=yield(yield fetch(Bi(T.appConfig),De)).json()}catch(pt){throw Qt.create("token-subscribe-failed",{errorInfo:pt})}if(Fe.error)throw Qt.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Qt.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function cn(T,R){return jn.apply(this,arguments)}function jn(){return(jn=(0,ue.Z)(function*(T,R){const G=yield Sr(T),ne=ci(R.subscriptionOptions),De={method:"PATCH",headers:G,body:JSON.stringify(ne)};let Fe;try{Fe=yield(yield fetch(`${Bi(T.appConfig)}/${R.token}`,De)).json()}catch(pt){throw Qt.create("token-update-failed",{errorInfo:pt})}if(Fe.error)throw Qt.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Qt.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function Wn(T,R){return vr.apply(this,arguments)}function vr(){return(vr=(0,ue.Z)(function*(T,R){const ne={method:"DELETE",headers:yield Sr(T)};try{const Fe=yield(yield fetch(`${Bi(T.appConfig)}/${R}`,ne)).json();if(Fe.error)throw Qt.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(De){throw Qt.create("token-unsubscribe-failed",{errorInfo:De})}})).apply(this,arguments)}function Bi({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Sr(T){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,ue.Z)(function*({appConfig:T,installations:R}){const G=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function ci({p256dh:T,auth:R,endpoint:G,vapidKey:ne}){const De={web:{endpoint:G,auth:R,p256dh:T}};return ne!==ds&&(De.web.applicationPubKey=ne),De}const M=6048e5;function S(T){return C.apply(this,arguments)}function C(){return(C=(0,ue.Z)(function*(T){const R=yield _n(T.swRegistration,T.vapidKey),G={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:R.endpoint,auth:$(R.getKey("auth")),p256dh:$(R.getKey("p256dh"))},ne=yield x(T.firebaseDependencies);if(ne){if(Mr(ne.subscriptionOptions,G))return Date.now()>=ne.createTime+M?Rt(T,{token:ne.token,createTime:Date.now(),subscriptionOptions:G}):ne.token;try{yield Wn(T.firebaseDependencies,ne.token)}catch(De){console.warn(De)}return En(T.firebaseDependencies,G)}return En(T.firebaseDependencies,G)})).apply(this,arguments)}function H(T){return He.apply(this,arguments)}function He(){return(He=(0,ue.Z)(function*(T){const R=yield x(T.firebaseDependencies);R&&(yield Wn(T.firebaseDependencies,R.token),yield ae(T.firebaseDependencies));const G=yield T.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function Rt(T,R){return ur.apply(this,arguments)}function ur(){return(ur=(0,ue.Z)(function*(T,R){try{const G=yield cn(T.firebaseDependencies,R),ne=Object.assign(Object.assign({},R),{token:G,createTime:Date.now()});return yield O(T.firebaseDependencies,ne),G}catch(G){throw yield H(T),G}})).apply(this,arguments)}function En(T,R){return tt.apply(this,arguments)}function tt(){return(tt=(0,ue.Z)(function*(T,R){const ne={token:yield rr(T,R),createTime:Date.now(),subscriptionOptions:R};return yield O(T,ne),ne.token})).apply(this,arguments)}function _n(T,R){return hs.apply(this,arguments)}function hs(){return(hs=(0,ue.Z)(function*(T,R){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ge(R)})})).apply(this,arguments)}function Mr(T,R){return R.vapidKey===T.vapidKey&&R.endpoint===T.endpoint&&R.auth===T.auth&&R.p256dh===T.p256dh}function Ns(T){const R={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function ko(T,R){if(!R.notification)return;T.notification={};const G=R.notification.title;G&&(T.notification.title=G);const ne=R.notification.body;ne&&(T.notification.body=ne);const De=R.notification.image;De&&(T.notification.image=De)}(R,T),function as(T,R){!R.data||(T.data=R.data)}(R,T),function io(T,R){if(!R.fcmOptions)return;T.fcmOptions={};const G=R.fcmOptions.link;G&&(T.fcmOptions.link=G);const ne=R.fcmOptions.analytics_label;ne&&(T.fcmOptions.analyticsLabel=ne)}(R,T),R}function Fo(T){return"object"==typeof T&&!!T&&oi in T}function Jo(T,R){const G=[];for(let ne=0;ne<T.length;ne++)G.push(T.charAt(ne)),ne<R.length&&G.push(R.charAt(ne));return G.join("")}function ks(T){return Qt.create("missing-app-config-values",{valueName:T})}Jo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Oa{constructor(R,G,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function Ps(T){if(!T||!T.options)throw ks("App Configuration Object");if(!T.name)throw ks("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:G}=T;for(const ne of R)if(!G[ne])throw ks(ne);return{appName:T.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:De,installations:G,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function qr(T){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,ue.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(bi,{scope:Qi}),T.swRegistration.update().catch(()=>{})}catch(R){throw Qt.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function Lo(T,R){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,ue.Z)(function*(T,R){if(!R&&!T.swRegistration&&(yield qr(T)),R||!T.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Qt.create("invalid-sw-registration");T.swRegistration=R}})).apply(this,arguments)}function ji(T,R){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,ue.Z)(function*(T,R){R?T.vapidKey=R:T.vapidKey||(T.vapidKey=ds)})).apply(this,arguments)}function Vo(){return(Vo=(0,ue.Z)(function*(T,R){if(!navigator)throw Qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qt.create("permission-blocked");return yield ji(T,null==R?void 0:R.vapidKey),yield Lo(T,null==R?void 0:R.serviceWorkerRegistration),S(T)})).apply(this,arguments)}function Ra(T,R,G){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,ue.Z)(function*(T,R,G){const ne=oo(R);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:G[oi],message_name:G[Rs],message_time:G[kr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oo(T){switch(T){case K.NOTIFICATION_CLICKED:return"notification_open";case K.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ls(){return(Ls=(0,ue.Z)(function*(T,R){const G=R.data;if(!G.isFirebaseMessaging)return;T.onMessageHandler&&G.messageType===K.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Ns(G)):T.onMessageHandler.next(Ns(G)));const ne=G.data;Fo(ne)&&"1"===ne[yi]&&(yield Ra(T,G.messageType,ne))})).apply(this,arguments)}const Bo="@firebase/messaging",jo=T=>{const R=new Oa(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function Na(T,R){return Ls.apply(this,arguments)}(R,G)),R},$o=T=>{const R=T.getProvider("messaging").getImmediate();return{getToken:ne=>function so(T,R){return Vo.apply(this,arguments)}(R,ne)}};function ea(){return bs.apply(this,arguments)}function bs(){return(bs=(0,ue.Z)(function*(){try{yield(0,he.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pa(){(0,me.Xd)(new Pe.wA("messaging",jo,"PUBLIC")),(0,me.Xd)(new Pe.wA("messaging-internal",$o,"PRIVATE")),(0,me.KN)(Bo,"0.9.8"),(0,me.KN)(Bo,"0.9.8","esm2017")}();const fs="analytics",ao="firebase_id",na="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ho="https://www.googletagmanager.com/gtag/js",qn=new Ce.Yd("@firebase/analytics");function wo(T){return Promise.all(T.map(R=>R.catch(G=>G)))}function Ts(T,R){const G=document.createElement("script");G.src=`${Ho}?l=${T}&id=${R}`,G.async=!0,document.head.appendChild(G)}function Gi(T,R,G,ne,De,Fe){return lr.apply(this,arguments)}function lr(){return(lr=(0,ue.Z)(function*(T,R,G,ne,De,Fe){const pt=ne[De];try{if(pt)yield R[pt];else{const Ct=(yield wo(G)).find(xn=>xn.measurementId===De);Ct&&(yield R[Ct.appId])}}catch(kt){qn.error(kt)}T("config",De,Fe)})).apply(this,arguments)}function Io(T,R,G,ne,De){return As.apply(this,arguments)}function As(){return(As=(0,ue.Z)(function*(T,R,G,ne,De){try{let Fe=[];if(De&&De.send_to){let pt=De.send_to;Array.isArray(pt)||(pt=[pt]);const kt=yield wo(G);for(const Ct of pt){const xn=kt.find(Si=>Si.measurementId===Ct),$n=xn&&R[xn.appId];if(!$n){Fe=[];break}Fe.push($n)}}0===Fe.length&&(Fe=Object.values(R)),yield Promise.all(Fe),T("event",ne,De||{})}catch(Fe){qn.error(Fe)}})).apply(this,arguments)}function yt(){const T=window.document.getElementsByTagName("script");for(const R of Object.values(T))if(R.src&&R.src.includes(Ho))return R;return null}const li=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Va=new class en{constructor(R={},G=1e3){this.throttleMetadata=R,this.intervalMillis=G}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,G){this.throttleMetadata[R]=G}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function ft(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function ze(T){return ct.apply(this,arguments)}function ct(){return(ct=(0,ue.Z)(function*(T){var R;const{appId:G,apiKey:ne}=T,De={method:"GET",headers:ft(ne)},Fe=na.replace("{app-id}",G),pt=yield fetch(Fe,De);if(200!==pt.status&&304!==pt.status){let kt="";try{const Ct=yield pt.json();(null===(R=Ct.error)||void 0===R?void 0:R.message)&&(kt=Ct.error.message)}catch(Ct){}throw li.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:kt})}return pt.json()})).apply(this,arguments)}function Fr(T){return Do.apply(this,arguments)}function Do(){return(Do=(0,ue.Z)(function*(T,R=Va,G){const{appId:ne,apiKey:De,measurementId:Fe}=T.options;if(!ne)throw li.create("no-app-id");if(!De){if(Fe)return{measurementId:Fe,appId:ne};throw li.create("no-api-key")}const pt=R.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},kt=new uo;return setTimeout((0,ue.Z)(function*(){kt.abort()}),void 0!==G?G:6e4),Zs({appId:ne,apiKey:De,measurementId:Fe},pt,kt,R)})).apply(this,arguments)}function Zs(T,R,G){return zo.apply(this,arguments)}function zo(){return(zo=(0,ue.Z)(function*(T,{throttleEndTimeMillis:R,backoffCount:G},ne,De=Va){const{appId:Fe,measurementId:pt}=T;try{yield Wo(ne,R)}catch(kt){if(pt)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${kt.message}]`),{appId:Fe,measurementId:pt};throw kt}try{const kt=yield ze(T);return De.deleteThrottleMetadata(Fe),kt}catch(kt){if(!hc(kt)){if(De.deleteThrottleMetadata(Fe),pt)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${kt.message}]`),{appId:Fe,measurementId:pt};throw kt}const Ct=503===Number(kt.customData.httpStatus)?(0,he.$s)(G,De.intervalMillis,30):(0,he.$s)(G,De.intervalMillis),xn={throttleEndTimeMillis:Date.now()+Ct,backoffCount:G+1};return De.setThrottleMetadata(Fe,xn),qn.debug(`Calling attemptFetch again in ${Ct} millis`),Zs(T,xn,ne,De)}})).apply(this,arguments)}function Wo(T,R){return new Promise((G,ne)=>{const De=Math.max(R-Date.now(),0),Fe=setTimeout(G,De);T.addEventListener(()=>{clearTimeout(Fe),ne(li.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function hc(T){if(!(T instanceof he.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}class uo{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}function ra(){return co.apply(this,arguments)}function co(){return(co=(0,ue.Z)(function*(){if(!(0,he.hl)())return qn.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(T){return qn.warn(li.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function Xr(){return(Xr=(0,ue.Z)(function*(T,R,G,ne,De,Fe,pt){var kt;const Ct=Fr(T);Ct.then(di=>{G[di.measurementId]=di.appId,T.options.measurementId&&di.measurementId!==T.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(di=>qn.error(di)),R.push(Ct);const xn=ra().then(di=>{if(di)return ne.getId()}),[$n,Si]=yield Promise.all([Ct,xn]);yt()||Ts(Fe,$n.measurementId),De("js",new Date);const ti=null!==(kt=null==pt?void 0:pt.config)&&void 0!==kt?kt:{};return ti.origin="firebase",ti.update=!0,null!=Si&&(ti[ao]=Si),De("config",$n.measurementId,ti),$n.measurementId})).apply(this,arguments)}class sa{constructor(R){this.app=R}_delete(){return delete w[this.app.options.appId],Promise.resolve()}}let w={},v=[];const m={};let V,J,A="dataLayer",le=!1;function Mt(T,R,G){!function xt(){const T=[];if((0,he.ru)()&&T.push("This is a browser extension environment."),(0,he.zI)()||T.push("Cookies are not available."),T.length>0){const R=T.map((ne,De)=>`(${De+1}) ${ne}`).join(" "),G=li.create("invalid-analytics-context",{errorInfo:R});qn.warn(G.message)}}();const ne=T.options.appId;if(!ne)throw li.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw li.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=w[ne])throw li.create("already-exists",{id:ne});if(!le){!function La(T){let R=[];Array.isArray(window[T])?R=window[T]:window[T]=R}(A);const{wrappedGtag:Fe,gtagCore:pt}=function Nu(T,R,G,ne,De){let Fe=function(...pt){window[ne].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Fe=window[De]),window[De]=function Ks(T,R,G,ne){function Fe(){return(Fe=(0,ue.Z)(function*(pt,kt,Ct){try{"event"===pt?yield Io(T,R,G,kt,Ct):"config"===pt?yield Gi(T,R,G,ne,kt,Ct):T("set",kt)}catch(xn){qn.error(xn)}})).apply(this,arguments)}return function De(pt,kt,Ct){return Fe.apply(this,arguments)}}(Fe,T,R,G),{gtagCore:Fe,wrappedGtag:window[De]}}(w,v,m,A,"gtag");J=Fe,V=pt,le=!0}return w[ne]=function ia(T,R,G,ne,De,Fe,pt){return Xr.apply(this,arguments)}(T,v,m,R,V,A,G),new sa(T)}function on(){return(on=(0,ue.Z)(function*(T,R,G,ne,De){if(De&&De.global)T("event",G,ne);else{const Fe=yield R;T("event",G,Object.assign(Object.assign({},ne),{send_to:Fe}))}})).apply(this,arguments)}function ku(){return ws.apply(this,arguments)}function ws(){return(ws=(0,ue.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(T){return!1}})).apply(this,arguments)}const oa="@firebase/analytics";!function aa(){(0,me.Xd)(new Pe.wA(fs,(R,{options:G})=>Mt(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,me.Xd)(new Pe.wA("analytics-internal",function T(R){try{const G=R.getProvider(fs).getImmediate();return{logEvent:(ne,De,Fe)=>function td(T,R,G,ne){T=(0,he.m9)(T),function Wt(T,R,G,ne,De){return on.apply(this,arguments)}(J,w[T.app.options.appId],R,G,ne).catch(De=>qn.error(De))}(G,ne,De,Fe)}}catch(G){throw li.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,me.KN)(oa,"0.7.5"),(0,me.KN)(oa,"0.7.5","esm2017")}();var ru=F(4408),lo=F(640);const ei=new class iu extends lo.v{}(class Fu extends ru.o{constructor(R,G){super(R,G),this.scheduler=R,this.work=G}schedule(R,G=0){return G>0?super.schedule(R,G):(this.delay=G,this.state=R,this.scheduler.flush(this),this)}execute(R,G){return G>0||this.closed?super.execute(R,G):this._execute(R,G)}requestAsyncId(R,G,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(R,G,ne):R.flush(this)}});var Qs=F(4986),su=F(8306),rl=F(8505),Ti=F(9468),gs=F(5363);const Hr=new g.GfV("7.2.1"),ho="__angularfire_symbol__analyticsIsSupportedValue",wr="__angularfire_symbol__analyticsIsSupported",ca="__angularfire_symbol__remoteConfigIsSupportedValue",la="__angularfire_symbol__remoteConfigIsSupported",fo="__angularfire_symbol__messagingIsSupportedValue",da="__angularfire_symbol__messagingIsSupported";function Bs(T,R,G){if(R){if(1===R.length)return R[0];const Fe=R.filter(pt=>pt.app===G);if(1===Fe.length)return Fe[0]}return G.container.getProvider(T).getImmediate({optional:!0})}globalThis[wr]||(globalThis[wr]=ku().then(T=>globalThis[ho]=T).catch(()=>globalThis[ho]=!1)),globalThis[da]||(globalThis[da]=ea().then(T=>globalThis[fo]=T).catch(()=>globalThis[fo]=!1)),globalThis[la]||(globalThis[la]=ls().then(T=>globalThis[ca]=T).catch(()=>globalThis[ca]=!1));const gc=(T,R)=>{const G=R?[R]:(0,k.C6)(),ne=[];return G.forEach(De=>{De.container.getProvider(T).instances.forEach(pt=>{ne.includes(pt)||ne.push(pt)})}),ne};function zr(){}class ou{constructor(R,G=ei){this.zone=R,this.delegate=G}now(){return this.delegate.now()}schedule(R,G,ne){const De=this.zone;return this.delegate.schedule(function(pt){De.runGuarded(()=>{R.apply(this,[pt])})},G,ne)}}class sl{constructor(R){this.zone=R,this.task=null}call(R,G){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zr,{},zr,zr)),G.pipe((0,rl.b)({next:ne,complete:ne,error:ne})).subscribe(R).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let au=(()=>{class T{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new ou(Zone.current)),this.insideAngular=G.run(()=>new ou(Zone.current,Qs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(G){return new(G||T)(g.LFG(g.R0b))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function To(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function ol(T){return To().ngZone.runOutsideAngular(()=>T())}function Js(T){return To().ngZone.run(()=>T())}function cu(T){return To(),function js(T){return function(G){return(G=G.lift(new sl(T.ngZone))).pipe((0,Ti.R)(T.outsideAngular),(0,gs.Q)(T.insideAngular))}}(To())(T)}const lu=(T,R)=>function(){const ne=arguments;return R&&setTimeout(()=>{"scheduled"===R.state&&R.invoke()},10),Js(()=>T.apply(void 0,ne))},du=(T,R)=>function(){let G;const ne=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof ne[Fe]&&(R&&(G||(G=Js(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zr,{},zr,zr)))),ne[Fe]=lu(ne[Fe],G));const De=ol(()=>T.apply(this,ne));if(!R){if(De instanceof su.y){const Fe=To();return De.pipe((0,Ti.R)(Fe.outsideAngular),(0,gs.Q)(Fe.insideAngular))}return Js(()=>De)}return De instanceof su.y?De.pipe(cu):De instanceof Promise?Js(()=>new Promise((Fe,pt)=>De.then(kt=>Js(()=>Fe(kt)),kt=>Js(()=>pt(kt))))):"function"==typeof De&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),De.apply(this,arguments)}:Js(()=>De)}},2090:(Ft,Ue,F)=>{"use strict";F.d(Ue,{$s:()=>Xn,BH:()=>xe,LL:()=>te,Mn:()=>Ye,US:()=>Pe,ZR:()=>Oe,b$:()=>$e,d:()=>Re,eu:()=>ee,hl:()=>Yt,m9:()=>Ei,ne:()=>Lr,pd:()=>Nr,ru:()=>qe,tV:()=>Me,uI:()=>Je,vZ:()=>tn,w1:()=>Le,xO:()=>xr,xb:()=>Fn,z$:()=>rt,zI:()=>re,zd:()=>Ir});const Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,oe){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ve=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let we=0;we<de.length;we+=3){const Ze=de[we],St=we+1<de.length,gn=St?de[we+1]:0,On=we+2<de.length,Vn=On?de[we+2]:0;let dn=(15&gn)<<2|Vn>>6,Vr=63&Vn;On||(Vr=64,St||(dn=64)),je.push(ve[Ze>>2],ve[(3&Ze)<<4|gn>>4],ve[dn],ve[Vr])}return je.join("")},encodeString(de,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(de):this.encodeByteArray(function(de){const oe=[];let ve=0;for(let je=0;je<de.length;je++){let we=de.charCodeAt(je);we<128?oe[ve++]=we:we<2048?(oe[ve++]=we>>6|192,oe[ve++]=63&we|128):55296==(64512&we)&&je+1<de.length&&56320==(64512&de.charCodeAt(je+1))?(we=65536+((1023&we)<<10)+(1023&de.charCodeAt(++je)),oe[ve++]=we>>18|240,oe[ve++]=we>>12&63|128,oe[ve++]=we>>6&63|128,oe[ve++]=63&we|128):(oe[ve++]=we>>12|224,oe[ve++]=we>>6&63|128,oe[ve++]=63&we|128)}return oe}(de),oe)},decodeString(de,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(de):function(de){const oe=[];let ve=0,je=0;for(;ve<de.length;){const we=de[ve++];if(we<128)oe[je++]=String.fromCharCode(we);else if(we>191&&we<224){const Ze=de[ve++];oe[je++]=String.fromCharCode((31&we)<<6|63&Ze)}else if(we>239&&we<365){const On=((7&we)<<18|(63&de[ve++])<<12|(63&de[ve++])<<6|63&de[ve++])-65536;oe[je++]=String.fromCharCode(55296+(On>>10)),oe[je++]=String.fromCharCode(56320+(1023&On))}else{const Ze=de[ve++],St=de[ve++];oe[je++]=String.fromCharCode((15&we)<<12|(63&Ze)<<6|63&St)}}return oe.join("")}(this.decodeStringToByteArray(de,oe))},decodeStringToByteArray(de,oe){this.init_();const ve=oe?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let we=0;we<de.length;){const Ze=ve[de.charAt(we++)],gn=we<de.length?ve[de.charAt(we)]:0;++we;const Vn=we<de.length?ve[de.charAt(we)]:64;++we;const Ut=we<de.length?ve[de.charAt(we)]:64;if(++we,null==Ze||null==gn||null==Vn||null==Ut)throw Error();je.push(Ze<<2|gn>>4),64!==Vn&&(je.push(gn<<4&240|Vn>>2),64!==Ut&&je.push(Vn<<6&192|Ut))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},Me=function(de){try{return Pe.decodeString(de,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,ve)=>{this.resolve=oe,this.reject=ve})}wrapCallback(oe){return(ve,je)=>{ve?this.reject(ve):this.resolve(je),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(ve):oe(ve,je))}}}function rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function qe(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return rt().indexOf("Electron/")>=0}function Le(){const de=rt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Ye(){return rt().indexOf("MSAppHost/")>=0}function Yt(){return"object"==typeof indexedDB}function ee(){return new Promise((de,oe)=>{try{let ve=!0;const je="validate-browser-context-for-indexeddb-analytics-module",we=self.indexedDB.open(je);we.onsuccess=()=>{we.result.close(),ve||self.indexedDB.deleteDatabase(je),de(!0)},we.onupgradeneeded=()=>{ve=!1},we.onerror=()=>{var Ze;oe((null===(Ze=we.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(ve){oe(ve)}})}function re(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Oe extends Error{constructor(oe,ve,je){super(ve),this.code=oe,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(oe,ve,je){this.service=oe,this.serviceName=ve,this.errors=je}create(oe,...ve){const je=ve[0]||{},we=`${this.service}/${oe}`,Ze=this.errors[oe],St=Ze?function gt(de,oe){return de.replace(Dt,(ve,je)=>{const we=oe[je];return null!=we?String(we):`<${je}?>`})}(Ze,je):"Error";return new Oe(we,`${this.serviceName}: ${St} (${we}).`,je)}}const Dt=/\{\$([^}]+)}/g;function Fn(de){for(const oe in de)if(Object.prototype.hasOwnProperty.call(de,oe))return!1;return!0}function tn(de,oe){if(de===oe)return!0;const ve=Object.keys(de),je=Object.keys(oe);for(const we of ve){if(!je.includes(we))return!1;const Ze=de[we],St=oe[we];if(Ln(Ze)&&Ln(St)){if(!tn(Ze,St))return!1}else if(Ze!==St)return!1}for(const we of je)if(!ve.includes(we))return!1;return!0}function Ln(de){return null!==de&&"object"==typeof de}function xr(de){const oe=[];for(const[ve,je]of Object.entries(de))Array.isArray(je)?je.forEach(we=>{oe.push(encodeURIComponent(ve)+"="+encodeURIComponent(we))}):oe.push(encodeURIComponent(ve)+"="+encodeURIComponent(je));return oe.length?"&"+oe.join("&"):""}function Ir(de){const oe={};return de.replace(/^\?/,"").split("&").forEach(je=>{if(je){const[we,Ze]=je.split("=");oe[decodeURIComponent(we)]=decodeURIComponent(Ze)}}),oe}function Nr(de){const oe=de.indexOf("?");if(!oe)return"";const ve=de.indexOf("#",oe);return de.substring(oe,ve>0?ve:void 0)}function Lr(de,oe){const ve=new fr(de,oe);return ve.subscribe.bind(ve)}class fr{constructor(oe,ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(()=>{oe(this)}).catch(je=>{this.error(je)})}next(oe){this.forEachObserver(ve=>{ve.next(oe)})}error(oe){this.forEachObserver(ve=>{ve.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,ve,je){let we;if(void 0===oe&&void 0===ve&&void 0===je)throw new Error("Missing Observer.");we=function Sn(de,oe){if("object"!=typeof de||null===de)return!1;for(const ve of oe)if(ve in de&&"function"==typeof de[ve])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:ve,complete:je},void 0===we.next&&(we.next=In),void 0===we.error&&(we.error=In),void 0===we.complete&&(we.complete=In);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?we.error(this.finalError):we.complete()}catch(St){}}),this.observers.push(we),Ze}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let ve=0;ve<this.observers.length;ve++)this.sendOne(ve,oe)}sendOne(oe,ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{ve(this.observers[oe])}catch(je){"undefined"!=typeof console&&console.error&&console.error(je)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}function Xn(de,oe=1e3,ve=2){const je=oe*Math.pow(ve,de),we=Math.round(.5*je*(Math.random()-.5)*2);return Math.min(144e5,je+we)}function Ei(de){return de&&de._delegate?de._delegate:de}},7556:(Ft,Ue,F)=>{"use strict";F.d(Ue,{e:()=>Me});var g=F(5861),k=F(3900),ue=F(9646),me=F(7323),he=F(5516),Pe=F(3562),Ce=F(4893),ce=F(5332);let Me=(()=>{class Z{constructor(Ae,xe,ke){this.auth=Ae,this.router=xe,this.firestore=ke,this.ADMIN_PATH="admin",this.USER_PATH="students",this.redirectUrl="",this.userLoggedIn=!1,this.user$=(0,me.fD)(this.auth).pipe((0,k.w)(rt=>rt?(this.userLoggedIn=!0,localStorage.setItem("user",JSON.stringify(rt)),(0,Pe._1)((0,Pe.JU)(ke,`users/${null==rt?void 0:rt.uid}`))):(localStorage.removeItem("user"),(0,ue.of)(null)))),this.user$.subscribe(rt=>{console.log("update",{user:rt}),rt&&this.redirect(rt),this.router.navigate([this.redirectUrl])})}redirect(Ae){var xe;this.redirectUrl=(null===(xe=null==Ae?void 0:Ae.roles)||void 0===xe?void 0:xe.admin)?this.redirectUrl?this.redirectUrl:this.ADMIN_PATH:this.redirectUrl?this.redirectUrl:this.USER_PATH}signUp(Ae){return(0,me.Xb)(this.auth,Ae.email,Ae.password).then(xe=>(Ae.email.toLowerCase(),this.updateUserData({uid:xe.user.uid,email:xe.user.email}))).catch(xe=>xe)}loginEmail(Ae){var xe=this;return(0,g.Z)(function*(){try{let ke=yield(0,me.e5)(xe.auth,Ae.email,Ae.password);console.log(ke),xe.userLoggedIn=!0,xe.router.navigate([xe.USER_PATH])}catch(ke){return ke}})()}loginGoogle(){var Ae=this;return(0,g.Z)(function*(){let xe=yield(0,me.rh)(Ae.auth,new he.hJ);yield Ae.updateUserData(xe.user),Ae.userLoggedIn=!0,Ae.router.navigate([Ae.USER_PATH])})()}logout(){this.auth.signOut(),this.userLoggedIn=!1,this.router.navigate(["auth"])}isLoggedIn(){return!!this.auth.currentUser}updateUserData(Ae){const xe=(0,Pe.JU)(this.firestore,`users/${Ae.uid}`);return(0,Pe.pl)(xe,{uid:Ae.uid,email:Ae.email,roles:{student:!0}},{merge:!0})}}return Z.\u0275fac=function(Ae){return new(Ae||Z)(Ce.LFG(me.gx),Ce.LFG(ce.F0),Ce.LFG(Pe.gg))},Z.\u0275prov=Ce.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},9181:(Ft,Ue,F)=>{"use strict";F.d(Ue,{H:()=>Ce});var g=F(5861),k=F(9646),ue=F(3900),me=F(3562),he=F(4893),Pe=F(7556);let Ce=(()=>{class ce{constructor(Z,X){var Ae=this;this.firestore=Z,this.authService=X,this.userID="",this.profile=(0,k.of)(void 0),this.user=null,this.colectionRef=(0,me.hJ)(this.firestore,"profiles"),this.profile=this.authService.user$.pipe((0,ue.w)(function(){var xe=(0,g.Z)(function*(ke){if(!ke)return;Ae.user=ke,Ae.userID=ke.uid,console.log("settid",Ae.userID);let rt=yield(0,me.QT)((0,me.JU)(Ae.colectionRef,Ae.userID));return console.log("log",rt.exists()),rt.exists()?Object.assign({id:rt.id},rt.data()):void 0});return function(ke){return xe.apply(this,arguments)}}()))}getProfile(){return(0,g.Z)(function*(){})()}update(Z){var X=this;return(0,g.Z)(function*(){return X.user.profile=X.userID,Z.id=X.userID,console.log("updating",X.user,Z),yield(0,me.pl)((0,me.JU)(X.colectionRef,X.userID),Z,{merge:!0}),yield X.authService.updateUserData(X.user),!0})()}}return ce.\u0275fac=function(Z){return new(Z||ce)(he.LFG(me.gg),he.LFG(Pe.e))},ce.\u0275prov=he.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},340:(Ft,Ue,F)=>{"use strict";var g=F(9808),k=F(4893);class ue extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends ue{static makeCurrent(){(0,g.HT)(new me)}onAndCancel(K,$,ge){return K.addEventListener($,ge,!1),()=>{K.removeEventListener($,ge,!1)}}dispatchEvent(K,$){K.dispatchEvent($)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,$){return($=$||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,$){return"window"===$?window:"document"===$?K:"body"===$?K.body:null}getBaseHref(K){const $=function Pe(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==$?null:function ce(Q){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",Q);const K=Ce.pathname;return"/"===K.charAt(0)?K:`/${K}`}($)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,g.Mx)(document.cookie,K)}}let Ce,he=null;const Me=new k.OlP("TRANSITION_ID"),X=[{provide:k.ip1,useFactory:function Z(Q,K,$){return()=>{$.get(k.CZH).donePromise.then(()=>{const ge=(0,g.q)(),Se=K.querySelectorAll(`style[ng-transition="${Q}"]`);for(let wt=0;wt<Se.length;wt++)ge.remove(Se[wt])})}},deps:[Me,g.K0,k.zs3],multi:!0}];class Ae{static init(){(0,k.VLi)(new Ae)}addToWindow(K){k.dqk.getAngularTestability=(ge,Se=!0)=>{const wt=K.findTestabilityInTree(ge,Se);if(null==wt)throw new Error("Could not find testability for element.");return wt},k.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(ge=>{const Se=k.dqk.getAllAngularTestabilities();let wt=Se.length,Pt=!1;const Tn=function(Bn){Pt=Pt||Bn,wt--,0==wt&&ge(Pt)};Se.forEach(function(Bn){Bn.whenStable(Tn)})})}findTestabilityInTree(K,$,ge){if(null==$)return null;const Se=K.getTestability($);return null!=Se?Se:ge?(0,g.q)().isShadowRoot($)?this.findTestabilityInTree(K,$.host,!0):this.findTestabilityInTree(K,$.parentElement,!0):null}}let xe=(()=>{class Q{build(){return new XMLHttpRequest}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const ke=new k.OlP("EventManagerPlugins");let rt=(()=>{class Q{constructor($,ge){this._zone=ge,this._eventNameToPlugin=new Map,$.forEach(Se=>Se.manager=this),this._plugins=$.slice().reverse()}addEventListener($,ge,Se){return this._findPluginFor(ge).addEventListener($,ge,Se)}addGlobalEventListener($,ge,Se){return this._findPluginFor(ge).addGlobalEventListener($,ge,Se)}getZone(){return this._zone}_findPluginFor($){const ge=this._eventNameToPlugin.get($);if(ge)return ge;const Se=this._plugins;for(let wt=0;wt<Se.length;wt++){const Pt=Se[wt];if(Pt.supports($))return this._eventNameToPlugin.set($,Pt),Pt}throw new Error(`No event manager plugin found for event ${$}`)}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(ke),k.LFG(k.R0b))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})();class Je{constructor(K){this._doc=K}addGlobalEventListener(K,$,ge){const Se=(0,g.q)().getGlobalEventTarget(this._doc,K);if(!Se)throw new Error(`Unsupported event target ${Se} for event ${$}`);return this.addEventListener(Se,$,ge)}}let be=(()=>{class Q{constructor(){this._stylesSet=new Set}addStyles($){const ge=new Set;$.forEach(Se=>{this._stylesSet.has(Se)||(this._stylesSet.add(Se),ge.add(Se))}),this.onStylesAdded(ge)}onStylesAdded($){}getAllStyles(){return Array.from(this._stylesSet)}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),ot=(()=>{class Q extends be{constructor($){super(),this._doc=$,this._hostNodes=new Map,this._hostNodes.set($.head,[])}_addStylesToHost($,ge,Se){$.forEach(wt=>{const Pt=this._doc.createElement("style");Pt.textContent=wt,Se.push(ge.appendChild(Pt))})}addHost($){const ge=[];this._addStylesToHost(this._stylesSet,$,ge),this._hostNodes.set($,ge)}removeHost($){const ge=this._hostNodes.get($);ge&&ge.forEach(qe),this._hostNodes.delete($)}onStylesAdded($){this._hostNodes.forEach((ge,Se)=>{this._addStylesToHost($,Se,ge)})}ngOnDestroy(){this._hostNodes.forEach($=>$.forEach(qe))}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(g.K0))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})();function qe(Q){(0,g.q)().remove(Q)}const $e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Re=/%COMP%/g;function re(Q,K,$){for(let ge=0;ge<K.length;ge++){let Se=K[ge];Array.isArray(Se)?re(Q,Se,$):(Se=Se.replace(Re,Q),$.push(Se))}return $}function ie(Q){return K=>{if("__ngUnwrap__"===K)return Q;!1===Q(K)&&(K.preventDefault(),K.returnValue=!1)}}let Oe=(()=>{class Q{constructor($,ge,Se){this.eventManager=$,this.sharedStylesHost=ge,this.appId=Se,this.rendererByCompId=new Map,this.defaultRenderer=new te($)}createRenderer($,ge){if(!$||!ge)return this.defaultRenderer;switch(ge.encapsulation){case k.ifc.Emulated:{let Se=this.rendererByCompId.get(ge.id);return Se||(Se=new An(this.eventManager,this.sharedStylesHost,ge,this.appId),this.rendererByCompId.set(ge.id,Se)),Se.applyToHost($),Se}case 1:case k.ifc.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,$,ge);default:if(!this.rendererByCompId.has(ge.id)){const Se=re(ge.id,ge.styles,[]);this.sharedStylesHost.addStyles(Se),this.rendererByCompId.set(ge.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(rt),k.LFG(ot),k.LFG(k.AFp))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})();class te{constructor(K){this.eventManager=K,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,$){return $?document.createElementNS($e[$]||$,K):document.createElement(K)}createComment(K){return document.createComment(K)}createText(K){return document.createTextNode(K)}appendChild(K,$){K.appendChild($)}insertBefore(K,$,ge){K&&K.insertBefore($,ge)}removeChild(K,$){K&&K.removeChild($)}selectRootElement(K,$){let ge="string"==typeof K?document.querySelector(K):K;if(!ge)throw new Error(`The selector "${K}" did not match any elements`);return $||(ge.textContent=""),ge}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,$,ge,Se){if(Se){$=Se+":"+$;const wt=$e[Se];wt?K.setAttributeNS(wt,$,ge):K.setAttribute($,ge)}else K.setAttribute($,ge)}removeAttribute(K,$,ge){if(ge){const Se=$e[ge];Se?K.removeAttributeNS(Se,$):K.removeAttribute(`${ge}:${$}`)}else K.removeAttribute($)}addClass(K,$){K.classList.add($)}removeClass(K,$){K.classList.remove($)}setStyle(K,$,ge,Se){Se&(k.JOm.DashCase|k.JOm.Important)?K.style.setProperty($,ge,Se&k.JOm.Important?"important":""):K.style[$]=ge}removeStyle(K,$,ge){ge&k.JOm.DashCase?K.style.removeProperty($):K.style[$]=""}setProperty(K,$,ge){K[$]=ge}setValue(K,$){K.nodeValue=$}listen(K,$,ge){return"string"==typeof K?this.eventManager.addGlobalEventListener(K,$,ie(ge)):this.eventManager.addEventListener(K,$,ie(ge))}}class An extends te{constructor(K,$,ge,Se){super(K),this.component=ge;const wt=re(Se+"-"+ge.id,ge.styles,[]);$.addStyles(wt),this.contentAttr=function Yt(Q){return"_ngcontent-%COMP%".replace(Re,Q)}(Se+"-"+ge.id),this.hostAttr=function ee(Q){return"_nghost-%COMP%".replace(Re,Q)}(Se+"-"+ge.id)}applyToHost(K){super.setAttribute(K,this.hostAttr,"")}createElement(K,$){const ge=super.createElement(K,$);return super.setAttribute(ge,this.contentAttr,""),ge}}class dt extends te{constructor(K,$,ge,Se){super(K),this.sharedStylesHost=$,this.hostEl=ge,this.shadowRoot=ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const wt=re(Se.id,Se.styles,[]);for(let Pt=0;Pt<wt.length;Pt++){const Tn=document.createElement("style");Tn.textContent=wt[Pt],this.shadowRoot.appendChild(Tn)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(K,$){return super.appendChild(this.nodeOrShadowRoot(K),$)}insertBefore(K,$,ge){return super.insertBefore(this.nodeOrShadowRoot(K),$,ge)}removeChild(K,$){return super.removeChild(this.nodeOrShadowRoot(K),$)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}}let Zt=(()=>{class Q extends Je{constructor($){super($)}supports($){return!0}addEventListener($,ge,Se){return $.addEventListener(ge,Se,!1),()=>this.removeEventListener($,ge,Se)}removeEventListener($,ge,Se){return $.removeEventListener(ge,Se)}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(g.K0))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const Dn=["alt","control","meta","shift"],Cn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Lt={alt:Q=>Q.altKey,control:Q=>Q.ctrlKey,meta:Q=>Q.metaKey,shift:Q=>Q.shiftKey};let fn=(()=>{class Q extends Je{constructor($){super($)}supports($){return null!=Q.parseEventName($)}addEventListener($,ge,Se){const wt=Q.parseEventName(ge),Pt=Q.eventCallback(wt.fullKey,Se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel($,wt.domEventName,Pt))}static parseEventName($){const ge=$.toLowerCase().split("."),Se=ge.shift();if(0===ge.length||"keydown"!==Se&&"keyup"!==Se)return null;const wt=Q._normalizeKey(ge.pop());let Pt="";if(Dn.forEach(Bn=>{const Er=ge.indexOf(Bn);Er>-1&&(ge.splice(Er,1),Pt+=Bn+".")}),Pt+=wt,0!=ge.length||0===wt.length)return null;const Tn={};return Tn.domEventName=Se,Tn.fullKey=Pt,Tn}static getEventFullKey($){let ge="",Se=function Fn(Q){let K=Q.key;if(null==K){if(K=Q.keyIdentifier,null==K)return"Unidentified";K.startsWith("U+")&&(K=String.fromCharCode(parseInt(K.substring(2),16)),3===Q.location&&jt.hasOwnProperty(K)&&(K=jt[K]))}return Cn[K]||K}($);return Se=Se.toLowerCase()," "===Se?Se="space":"."===Se&&(Se="dot"),Dn.forEach(wt=>{wt!=Se&&Lt[wt]($)&&(ge+=wt+".")}),ge+=Se,ge}static eventCallback($,ge,Se){return wt=>{Q.getEventFullKey(wt)===$&&Se.runGuarded(()=>ge(wt))}}static _normalizeKey($){return"esc"===$?"escape":$}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(g.K0))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const Ir=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:g.bD},{provide:k.g9A,useValue:function br(){me.makeCurrent(),Ae.init()},multi:!0},{provide:g.K0,useFactory:function Ln(){return(0,k.RDi)(document),document},deps:[]}]),Nr=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function tn(){return new k.qLn},deps:[]},{provide:ke,useClass:Zt,multi:!0,deps:[g.K0,k.R0b,k.Lbi]},{provide:ke,useClass:fn,multi:!0,deps:[g.K0]},{provide:Oe,useClass:Oe,deps:[rt,ot,k.AFp]},{provide:k.FYo,useExisting:Oe},{provide:be,useExisting:ot},{provide:ot,useClass:ot,deps:[g.K0]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b]},{provide:rt,useClass:rt,deps:[ke,k.R0b]},{provide:g.JF,useClass:xe,deps:[]}];let Jn=(()=>{class Q{constructor($){if($)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition($){return{ngModule:Q,providers:[{provide:k.AFp,useValue:$.appId},{provide:Me,useExisting:k.AFp},X]}}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(Q,12))},Q.\u0275mod=k.oAB({type:Q}),Q.\u0275inj=k.cJS({providers:Nr,imports:[g.ez,k.hGG]}),Q})();"undefined"!=typeof window&&window;var ar=F(2382),si=F(7556),pr=F(5332),sn=F(9181);const pi=[{path:"auth",loadChildren:()=>F.e(897).then(F.bind(F,6897)).then(Q=>Q.AuthModule)},{path:"students",loadChildren:()=>Promise.all([F.e(592),F.e(721)]).then(F.bind(F,1721)).then(Q=>Q.StudentsModule)},{path:"admin",loadChildren:()=>Promise.all([F.e(592),F.e(337)]).then(F.bind(F,9337)).then(Q=>Q.AdminModule)},{path:"profile",component:(()=>{class Q{constructor($,ge,Se,wt){this.fb=$,this.router=ge,this.authService=Se,this.profileService=wt,this.userProfile=null,this.confirmForm=$.group({name:["",[ar.kI.required]],career:["",[ar.kI.required]],controlNumber:["",[ar.kI.required]],semester:["",[ar.kI.required]],group:["",[ar.kI.required]]})}ngOnInit(){this.profileService.profile.subscribe($=>{console.log("pr",$),this.userProfile=$,$&&this.setValues($)}),console.log("inited")}setValues($){this.confirmForm.setValue({name:$.name,career:$.career,group:$.group,semester:$.semester,controlNumber:$.controlNumber})}completeRegister(){var $,ge,Se,wt,Pt;if(this.confirmForm.invalid)return 0;let Tn={name:null===($=this.confirmForm.get("name"))||void 0===$?void 0:$.value,career:null===(ge=this.confirmForm.get("career"))||void 0===ge?void 0:ge.value,group:null===(Se=this.confirmForm.get("group"))||void 0===Se?void 0:Se.value,semester:null===(wt=this.confirmForm.get("semester"))||void 0===wt?void 0:wt.value,controlNumber:null===(Pt=this.confirmForm.get("controlNumber"))||void 0===Pt?void 0:Pt.value};return this.profileService.update(Tn),this.router.navigate(["students"]),1}}return Q.\u0275fac=function($){return new($||Q)(k.Y36(ar.qu),k.Y36(pr.F0),k.Y36(si.e),k.Y36(sn.H))},Q.\u0275cmp=k.Xpm({type:Q,selectors:[["app-profile"]],decls:13,vars:1,consts:[[1,"h-full","mt-10",3,"formGroup","ngSubmit"],[1,"text-xl","text-center","text-teal-500","font-bold"],["id","logo",1,"flex","items-center","justify-center","my-5"],["src","","alt","",1,"min-h-[6rem]","bg-gray-300","w-[6rem]","rounded-full"],[1,"flex","flex-col","items-center","mt-10"],["id","name","type","text","placeholder","Nombre","formControlName","name","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]"],["id","carrera","type","text","placeholder","Carrera","formControlName","career","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]"],["id","num-control","type","text","placeholder","N\xfamero de Control","formControlName","controlNumber","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]"],["id","semestre","type","text","placeholder","Semestre","formControlName","semester","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]"],["id","grupo","type","text","placeholder","Grupo","formControlName","group","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]"],[1,"rounded-full","bg-teal-500","my-4","px-4","py-2","text-neutral-50","font-bold","hover:bg-violet-700"]],template:function($,ge){1&$&&(k.TgZ(0,"form",0),k.NdJ("ngSubmit",function(){return ge.completeRegister()}),k.TgZ(1,"h2",1),k._uU(2,"Confirmar Datos"),k.qZA(),k.TgZ(3,"div",2),k._UZ(4,"img",3),k.qZA(),k.TgZ(5,"div",4),k._UZ(6,"input",5),k._UZ(7,"input",6),k._UZ(8,"input",7),k._UZ(9,"input",8),k._UZ(10,"input",9),k.TgZ(11,"button",10),k._uU(12,"Completar Datos"),k.qZA(),k.qZA(),k.qZA()),2&$&&k.Q6J("formGroup",ge.confirmForm)},directives:[ar._Y,ar.JL,ar.sg,ar.Fj,ar.JJ,ar.u,ar.Q7],styles:[""]}),Q})()},{path:"",redirectTo:"auth",pathMatch:"full"}];let gr=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=k.oAB({type:Q}),Q.\u0275inj=k.cJS({imports:[[pr.Bz.forRoot(pi)],pr.Bz]}),Q})();var Pi=F(3692),mr=F(7323),Et=F(3562);const ht=["nav"],Nt=function(Q){return{active:Q}};function un(Q,K){if(1&Q){const $=k.EpF();k.TgZ(0,"div",3),k.TgZ(1,"button",4),k.NdJ("click",function(){return k.CHM($),k.oxw().toogleNav()}),k.O4$(),k.TgZ(2,"svg",5),k._UZ(3,"path",6),k.qZA(),k.qZA(),k.kcU(),k.TgZ(4,"nav",7,8),k.TgZ(6,"div",9),k.TgZ(7,"ul",10),k.TgZ(8,"li",11),k.TgZ(9,"a",12),k._uU(10,"Dashboard"),k.qZA(),k.qZA(),k.TgZ(11,"li",13),k.TgZ(12,"a",14),k._uU(13,"Materiales"),k.qZA(),k.qZA(),k.TgZ(14,"li",13),k.TgZ(15,"a",15),k._uU(16,"Perfil"),k.qZA(),k.qZA(),k.TgZ(17,"li",13),k.TgZ(18,"a",16),k.NdJ("click",function(){return k.CHM($),k.oxw().authService.logout()}),k._uU(19,"Cerrar Sesi\xf3n"),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA()}if(2&Q){const $=k.oxw();k.xp6(4),k.Q6J("ngClass",k.VKq(1,Nt,$.isToggleActive))}}let Hn=(()=>{class Q{constructor($,ge,Se){this.authService=$,this.router=ge,this.render=Se,this.ADMIN_PATH="admin",this.USER_PATH="students",this.redirectUrl="",this.title="sistema-almacen",this.isToggleActive=!1}toogleNav(){this.isToggleActive?(this.render.removeClass(this.nav.nativeElement,"hidden"),this.isToggleActive=!1):(this.render.addClass(this.nav.nativeElement,"hidden"),this.isToggleActive=!0)}getUser(){this.user$.subscribe($=>{console.log("update",{user:$}),$&&this.redirect($),this.router.navigate([this.redirectUrl])})}redirect($){var ge;this.redirectUrl=(null===(ge=null==$?void 0:$.roles)||void 0===ge?void 0:ge.admin)?this.redirectUrl?this.redirectUrl:this.ADMIN_PATH:this.redirectUrl?this.redirectUrl:this.USER_PATH}}return Q.\u0275fac=function($){return new($||Q)(k.Y36(si.e),k.Y36(pr.F0),k.Y36(k.Qsj))},Q.\u0275cmp=k.Xpm({type:Q,selectors:[["app-root"]],viewQuery:function($,ge){if(1&$&&k.Gf(ht,5),2&$){let Se;k.iGM(Se=k.CRH())&&(ge.nav=Se.first)}},decls:5,vars:1,consts:[[1,"grid","place-items-center","h-20"],[1,"center-text","text-violet-900","text-2xl","font-bold","tracking-wider"],["class","flex flex-col sm:flex-row justify-evenly w-full",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","justify-evenly","w-full"],["type","button",1,"w-10","navbar-toggler","text-gray-500","border-0","hover:shadow-none","hover:no-underline","py-2","px-2.5","bg-transparent","focus:outline-none","focus:ring-0","focus:shadow-none","focus:no-underline","sm:hidden",3,"click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","bars","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"w-6"],["fill","currentColor","d","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"],[1,"sm:right-0","sm:block","relative","w-full","flex","flex-wrap","items-center","justify-between","py-4","bg-gray-100","text-gray-500","hover:text-gray-700","focus:text-gray-700","shadow-lg","navbar","navbar-expand-lg","navbar-light",3,"ngClass"],["nav",""],[1,"container-fluid","w-full","flex","flex-wrap","items-center","justify-between","px-6"],[1,"navbar-nav","flex","flex-col","h-screen","sm:h-full","sm:flex-row","flex-wrap","pl-0","gap-10","sm:gap-0","list-style-none","mr-auto"],[1,"nav-item","px-2"],["routerLink","/admin/dashboard","aria-current","page",1,"nav-link","active","text-gray-500","hover:text-gray-700","focus:text-gray-700","p-0"],[1,"nav-item","pr-2"],["routerLink","/students",1,"nav-link","text-gray-500","hover:text-gray-700","focus:text-gray-700","p-0"],["routerLink","/profile",1,"nav-link","text-gray-500","hover:text-gray-700","focus:text-gray-700","p-0"],[1,"nav-link","text-gray-500","hover:text-gray-700","focus:text-gray-700","p-0",3,"click"]],template:function($,ge){1&$&&(k.TgZ(0,"div",0),k.TgZ(1,"h1",1),k._uU(2,"Almacen ITVO"),k.qZA(),k.YNc(3,un,20,3,"div",2),k.qZA(),k._UZ(4,"router-outlet")),2&$&&(k.xp6(3),k.Q6J("ngIf",ge.authService.isLoggedIn()))},directives:[g.O5,g.mk,pr.yS,pr.lC],styles:[""]}),Q})();const mn_firebase={projectId:"almacen-815ae",appId:"1:347621476160:web:f14b0a8b3c607314311ca5",storageBucket:"almacen-815ae.appspot.com",locationId:"us-central",apiKey:"AIzaSyDTjn20IbG_zgH9CNICnfExzh3VddV48WE",authDomain:"almacen-815ae.firebaseapp.com",messagingSenderId:"347621476160"};var Dr=F(9770),Zn=F(8306),yn=F(576),er=F(8421),_t=F(5577),rn=F(1144),Mn=F(3268);const zn=["addListener","removeListener"],tr=["addEventListener","removeEventListener"],_r=["on","off"];function Or(Q,K,$,ge){if((0,yn.m)($)&&(ge=$,$=void 0),ge)return Or(Q,K,$).pipe((0,Mn.Z)(ge));const[Se,wt]=function Ht(Q){return(0,yn.m)(Q.addEventListener)&&(0,yn.m)(Q.removeEventListener)}(Q)?tr.map(Pt=>Tn=>Q[Pt](K,Tn,$)):function gi(Q){return(0,yn.m)(Q.addListener)&&(0,yn.m)(Q.removeListener)}(Q)?zn.map(Un(Q,K)):function Jr(Q){return(0,yn.m)(Q.on)&&(0,yn.m)(Q.off)}(Q)?_r.map(Un(Q,K)):[];if(!Se&&(0,rn.z)(Q))return(0,_t.z)(Pt=>Or(Pt,K,$))((0,er.Xf)(Q));if(!Se)throw new TypeError("Invalid event target");return new Zn.y(Pt=>{const Tn=(...Bn)=>Pt.next(1<Bn.length?Bn:Bn[0]);return Se(Tn),()=>wt(Tn)})}function Un(Q,K){return $=>ge=>Q[$](K,ge)}var $r=F(9646),kn=F(7272),Ee=F(7579),pe=F(5032);const Ie=new Zn.y(pe.Z);var ut=F(6451),It=F(4004),Gt=F(9300),nr=F(3900),hn=F(4033),yr=F(8996),Cr=F(4482);const Rr={connector:()=>new Ee.x};function Ar(Q,K=Rr){const{connector:$}=K;return(0,Cr.e)((ge,Se)=>{const wt=$();(0,yr.D)(Q(function Pr(Q){return new Zn.y(K=>Q.subscribe(K))}(wt))).subscribe(Se),Se.add(ge.subscribe(wt))})}var Ci=F(5698),Ds=F(8505),ts=F(4986),ns=F(5403);function is(Q,K){return K?$=>(0,kn.z)(K.pipe((0,Ci.q)(1),function rs(){return(0,Cr.e)((Q,K)=>{Q.subscribe(new ns.Q(K,pe.Z))})}()),$.pipe(is(Q))):(0,_t.z)(($,ge)=>Q($,ge).pipe((0,Ci.q)(1),function Fi(Q){return(0,It.U)(()=>Q)}($)))}var Os=F(3532);const Vi="Service workers are disabled or not supported by this browser";class mi{constructor(K){if(this.serviceWorker=K,K){const ge=Or(K,"controllerchange").pipe((0,It.U)(()=>K.controller)),Se=(0,Dr.P)(()=>(0,$r.of)(K.controller)),wt=(0,kn.z)(Se,ge);this.worker=wt.pipe((0,Gt.h)(vi=>!!vi)),this.registration=this.worker.pipe((0,nr.w)(()=>K.getRegistration()));const Er=Or(K,"message").pipe((0,It.U)(vi=>vi.data)).pipe((0,Gt.h)(vi=>vi&&vi.type)).pipe(function Di(Q){return Q?K=>Ar(Q)(K):K=>function Gr(Q,K){const $=(0,yn.m)(Q)?Q:()=>Q;return(0,yn.m)(K)?Ar(K,{connector:$}):ge=>new hn.c(ge,$)}(new Ee.x)(K)}());Er.connect(),this.events=Er}else this.worker=this.events=this.registration=function Cs(Q){return(0,Dr.P)(()=>function ki(Q,K){const $=(0,yn.m)(Q)?Q:()=>Q,ge=Se=>Se.error($());return new Zn.y(K?Se=>K.schedule(ge,0,Se):ge)}(new Error(Q)))}(Vi)}postMessage(K,$){return this.worker.pipe((0,Ci.q)(1),(0,Ds.b)(ge=>{ge.postMessage(Object.assign({action:K},$))})).toPromise().then(()=>{})}postMessageWithOperation(K,$,ge){const Se=this.waitForOperationCompleted(ge),wt=this.postMessage(K,$);return Promise.all([wt,Se]).then(([,Pt])=>Pt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(K){let $;return $="string"==typeof K?ge=>ge.type===K:ge=>K.includes(ge.type),this.events.pipe((0,Gt.h)($))}nextEventOfType(K){return this.eventsOfType(K).pipe((0,Ci.q)(1))}waitForOperationCompleted(K){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Gt.h)($=>$.nonce===K),(0,Ci.q)(1),(0,It.U)($=>{if(void 0!==$.result)return $.result;throw new Error($.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ls=(()=>{class Q{constructor($){if(this.sw=$,this.subscriptionChanges=new Ee.x,!$.isEnabled)return this.messages=Ie,this.notificationClicks=Ie,void(this.subscription=Ie);this.messages=this.sw.eventsOfType("PUSH").pipe((0,It.U)(Se=>Se.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,It.U)(Se=>Se.data)),this.pushManager=this.sw.registration.pipe((0,It.U)(Se=>Se.pushManager));const ge=this.pushManager.pipe((0,nr.w)(Se=>Se.getSubscription()));this.subscription=(0,ut.T)(ge,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription($){if(!this.sw.isEnabled)return Promise.reject(new Error(Vi));const ge={userVisibleOnly:!0};let Se=this.decodeBase64($.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),wt=new Uint8Array(new ArrayBuffer(Se.length));for(let Pt=0;Pt<Se.length;Pt++)wt[Pt]=Se.charCodeAt(Pt);return ge.applicationServerKey=wt,this.pushManager.pipe((0,nr.w)(Pt=>Pt.subscribe(ge)),(0,Ci.q)(1)).toPromise().then(Pt=>(this.subscriptionChanges.next(Pt),Pt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Ci.q)(1),(0,nr.w)(ge=>{if(null===ge)throw new Error("Not subscribed to push notifications.");return ge.unsubscribe().then(Se=>{if(!Se)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Vi))}decodeBase64($){return atob($)}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(mi))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),Ur=(()=>{class Q{constructor($){if(this.sw=$,!$.isEnabled)return this.versionUpdates=Ie,this.available=Ie,this.activated=Ie,void(this.unrecoverable=Ie);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Gt.h)(ge=>"VERSION_READY"===ge.type),(0,It.U)(ge=>({type:"UPDATE_AVAILABLE",current:ge.currentVersion,available:ge.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vi));const $=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:$},$)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vi));const $=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:$},$)}}return Q.\u0275fac=function($){return new($||Q)(k.LFG(mi))},Q.\u0275prov=k.Yz7({token:Q,factory:Q.\u0275fac}),Q})();class bi{}const Qi=new k.OlP("NGSW_REGISTER_SCRIPT");function ds(Q,K,$,ge){return()=>{if(!(0,g.NF)(ge)||!("serviceWorker"in navigator)||!1===$.enabled)return;let wt;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof $.registrationStrategy)wt=$.registrationStrategy();else{const[Tn,...Bn]=($.registrationStrategy||"registerWhenStable:30000").split(":");switch(Tn){case"registerImmediately":wt=(0,$r.of)(null);break;case"registerWithDelay":wt=Ui(+Bn[0]||0);break;case"registerWhenStable":wt=Bn[0]?(0,ut.T)(oi(Q),Ui(+Bn[0])):oi(Q);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${$.registrationStrategy}`)}}Q.get(k.R0b).runOutsideAngular(()=>wt.pipe((0,Ci.q)(1)).subscribe(()=>navigator.serviceWorker.register(K,{scope:$.scope}).catch(Tn=>console.error("Service worker registration failed with:",Tn))))}}function Ui(Q){return(0,$r.of)(null).pipe(function cs(Q,K=ts.z){const $=function Li(Q=0,K,$=ts.P){let ge=-1;return null!=K&&((0,Os.K)(K)?$=K:ge=K),new Zn.y(Se=>{let wt=function ss(Q){return Q instanceof Date&&!isNaN(Q)}(Q)?+Q-$.now():Q;wt<0&&(wt=0);let Pt=0;return $.schedule(function(){Se.closed||(Se.next(Pt++),0<=ge?this.schedule(void 0,ge):Se.complete())},wt)})}(Q,K);return is(()=>$)}(Q))}function oi(Q){return Q.get(k.z2F).isStable.pipe((0,Gt.h)($=>$))}function Rs(Q,K){return new mi((0,g.NF)(K)&&!1!==Q.enabled?navigator.serviceWorker:void 0)}let kr=(()=>{class Q{static register($,ge={}){return{ngModule:Q,providers:[{provide:Qi,useValue:$},{provide:bi,useValue:ge},{provide:mi,useFactory:Rs,deps:[bi,k.Lbi]},{provide:k.ip1,useFactory:ds,deps:[k.zs3,Qi,bi,k.Lbi],multi:!0}]}}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=k.oAB({type:Q}),Q.\u0275inj=k.cJS({providers:[ls,Ur]}),Q})(),yi=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=k.oAB({type:Q,bootstrap:[Hn]}),Q.\u0275inj=k.cJS({providers:[si.e],imports:[[Jn,(0,Pi.hX)(()=>(0,Pi.ZF)(mn_firebase)),(0,mr.AR)(()=>(0,mr.v0)()),(0,Et.Cm)(()=>(0,Et.ad)()),ar.UX,gr,kr.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),Q})();(0,k.G48)(),Ir().bootstrapModule(yi).catch(Q=>console.error(Q))},5867:(Ft,Ue,F)=>{"use strict";F.d(Ue,{C6:()=>g.C6,KN:()=>g.KN,Mq:()=>g.Mq,ZF:()=>g.ZF});var g=F(9681);(0,g.KN)("firebase","9.6.7","app")},5516:(Ft,Ue,F)=>{"use strict";F.d(Ue,{hJ:()=>Ui,Xb:()=>hs,v0:()=>rd,Aj:()=>$i,e5:()=>Ns,rh:()=>pc});var g=F(5861),k=F(2090),ue=F(9681),me=F(655),he=F(1877),Pe=F(4859);const rt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new he.Yd("@firebase/auth");function qe(_,...d){ot.logLevel<=he.in.ERROR&&ot.error(`Auth (${ue.Jn}): ${_}`,...d)}function $e(_,...d){throw Tt(_,...d)}function Re(_,...d){return Tt(_,...d)}function Le(_,d,f){const I=Object.assign(Object.assign({},rt()),{[d]:f});return new k.LL("auth","Firebase",I).create(d,{appName:_.name})}function Ye(_,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&$e(_,"argument-error"),Le(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(_,...d){if("string"!=typeof _){const f=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(f,...I)}return Je.create(_,...d)}function Be(_,d,...f){if(!_)throw Tt(d,...f)}function Yt(_){const d="INTERNAL ASSERTION FAILED: "+_;throw qe(d),new Error(d)}function ee(_,d){_||Yt(d)}const re=new Map;function ie(_){ee(_ instanceof Function,"Expected a class definition");let d=re.get(_);return d?(ee(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,re.set(_,d),d)}function te(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Dt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Zt{constructor(d,f){this.shortDelay=d,this.longDelay=f,ee(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function An(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function gt(){return"http:"===Dt()||"https:"===Dt()}()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dn(_,d){ee(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class qt{static initialize(d,f,I){this.fetchImpl=d,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jt=new Zt(3e4,6e4);function Lt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function fn(_,d,f,I){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,g.Z)(function*(_,d,f,I,j={}){return br(_,j,(0,g.Z)(function*(){let q={},Ne={};I&&("GET"===d?Ne=I:q={body:JSON.stringify(I)});const lt=(0,k.xO)(Object.assign({key:_.config.apiKey},Ne)).slice(1),Ot=yield _._getAdditionalHeaders();return Ot["Content-Type"]="application/json",_.languageCode&&(Ot["X-Firebase-Locale"]=_.languageCode),qt.fetch()(Ir(_,_.config.apiHost,f,lt),Object.assign({method:d,headers:Ot,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function br(_,d,f){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(_,d,f){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},Cn),d);try{const j=new Nr(_),q=yield Promise.race([f(),j.promise]);j.clearNetworkTimeout();const Ne=yield q.json();if("needConfirmation"in Ne)throw Jn(_,"account-exists-with-different-credential",Ne);if(q.ok&&!("errorMessage"in Ne))return Ne;{const lt=q.ok?Ne.errorMessage:Ne.error.message,[Ot,Xt]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ot)throw Jn(_,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Ot)throw Jn(_,"email-already-in-use",Ne);const Nn=I[Ot]||Ot.toLowerCase().replace(/[_\s]+/g,"-");if(Xt)throw Le(_,Nn,Xt);$e(_,Nn)}}catch(j){if(j instanceof k.ZR)throw j;$e(_,"network-request-failed")}})).apply(this,arguments)}function Ln(_,d,f,I){return xr.apply(this,arguments)}function xr(){return(xr=(0,g.Z)(function*(_,d,f,I,j={}){const q=yield fn(_,d,f,I,j);return"mfaPendingCredential"in q&&$e(_,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function Ir(_,d,f,I){const j=`${d}${f}?${I}`;return _.config.emulator?Dn(_.config,j):`${_.config.apiScheme}://${j}`}class Nr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(Re(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(_,d,f){const I={appName:_.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const j=Re(_,d,I);return j.customData._tokenResponse=f,j}function fr(){return(fr=(0,g.Z)(function*(_,d){return fn(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function In(_,d){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,g.Z)(function*(_,d){return fn(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function nt(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function pn(){return(pn=(0,g.Z)(function*(_,d=!1){const f=(0,k.m9)(_),I=yield f.getIdToken(d),j=nn(I);Be(j&&j.exp&&j.auth_time&&j.iat,f.auth,"internal-error");const q="object"==typeof j.firebase?j.firebase:void 0,Ne=null==q?void 0:q.sign_in_provider;return{claims:j,token:I,authTime:nt(sr(j.auth_time)),issuedAtTime:nt(sr(j.iat)),expirationTime:nt(sr(j.exp)),signInProvider:Ne||null,signInSecondFactor:(null==q?void 0:q.sign_in_second_factor)||null}})).apply(this,arguments)}function sr(_){return 1e3*Number(_)}function nn(_){const[d,f,I]=_.split(".");if(void 0===d||void 0===f||void 0===I)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,k.tV)(f);return j?JSON.parse(j):(qe("Failed to decode base64 JWT payload"),null)}catch(j){return qe("Caught error parsing JWT payload as JSON",j),null}}function bt(_,d){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,g.Z)(function*(_,d,f=!1){if(f)return d;try{return yield d}catch(I){throw I instanceof k.ZR&&Wr(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}function Wr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Xn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const j=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),I)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class ii{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,g.Z)(function*(_){var d;const f=_.auth,I=yield _.getIdToken(),j=yield bt(_,In(f,{idToken:I}));Be(null==j?void 0:j.users.length,f,"internal-error");const q=j.users[0];_._notifyReloadListener(q);const Ne=(null===(d=q.providerUserInfo)||void 0===d?void 0:d.length)?je(q.providerUserInfo):[],lt=ve(_.providerData,Ne),Nn=!!_.isAnonymous&&!(_.email&&q.passwordHash||(null==lt?void 0:lt.length)),Br={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:lt,metadata:new ii(q.createdAt,q.lastLoginAt),isAnonymous:Nn};Object.assign(_,Br)})).apply(this,arguments)}function oe(){return(oe=(0,g.Z)(function*(_){const d=(0,k.m9)(_);yield or(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ve(_,d){return[..._.filter(I=>!d.some(j=>j.providerId===I.providerId)),...d]}function je(_){return _.map(d=>{var{providerId:f}=d,I=(0,me._T)(d,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ze(){return(Ze=(0,g.Z)(function*(_,d){const f=yield br(_,{},(0,g.Z)(function*(){const I=(0,k.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:q}=_.config,Ne=Ir(_,j,"/v1/token",`key=${q}`),lt=yield _._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",qt.fetch()(Ne,{method:"POST",headers:lt,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class St{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Be(d.idToken,"internal-error"),Be(void 0!==d.idToken,"internal-error"),Be(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function et(_){const d=nn(_);return Be(d,"internal-error"),Be(void 0!==d.exp,"internal-error"),Be(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var I=this;return(0,g.Z)(function*(){return Be(!I.accessToken||I.refreshToken,d,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var I=this;return(0,g.Z)(function*(){const{accessToken:j,refreshToken:q,expiresIn:Ne}=yield function we(_,d){return Ze.apply(this,arguments)}(d,f);I.updateTokensAndExpiration(j,q,Number(Ne))})()}updateTokensAndExpiration(d,f,I){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,f){const{refreshToken:I,accessToken:j,expirationTime:q}=f,Ne=new St;return I&&(Be("string"==typeof I,"internal-error",{appName:d}),Ne.refreshToken=I),j&&(Be("string"==typeof j,"internal-error",{appName:d}),Ne.accessToken=j),q&&(Be("number"==typeof q,"internal-error",{appName:d}),Ne.expirationTime=q),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new St,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function gn(_,d){Be("string"==typeof _||void 0===_,"internal-error",{appName:d})}class On{constructor(d){var{uid:f,auth:I,stsTokenManager:j}=d,q=(0,me._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new ii(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,g.Z)(function*(){const I=yield bt(f,f.stsTokenManager.getToken(f.auth,d));return Be(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(d){return function an(_){return pn.apply(this,arguments)}(this,d)}reload(){return function de(_){return oe.apply(this,arguments)}(this)}_assign(d){this!==d&&(Be(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new On(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var I=this;return(0,g.Z)(function*(){let j=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),j=!0),f&&(yield or(I)),yield I.auth._persistUserIfCurrent(I),j&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,g.Z)(function*(){const f=yield d.getIdToken();return yield bt(d,function Lr(_,d){return fr.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var I,j,q,Ne,lt,Ot,Xt,Nn;const Br=null!==(I=f.displayName)&&void 0!==I?I:void 0,Xs=null!==(j=f.email)&&void 0!==j?j:void 0,va=null!==(q=f.phoneNumber)&&void 0!==q?q:void 0,gl=null!==(Ne=f.photoURL)&&void 0!==Ne?Ne:void 0,id=null!==(lt=f.tenantId)&&void 0!==lt?lt:void 0,gu=null!==(Ot=f._redirectEventId)&&void 0!==Ot?Ot:void 0,Ec=null!==(Xt=f.createdAt)&&void 0!==Xt?Xt:void 0,wc=null!==(Nn=f.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:sd,emailVerified:Gu,isAnonymous:Ic,providerData:ml,stsTokenManager:zi}=f;Be(sd&&zi,d,"internal-error");const yl=St.fromJSON(this.name,zi);Be("string"==typeof sd,d,"internal-error"),gn(Br,d.name),gn(Xs,d.name),Be("boolean"==typeof Gu,d,"internal-error"),Be("boolean"==typeof Ic,d,"internal-error"),gn(va,d.name),gn(gl,d.name),gn(id,d.name),gn(gu,d.name),gn(Ec,d.name),gn(wc,d.name);const Dc=new On({uid:sd,auth:d,email:Xs,emailVerified:Gu,displayName:Br,isAnonymous:Ic,photoURL:gl,phoneNumber:va,tenantId:id,stsTokenManager:yl,createdAt:Ec,lastLoginAt:wc});return ml&&Array.isArray(ml)&&(Dc.providerData=ml.map(mu=>Object.assign({},mu))),gu&&(Dc._redirectEventId=gu),Dc}static _fromIdTokenResponse(d,f,I=!1){return(0,g.Z)(function*(){const j=new St;j.updateFromServerResponse(f);const q=new On({uid:f.localId,auth:d,stsTokenManager:j,isAnonymous:I});return yield or(q),q})()}}const Gn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,I){var j=this;return(0,g.Z)(function*(){j.storage[f]=I})()}_get(f){var I=this;return(0,g.Z)(function*(){const j=I.storage[f];return void 0===j?null:j})()}_remove(f){var I=this;return(0,g.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return _.type="NONE",_})();function Ut(_,d,f){return`firebase:${_}:${d}:${f}`}class dn{constructor(d,f,I){this.persistence=d,this.auth=f,this.userKey=I;const{config:j,name:q}=this.auth;this.fullUserKey=Ut(this.userKey,j.apiKey,q),this.fullPersistenceKey=Ut("persistence",j.apiKey,q),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?On._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,g.Z)(function*(){if(f.persistence===d)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,I="authUser"){return(0,g.Z)(function*(){if(!f.length)return new dn(ie(Gn),d,I);const j=(yield Promise.all(f.map(function(){var Xt=(0,g.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return Xt.apply(this,arguments)}}()))).filter(Xt=>Xt);let q=j[0]||ie(Gn);const Ne=Ut(I,d.config.apiKey,d.name);let lt=null;for(const Xt of f)try{const Nn=yield Xt._get(Ne);if(Nn){const Br=On._fromJSON(d,Nn);Xt!==q&&(lt=Br),q=Xt;break}}catch(Nn){}const Ot=j.filter(Xt=>Xt._shouldAllowMigration);return q._shouldAllowMigration&&Ot.length?(q=Ot[0],lt&&(yield q._set(Ne,lt.toJSON())),yield Promise.all(f.map(function(){var Xt=(0,g.Z)(function*(Nn){if(Nn!==q)try{yield Nn._remove(Ne)}catch(Br){}});return function(Nn){return Xt.apply(this,arguments)}}())),new dn(q,d,I)):new dn(q,d,I)})()}}function Vr(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(pr(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(wi(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ii(d))return"Blackberry";if(pi(d))return"Webos";if(ar(d))return"Safari";if((d.includes("chrome/")||si(d))&&!d.includes("edge/"))return"Chrome";if(sn(d))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function wi(_=(0,k.z$)()){return/firefox\//i.test(_)}function ar(_=(0,k.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function si(_=(0,k.z$)()){return/crios\//i.test(_)}function pr(_=(0,k.z$)()){return/iemobile/i.test(_)}function sn(_=(0,k.z$)()){return/android/i.test(_)}function Ii(_=(0,k.z$)()){return/blackberry/i.test(_)}function pi(_=(0,k.z$)()){return/webos/i.test(_)}function gr(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function ht(_=(0,k.z$)()){return gr(_)||sn(_)||pi(_)||Ii(_)||/windows phone/i.test(_)||pr(_)}function un(_,d=[]){let f;switch(_){case"Browser":f=Vr((0,k.z$)());break;case"Worker":f=`${Vr((0,k.z$)())}-${_}`;break;default:f=_}const I=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ue.Jn}/${I}`}class Hn{constructor(d,f){this.app=d,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dr(this),this.idTokenSubscription=new Dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(d,f){var I=this;return f&&(this._popupRedirectResolver=ie(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var j,q;if(!I._deleted&&(I.persistenceManager=yield dn.create(I,d),!I._deleted)){if(null===(j=I._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Ne){}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(q=I.currentUser)||void 0===q?void 0:q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f)}})()}initializeCurrentUser(d){var f=this;return(0,g.Z)(function*(){var I;let j=yield f.assertedPersistence.getCurrentUser();if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const q=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,Ne=null==j?void 0:j._redirectEventId,lt=yield f.tryRedirectSignIn(d);(!q||q===Ne)&&(null==lt?void 0:lt.user)&&(j=lt.user)}return j?j._redirectEventId?(Be(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===j._redirectEventId?f.directlySetCurrentUser(j):f.reloadAndSetCurrentUserOrClear(j)):f.reloadAndSetCurrentUserOrClear(j):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var f=this;return(0,g.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(j){yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,g.Z)(function*(){try{yield or(d)}catch(I){if("auth/network-request-failed"!==I.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function dt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){const I=d?(0,k.m9)(d):null;return I&&Be(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){if(!f._deleted)return d&&Be(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),f.queue((0,g.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(ie(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new k.LL("auth","Firebase",d())}onAuthStateChanged(d,f,I){return this.registerStateListener(this.authStateSubscription,d,f,I)}onIdTokenChanged(d,f,I){return this.registerStateListener(this.idTokenSubscription,d,f,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var I=this;return(0,g.Z)(function*(){const j=yield I.getOrInitRedirectPersistenceManager(f);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const I=d&&ie(d)||f._popupRedirectResolver;Be(I,f,"argument-error"),f.redirectPersistenceManager=yield dn.create(f,[ie(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,g.Z)(function*(){var I,j;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===d?f._currentUser:(null===(j=f.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,g.Z)(function*(){if(d===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,I,j){if(this._deleted)return()=>{};const q="function"==typeof f?f:f.next.bind(f),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Be(Ne,this,"internal-error"),Ne.then(()=>q(this.currentUser)),"function"==typeof f?d.addObserver(f,I,j):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){const f={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(f["X-Firebase-gmpid"]=d.app.options.appId),f})()}}function mn(_){return(0,k.m9)(_)}class Dr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,k.ne)(f=>this.observer=f)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class rn{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Yt("not implemented")}_getIdTokenResponse(d){return Yt("not implemented")}_linkToIdToken(d,f){return Yt("not implemented")}_getReauthenticationResolver(d){return Yt("not implemented")}}function _r(){return(_r=(0,g.Z)(function*(_,d){return fn(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(_,d){return Ln(_,"POST","/v1/accounts:signInWithPassword",Lt(_,d))})).apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(_,d){return Ln(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,d))})).apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(function*(_,d){return Ln(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,d))})).apply(this,arguments)}class Pr extends rn{constructor(d,f,I,j=null){super("password",I),this._email=d,this._password=f,this._tenantId=j}static _fromEmailAndPassword(d,f){return new Pr(d,f,"password")}static _fromEmailAndCode(d,f,I=null){return new Pr(d,f,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function gi(_,d){return Jr.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function nr(_,d){return hn.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:$e(d,"internal-error")}})()}_linkToIdToken(d,f){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return function tr(_,d){return _r.apply(this,arguments)}(d,{idToken:f,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function yr(_,d){return Cr.apply(this,arguments)}(d,{idToken:f,email:I._email,oobCode:I._password});default:$e(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Rr(_,d){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,g.Z)(function*(_,d){return Ln(_,"POST","/v1/accounts:signInWithIdp",Lt(_,d))})).apply(this,arguments)}class Di extends rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Di(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):$e("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:j}=f,q=(0,me._T)(f,["providerId","signInMethod"]);if(!I||!j)return null;const Ne=new Di(I,j);return Ne.idToken=q.idToken||void 0,Ne.accessToken=q.accessToken||void 0,Ne.secret=q.secret,Ne.nonce=q.nonce,Ne.pendingToken=q.pendingToken||null,Ne}_getIdTokenResponse(d){return Rr(d,this.buildRequest())}_linkToIdToken(d,f){const I=this.buildRequest();return I.idToken=f,Rr(d,I)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Rr(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,k.xO)(f)}return d}}class Cs{constructor(d){var f,I,j,q,Ne,lt;const Ot=(0,k.zd)((0,k.pd)(d)),Xt=null!==(f=Ot.apiKey)&&void 0!==f?f:null,Nn=null!==(I=Ot.oobCode)&&void 0!==I?I:null,Br=function cs(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Ot.mode)&&void 0!==j?j:null);Be(Xt&&Nn&&Br,"argument-error"),this.apiKey=Xt,this.operation=Br,this.code=Nn,this.continueUrl=null!==(q=Ot.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(Ne=Ot.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(lt=Ot.tenantId)&&void 0!==lt?lt:null}static parseLink(d){const f=function Vi(_){const d=(0,k.zd)((0,k.pd)(_)).link,f=d?(0,k.zd)((0,k.pd)(d)).deep_link_id:null,I=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(I?(0,k.zd)((0,k.pd)(I)).link:null)||I||f||d||_}(d);try{return new Cs(f)}catch(I){return null}}}let ls=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,I){return Pr._fromEmailAndPassword(f,I)}static credentialWithLink(f,I){const j=Cs.parseLink(I);return Be(j,"argument-error"),Pr._fromEmailAndCode(f,j.code,j.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ur{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class bi extends Ur{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}let Ui=(()=>{class _ extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return Di._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:j}=f;if(!I&&!j)return null;try{return _.credential(I,j)}catch(q){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})();function $(_,d){return ge.apply(this,arguments)}function ge(){return(ge=(0,g.Z)(function*(_,d){return Ln(_,"POST","/v1/accounts:signUp",Lt(_,d))})).apply(this,arguments)}class Se{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,I,j=!1){return(0,g.Z)(function*(){const q=yield On._fromIdTokenResponse(d,I,j),Ne=wt(I);return new Se({user:q,providerId:Ne,_tokenResponse:I,operationType:f})})()}static _forOperation(d,f,I){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const j=wt(I);return new Se({user:d,providerId:j,_tokenResponse:I,operationType:f})})()}}function wt(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class Bn extends k.ZR{constructor(d,f,I,j){var q;super(f.code,f.message),this.operationType=I,this.user=j,Object.setPrototypeOf(this,Bn.prototype),this.customData={appName:d.name,tenantId:null!==(q=d.tenantId)&&void 0!==q?q:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,f,I,j){return new Bn(d,f,I,j)}}function Er(_,d,f,I){return("reauthenticate"===d?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?Bn._fromErrorAndOperation(_,q,d,I):q})}function os(_,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(_,d,f=!1){const I=yield bt(_,d._linkToIdToken(_.auth,yield _.getIdToken()),f);return Se._forOperation(_,"link",I)})).apply(this,arguments)}function W(){return(W=(0,g.Z)(function*(_,d,f=!1){const{auth:I}=_,j="reauthenticate";try{const q=yield bt(_,Er(I,j,d,_),f);Be(q.idToken,I,"internal-error");const Ne=nn(q.idToken);Be(Ne,I,"internal-error");const{sub:lt}=Ne;return Be(_.uid===lt,I,"user-mismatch"),Se._forOperation(_,j,q)}catch(q){throw"auth/user-not-found"===(null==q?void 0:q.code)&&$e(I,"user-mismatch"),q}})).apply(this,arguments)}function ae(_,d){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,g.Z)(function*(_,d,f=!1){const I="signIn",j=yield Er(_,I,d),q=yield Se._fromIdTokenResponse(_,I,j);return f||(yield _._updateCurrentUser(q.user)),q})).apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(_,d){return ae(mn(_),d)})).apply(this,arguments)}function hs(_,d,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,g.Z)(function*(_,d,f){const I=mn(_),j=yield $(I,{returnSecureToken:!0,email:d,password:f}),q=yield Se._fromIdTokenResponse(I,"signIn",j);return yield I._updateCurrentUser(q.user),q})).apply(this,arguments)}function Ns(_,d,f){return function st(_,d){return Vt.apply(this,arguments)}((0,k.m9)(_),ls.credential(d,f))}function $i(_,d,f,I){return(0,k.m9)(_).onAuthStateChanged(d,f,I)}const Gi="__sak";class lr{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Gi,"1"),this.storage.removeItem(Gi),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const yt=(()=>{class _ extends lr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Io(){const _=(0,k.z$)();return ar(_)||gr(_)}()&&function Nt(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ht(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const j=this.storage.getItem(I),q=this.localCache[I];j!==q&&f(I,q,j)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((lt,Ot,Xt)=>{this.notifyListeners(lt,Xt)});const j=f.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(j);if(f.newValue!==lt)null!==f.newValue?this.storage.setItem(j,f.newValue):this.storage.removeItem(j);else if(this.localCache[j]===f.newValue&&!I)return}const q=()=>{const lt=this.storage.getItem(j);!I&&this.localCache[j]===lt||this.notifyListeners(j,lt)},Ne=this.storage.getItem(j);!function Et(){return(0,k.w1)()&&10===document.documentMode}()||Ne===f.newValue||f.newValue===f.oldValue?q():setTimeout(q,10)}notifyListeners(f,I){this.localCache[f]=I;const j=this.listeners[f];if(j)for(const q of Array.from(j))q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var j=()=>super._set,q=this;return(0,g.Z)(function*(){yield j().call(q,f,I),q.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,j=this;return(0,g.Z)(function*(){const q=yield I().call(j,f);return j.localCache[f]=JSON.stringify(q),q})()}_remove(f){var I=()=>super._remove,j=this;return(0,g.Z)(function*(){yield I().call(j,f),delete j.localCache[f]})()}}return _.type="LOCAL",_})(),li=(()=>{class _ extends lr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return _.type="SESSION",_})();let Bt=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const I=this.receivers.find(q=>q.isListeningto(f));if(I)return I;const j=new _(f);return this.receivers.push(j),j}isListeningto(f){return this.eventTarget===f}handleEvent(f){var I=this;return(0,g.Z)(function*(){const j=f,{eventId:q,eventType:Ne,data:lt}=j.data,Ot=I.handlersMap[Ne];if(!(null==Ot?void 0:Ot.size))return;j.ports[0].postMessage({status:"ack",eventId:q,eventType:Ne});const Xt=Array.from(Ot).map(function(){var Br=(0,g.Z)(function*(Xs){return Xs(j.origin,lt)});return function(Xs){return Br.apply(this,arguments)}}()),Nn=yield function Pu(_){return Promise.all(_.map(function(){var d=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(I){return{fulfilled:!1,reason:I}}});return function(f){return d.apply(this,arguments)}}()))}(Xt);j.ports[0].postMessage({status:"done",eventId:q,eventType:Ne,response:Nn})})()}_subscribe(f,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(I)}_unsubscribe(f,I){this.handlersMap[f]&&I&&this.handlersMap[f].delete(I),(!I||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function en(_="",d=10){let f="";for(let I=0;I<d;I++)f+=Math.floor(10*Math.random());return _+f}class Va{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,I=50){var j=this;return(0,g.Z)(function*(){const q="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let Ne,lt;return new Promise((Ot,Xt)=>{const Nn=en("",20);q.port1.start();const Br=setTimeout(()=>{Xt(new Error("unsupported_event"))},I);lt={messageChannel:q,onMessage(Xs){const va=Xs;if(va.data.eventId===Nn)switch(va.data.status){case"ack":clearTimeout(Br),Ne=setTimeout(()=>{Xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Ot(va.data.response);break;default:clearTimeout(Br),clearTimeout(Ne),Xt(new Error("invalid_response"))}}},j.handlers.add(lt),q.port1.addEventListener("message",lt.onMessage),j.target.postMessage({eventType:d,eventId:Nn,data:f},[q.port2])}).finally(()=>{lt&&j.removeMessageHandler(lt)})})()}}function ft(){return window}function ct(){return void 0!==ft().WorkerGlobalScope&&"function"==typeof ft().importScripts}function Do(){return(Do=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Wo="firebaseLocalStorageDb",uo="firebaseLocalStorage",ra="fbase_key";class co{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function ia(_,d){return _.transaction([uo],d?"readwrite":"readonly").objectStore(uo)}function sa(){const _=indexedDB.open(Wo,1);return new Promise((d,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(uo,{keyPath:ra})}catch(j){f(j)}}),_.addEventListener("success",(0,g.Z)(function*(){const I=_.result;I.objectStoreNames.contains(uo)?d(I):(I.close(),yield function Xr(){const _=indexedDB.deleteDatabase(Wo);return new co(_).toPromise()}(),d(yield sa()))}))})}function w(_,d,f){return v.apply(this,arguments)}function v(){return(v=(0,g.Z)(function*(_,d,f){const I=ia(_,!0).put({[ra]:d,value:f});return new co(I).toPromise()})).apply(this,arguments)}function A(){return(A=(0,g.Z)(function*(_,d){const f=ia(_,!1).get(d),I=yield new co(f).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function N(_,d){const f=ia(_,!0).delete(d);return new co(f).toPromise()}const We=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield sa()),f.db})()}_withRetries(f){var I=this;return(0,g.Z)(function*(){let j=0;for(;;)try{const q=yield I._openDb();return yield f(q)}catch(q){if(j++>3)throw q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return ct()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=Bt._getInstance(function zo(){return ct()?self:null}()),f.receiver._subscribe("keyChanged",function(){var I=(0,g.Z)(function*(j,q){return{keyProcessed:(yield f._poll()).includes(q.key)}});return function(j,q){return I.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var I=(0,g.Z)(function*(j,q){return["keyChanged"]});return function(j,q){return I.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var I,j;if(f.activeServiceWorker=yield function Fr(){return Do.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Va(f.activeServiceWorker);const q=yield f.sender._send("ping",{},800);!q||(null===(I=q[0])||void 0===I?void 0:I.fulfilled)&&(null===(j=q[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var I=this;return(0,g.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Zs(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:f},I.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield sa();return yield w(f,Gi,"1"),yield N(f,Gi),!0}catch(f){}return!1})()}_withPendingWrite(f){var I=this;return(0,g.Z)(function*(){I.pendingWrites++;try{yield f()}finally{I.pendingWrites--}})()}_set(f,I){var j=this;return(0,g.Z)(function*(){return j._withPendingWrite((0,g.Z)(function*(){return yield j._withRetries(q=>w(q,f,I)),j.localCache[f]=I,j.notifyServiceWorker(f)}))})()}_get(f){var I=this;return(0,g.Z)(function*(){const j=yield I._withRetries(q=>function m(_,d){return A.apply(this,arguments)}(q,f));return I.localCache[f]=j,j})()}_remove(f){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(j=>N(j,f)),delete I.localCache[f],I.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const I=yield f._withRetries(Ne=>{const lt=ia(Ne,!1).getAll();return new co(lt).toPromise()});if(!I)return[];if(0!==f.pendingWrites)return[];const j=[],q=new Set;for(const{fbase_key:Ne,value:lt}of I)q.add(Ne),JSON.stringify(f.localCache[Ne])!==JSON.stringify(lt)&&(f.notifyListeners(Ne,lt),j.push(Ne));for(const Ne of Object.keys(f.localCache))f.localCache[Ne]&&!q.has(Ne)&&(f.notifyListeners(Ne,null),j.push(Ne));return j})()}notifyListeners(f,I){this.localCache[f]=I;const j=this.listeners[f];if(j)for(const q of Array.from(j))q(I)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Qn(_){return`__${_}${Math.floor(1e6*Math.random())}`}function Hr(_,d){return d?ie(d):(Be(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}Qn("rcb"),new Zt(3e4,6e4);class ho extends rn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Rr(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Rr(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Rr(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function wr(_){return ae(_.auth,new ho(_),_.bypassAuthState)}function ca(_){const{auth:d,user:f}=_;return Be(f,d,"internal-error"),function O(_,d){return W.apply(this,arguments)}(f,new ho(_),_.bypassAuthState)}function la(_){return fo.apply(this,arguments)}function fo(){return(fo=(0,g.Z)(function*(_){const{auth:d,user:f}=_;return Be(f,d,"internal-error"),os(f,new ho(_),_.bypassAuthState)})).apply(this,arguments)}class da{constructor(d,f,I,j,q=!1){this.auth=d,this.resolver=I,this.user=j,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,g.Z)(function*(I,j){d.pendingPromise={resolve:I,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(q){d.reject(q)}});return function(I,j){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:j,postBody:q,tenantId:Ne,error:lt,type:Ot}=d;if(lt)return void f.reject(lt);const Xt={auth:f.auth,requestUri:I,sessionId:j,tenantId:Ne||void 0,postBody:q||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ot)(Xt))}catch(Nn){f.reject(Nn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return wr;case"linkViaPopup":case"linkViaRedirect":return la;case"reauthViaPopup":case"reauthViaRedirect":return ca;default:$e(this.auth,"internal-error")}}resolve(d){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fc=new Zt(2e3,1e4);function pc(_,d,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,g.Z)(function*(_,d,f){const I=mn(_);Ye(_,d,Ur);const j=Hr(I,f);return new ou(I,"signInViaPopup",d,j).executeNotNull()})).apply(this,arguments)}let ou=(()=>{class _ extends da{constructor(f,I,j,q,Ne){super(f,I,q,Ne),this.provider=j,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const I=yield f.execute();return Be(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,g.Z)(function*(){ee(1===f.filter.length,"Popup operations only handle one event");const I=en();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(j=>{f.reject(j)}),f.resolver._isIframeWebStorageSupported(f.auth,j=>{j||f.reject(Re(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,j;this.pollId=(null===(j=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,fc.get())};f()}}return _.currentPopupAction=null,_})();const au=new Map;class To extends da{constructor(d,f,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,g.Z)(function*(){let I=au.get(f.auth._key());if(!I){try{const q=(yield function ol(_,d){return Js.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;I=()=>Promise.resolve(q)}catch(j){I=()=>Promise.reject(j)}au.set(f.auth._key(),I)}return f.bypassAuthState||au.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(I,d);if("unknown"!==d.type){if(d.eventId){const j=yield I.auth._redirectUserForId(d.eventId);if(j)return I.user=j,f().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Js(){return(Js=(0,g.Z)(function*(_,d){const f=lu(d),I=js(_);if(!(yield I._isAvailable()))return!1;const j="true"===(yield I._get(f));return yield I._remove(f),j})).apply(this,arguments)}function js(_){return ie(_._redirectPersistence)}function lu(_){return Ut("pendingRedirect",_.config.apiKey,_.name)}function $n(_,d){return Si.apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(_,d,f=!1){const I=mn(_),j=Hr(I,d),Ne=yield new To(I,j,f).execute();return Ne&&!f&&(delete Ne.user._redirectEventId,yield I._persistUserIfCurrent(Ne.user),yield I._setRedirectUser(null,d)),Ne})).apply(this,arguments)}class ja{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(f=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Ao(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var I;if(d.error&&!ms(d)){const j=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(Re(this.auth,j))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const I=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($s(d))}saveEventToCache(d){this.cachedEventUids.add($s(d)),this.lastProcessedEventTime=Date.now()}}function $s(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function ms({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function So(_){return mc.apply(this,arguments)}function mc(){return(mc=(0,g.Z)(function*(_,d={}){return fn(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,al=/^https?/;function Vu(){return(Vu=(0,g.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield So(_);for(const f of d)try{if(hu(f))return}catch(I){}$e(_,"unauthorized-domain")})).apply(this,arguments)}function hu(_){const d=te(),{protocol:f,hostname:I}=new URL(d);if(_.startsWith("chrome-extension://")){const Ne=new URL(_);return""===Ne.hostname&&""===I?"chrome-extension:"===f&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&Ne.hostname===I}if(!al.test(f))return!1;if(Lu.test(_))return I===_;const j=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(I)}const $a=new Zt(3e4,6e4);function fa(){const _=ft().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let Uu=null;function Bu(_){return Uu=Uu||function po(_){return new Promise((d,f)=>{var I,j,q;function Ne(){fa(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{fa(),f(Re(_,"network-request-failed"))},timeout:$a.get()})}if(null===(j=null===(I=ft().gapi)||void 0===I?void 0:I.iframes)||void 0===j?void 0:j.Iframe)d(gapi.iframes.getContext());else{if(!(null===(q=ft().gapi)||void 0===q?void 0:q.load)){const lt=Qn("iframefcb");return ft()[lt]=()=>{gapi.load?Ne():f(Re(_,"network-request-failed"))},function Ys(_){return new Promise((d,f)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=d,I.onerror=j=>{const q=Re("internal-error");q.customData=j,f(q)},I.type="text/javascript",I.charset="UTF-8",function Kn(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(I)})}(`https://apis.google.com/js/api.js?onload=${lt}`).catch(Ot=>f(Ot))}Ne()}}).catch(d=>{throw Uu=null,d})}(_),Uu}const ul=new Zt(5e3,15e3),fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ph=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mi(_){const d=_.config;Be(d.authDomain,_,"auth-domain-config-required");const f=d.emulator?Dn(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,I={apiKey:d.apiKey,appName:_.name,v:ue.Jn},j=ph.get(_.config.apiHost);j&&(I.eid=j);const q=_._getFrameworks();return q.length&&(I.fw=q.join(",")),`${f}?${(0,k.xO)(I).slice(1)}`}function pa(){return pa=(0,g.Z)(function*(_){const d=yield Bu(_),f=ft().gapi;return Be(f,_,"internal-error"),d.open({where:document.body,url:Mi(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fh,dontclear:!0},I=>new Promise(function(){var j=(0,g.Z)(function*(q,Ne){yield I.restyle({setHideOnLeave:!1});const lt=Re(_,"network-request-failed"),Ot=ft().setTimeout(()=>{Ne(lt)},ul.get());function Xt(){ft().clearTimeout(Ot),q(I)}I.ping(Xt).then(Xt,()=>{Ne(lt)})});return function(q,Ne){return j.apply(this,arguments)}}()))}),pa.apply(this,arguments)}const fu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ga{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function pu(_,d,f,I,j,q){Be(_.config.authDomain,_,"auth-domain-config-required"),Be(_.config.apiKey,_,"invalid-api-key");const Ne={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:I,v:ue.Jn,eventId:j};if(d instanceof Ur){d.setDefaultLanguage(_.languageCode),Ne.providerId=d.providerId||"",(0,k.xb)(d.getCustomParameters())||(Ne.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ot,Xt]of Object.entries(q||{}))Ne[Ot]=Xt}if(d instanceof bi){const Ot=d.getScopes().filter(Xt=>""!==Xt);Ot.length>0&&(Ne.scopes=Ot.join(","))}_.tenantId&&(Ne.tid=_.tenantId);const lt=Ne;for(const Ot of Object.keys(lt))void 0===lt[Ot]&&delete lt[Ot];return`${function fl({config:_}){return _.emulator?Dn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(lt).slice(1)}`}const pl="webStorageSupport",cr=class xi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=li,this._completeRedirectFn=$n}_openPopup(d,f,I,j){var q=this;return(0,g.Z)(function*(){var Ne;ee(null===(Ne=q.eventManagers[d._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const lt=pu(d,f,I,te(),j);return function ma(_,d,f,I=500,j=600){const q=Math.max((window.screen.availHeight-j)/2,0).toString(),Ne=Math.max((window.screen.availWidth-I)/2,0).toString();let lt="";const Ot=Object.assign(Object.assign({},fu),{width:I.toString(),height:j.toString(),top:q,left:Ne}),Xt=(0,k.z$)().toLowerCase();f&&(lt=si(Xt)?"_blank":f),wi(Xt)&&(d=d||"http://localhost",Ot.scrollbars="yes");const Nn=Object.entries(Ot).reduce((Xs,[va,gl])=>`${Xs}${va}=${gl},`,"");if(function mr(_=(0,k.z$)()){var d;return gr(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Xt)&&"_self"!==lt)return function ll(_,d){const f=document.createElement("a");f.href=_,f.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(d||"",lt),new ga(null);const Br=window.open(d||"",lt,Nn);Be(Br,_,"popup-blocked");try{Br.focus()}catch(Xs){}return new ga(Br)}(d,lt,en())})()}_openRedirect(d,f,I,j){var q=this;return(0,g.Z)(function*(){return yield q._originValidation(d),function ze(_){ft().location.href=_}(pu(d,f,I,te(),j)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:j,promise:q}=this.eventManagers[f];return j?Promise.resolve(j):(ee(q,"If manager is not set, promise should be"),q)}const I=this.initAndGetManager(d);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(d){var f=this;return(0,g.Z)(function*(){const I=yield function Ga(_){return pa.apply(this,arguments)}(d),j=new ja(d);return I.register("authEvent",q=>(Be(null==q?void 0:q.authEvent,d,"invalid-auth-event"),{status:j.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:j},f.iframes[d._key()]=I,j})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(pl,{type:pl},j=>{var q;const Ne=null===(q=null==j?void 0:j[0])||void 0===q?void 0:q[pl];void 0!==Ne&&f(!!Ne),$e(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function yc(_){return Vu.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return ht()||ar()||gr()}};var _c="@firebase/auth";class ni{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(I=>{var j;d((null===(j=I)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rd(_=(0,ue.Mq)()){const d=(0,ue.qX)(_,"auth");return d.isInitialized()?d.getImmediate():function ye(_,d){const f=(0,ue.qX)(_,"auth");if(f.isInitialized()){const j=f.getImmediate(),q=f.getOptions();if((0,k.vZ)(q,null!=d?d:{}))return j;$e(j,"already-initialized")}return f.initialize({options:d})}(_,{popupRedirectResolver:cr,persistence:[We,yt,li]})}!function $u(_){(0,ue.Xd)(new Pe.wA("auth",(d,{options:f})=>{const I=d.getProvider("app").getImmediate(),{apiKey:j,authDomain:q}=I.options;return(Ne=>{Be(j&&!j.includes(":"),"invalid-api-key",{appName:Ne.name}),Be(!(null==q?void 0:q.includes(":")),"argument-error",{appName:Ne.name});const lt={apiKey:j,authDomain:q,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:un(_)},Ot=new Hn(Ne,lt);return function Oe(_,d){const f=(null==d?void 0:d.persistence)||[],I=(Array.isArray(f)?f:[f]).map(ie);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(I,null==d?void 0:d.popupRedirectResolver)}(Ot,f),Ot})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,I)=>{d.getProvider("auth-internal").initialize()})),(0,ue.Xd)(new Pe.wA("auth-internal",d=>{const f=mn(d.getProvider("auth").getImmediate());return new ni(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.KN)(_c,"0.19.9",function yh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.KN)(_c,"0.19.9","esm2017")}("Browser")},3209:(Ft,Ue,F)=>{"use strict";F.d(Ue,{hJ:()=>km,oe:()=>Ag,JU:()=>Lf,QT:()=>bg,ad:()=>Vm,cf:()=>Yf,IO:()=>Ig,pl:()=>Tg,r7:()=>cy,ar:()=>Km});var ce,g=F(5861),k=F(9681),ue=F(4859),me=F(1877),he=F(2090),Pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ce={},Me=Me||{},Z=Pe||self;function X(){}function Ae(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function xe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var rt="closure_uid_"+(1e9*Math.random()>>>0),Je=0;function be(i,e,r){return i.call.apply(i.bind,arguments)}function ot(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function qe(i,e,r){return(qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?be:ot).apply(null,arguments)}function $e(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Re(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,u,h){for(var y=Array(arguments.length-2),b=2;b<arguments.length;b++)y[b-2]=arguments[b];return e.prototype[u].apply(o,y)}}function Le(){this.s=this.s,this.o=this.o}var Tt={};Le.prototype.s=!1,Le.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function ke(i){return Object.prototype.hasOwnProperty.call(i,rt)&&i[rt]||(i[rt]=++Je)}(this);delete Tt[i]}},Le.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Be=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},Yt=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,u="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in u&&e.call(r,u[h],h,i)};function re(i){return Array.prototype.concat.apply([],arguments)}function ie(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function ye(i){return/^[\s\xa0]*$/.test(i)}var Dt,Oe=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function te(i,e){return-1!=i.indexOf(e)}function gt(i,e){return i<e?-1:i>e?1:0}e:{var An=Z.navigator;if(An){var dt=An.userAgent;if(dt){Dt=dt;break e}}Dt=""}function Zt(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function Dn(i){const e={};for(const r in i)e[r]=i[r];return e}var qt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cn(i,e){let r,o;for(let u=1;u<arguments.length;u++){for(r in o=arguments[u],o)i[r]=o[r];for(let h=0;h<qt.length;h++)r=qt[h],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function jt(i){return jt[" "](i),i}jt[" "]=X;var Nr,i,fn=te(Dt,"Opera"),Fn=te(Dt,"Trident")||te(Dt,"MSIE"),br=te(Dt,"Edge"),tn=br||Fn,Ln=te(Dt,"Gecko")&&!(te(Dt.toLowerCase(),"webkit")&&!te(Dt,"Edge"))&&!(te(Dt,"Trident")||te(Dt,"MSIE"))&&!te(Dt,"Edge"),xr=te(Dt.toLowerCase(),"webkit")&&!te(Dt,"Edge");function Ir(){var i=Z.document;return i?i.documentMode:void 0}e:{var Jn="",Lr=(i=Dt,Ln?/rv:([^\);]+)(\)|;)/.exec(i):br?/Edge\/([\d\.]+)/.exec(i):Fn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):xr?/WebKit\/(\S+)/.exec(i):fn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Lr&&(Jn=Lr?Lr[1]:""),Fn){var fr=Ir();if(null!=fr&&fr>parseFloat(Jn)){Nr=String(fr);break e}}Nr=Jn}var Qr={};var nt=Z.document&&Fn&&(Ir()||parseInt(Nr,10))||void 0,bn=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Z.addEventListener("test",X,e),Z.removeEventListener("test",X,e)}catch(r){}return i}();function an(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function pn(i,e){if(an.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ln){e:{try{jt(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:sr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&pn.Z.h.call(this)}}an.prototype.h=function(){this.defaultPrevented=!0},Re(pn,an);var sr={2:"touch",3:"pen",4:"mouse"};pn.prototype.h=function(){pn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),et=0;function bt(i,e,r,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=u,this.key=++et,this.ca=this.fa=!1}function Tr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Wr(i){this.src=i,this.g={},this.h=0}function Xn(i,e){var r=e.type;if(r in i.g){var h,o=i.g[r],u=Be(o,e);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(Tr(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function ii(i,e,r,o){for(var u=0;u<i.length;++u){var h=i[u];if(!h.ca&&h.listener==e&&h.capture==!!r&&h.ia==o)return u}return-1}Wr.prototype.add=function(i,e,r,o,u){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var y=ii(i,e,o,u);return-1<y?(e=i[y],r||(e.fa=!1)):((e=new bt(e,this.src,h,!!o,u)).fa=r,i.push(e)),e};var or="closure_lm_"+(1e6*Math.random()|0),Ei={};function de(i,e,r,o,u){if(o&&o.once)return je(i,e,r,o,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)de(i,e[h],r,o,u);return null}return r=Gn(r),i&&i[nn]?i.N(e,r,xe(o)?!!o.capture:!!o,u):oe(i,e,r,!1,o,u)}function oe(i,e,r,o,u,h){if(!e)throw Error("Invalid event type");var y=xe(u)?!!u.capture:!!u,b=On(i);if(b||(i[or]=b=new Wr(i)),(r=b.add(e,r,o,y,h)).proxy)return r;if(o=function ve(){var e=gn;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)bn||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(St(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function je(i,e,r,o,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)je(i,e[h],r,o,u);return null}return r=Gn(r),i&&i[nn]?i.O(e,r,xe(o)?!!o.capture:!!o,u):oe(i,e,r,!0,o,u)}function we(i,e,r,o,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)we(i,e[h],r,o,u);else o=xe(o)?!!o.capture:!!o,r=Gn(r),i&&i[nn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=ii(h=i.g[e],r,o,u))&&(Tr(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=On(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ii(e,r,o,u)),(r=-1<i?e[i]:null)&&Ze(r))}function Ze(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[nn])Xn(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(St(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=On(e))?(Xn(r,i),0==r.h&&(r.src=null,e[or]=null)):Tr(i)}}}function St(i){return i in Ei?Ei[i]:Ei[i]="on"+i}function gn(i,e){if(i.ca)i=!0;else{e=new pn(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&Ze(i),i=r.call(o,e)}return i}function On(i){return(i=i[or])instanceof Wr?i:null}var Vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(i){return"function"==typeof i?i:(i[Vn]||(i[Vn]=function(e){return i.handleEvent(e)}),i[Vn])}function Ut(){Le.call(this),this.i=new Wr(this),this.P=this,this.I=null}function dn(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new an(e,i);else if(e instanceof an)e.target=e.target||i;else{var u=e;Cn(e=new an(o,i),u)}if(u=!0,r)for(var h=r.length-1;0<=h;h--){var y=e.g=r[h];u=Vr(y,o,!0,e)&&u}if(u=Vr(y=e.g=i,o,!0,e)&&u,u=Vr(y,o,!1,e)&&u,r)for(h=0;h<r.length;h++)u=Vr(y=e.g=r[h],o,!1,e)&&u}function Vr(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var y=e[h];if(y&&!y.ca&&y.capture==r){var b=y.listener,L=y.ia||y.src;y.fa&&Xn(i.i,y),u=!1!==b.call(L,o)&&u}}return u&&!o.defaultPrevented}Re(Ut,Le),Ut.prototype[nn]=!0,Ut.prototype.removeEventListener=function(i,e,r,o){we(this,i,e,r,o)},Ut.prototype.M=function(){if(Ut.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)Tr(r[o]);delete i.g[e],i.h--}}this.I=null},Ut.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},Ut.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var wi=Z.JSON.stringify;function ar(){var i=Et;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var gr,pr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new sn,i=>i.reset());class sn{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ii(i){Z.setTimeout(()=>{throw i},0)}function pi(i,e){gr||function Pi(){var i=Z.Promise.resolve(void 0);gr=function(){i.then(ht)}}(),mr||(gr(),mr=!0),Et.add(i,e)}var mr=!1,Et=new class si{constructor(){this.h=this.g=null}add(e,r){const o=pr.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function ht(){for(var i;i=ar();){try{i.h.call(i.g)}catch(r){Ii(r)}var e=pr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}mr=!1}function Nt(i,e){Ut.call(this),this.h=i||1,this.g=e||Z,this.j=qe(this.kb,this),this.l=Date.now()}function un(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Hn(i,e,r){if("function"==typeof i)r&&(i=qe(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=qe(i.handleEvent,i)}return 2147483647<Number(e)?-1:Z.setTimeout(i,e||0)}function mn(i){i.g=Hn(()=>{i.g=null,i.i&&(i.i=!1,mn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Re(Nt,Ut),(ce=Nt.prototype).da=!1,ce.S=null,ce.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dn(this,"tick"),this.da&&(un(this),this.start()))}},ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){Nt.Z.M.call(this),un(this),delete this.g};class Dr extends Le{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mn(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(i){Le.call(this),this.h=i,this.g={}}Re(Zn,Le);var yn=[];function ki(i,e,r,o){Array.isArray(r)||(r&&(yn[0]=r.toString()),r=yn);for(var u=0;u<r.length;u++){var h=de(e,r[u],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function er(i){Zt(i.g,function(e,r){this.g.hasOwnProperty(r)&&Ze(e)},i),i.g={}}function _t(){this.g=!0}function zn(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _r(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var y=1;y<u.length;y++)u[y]=""}}}return wi(r)}catch(b){return e}}(i,r)+(o?" "+o:"")})}Zn.prototype.M=function(){Zn.Z.M.call(this),er(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_t.prototype.Aa=function(){this.g=!1},_t.prototype.info=function(){};var Or={},Un=null;function gi(){return Un=Un||new Ut}function Jr(i){an.call(this,Or.Ma,i)}function Ht(i){const e=gi();dn(e,new Jr(e,i))}function $r(i,e){an.call(this,Or.STAT_EVENT,i),this.stat=e}function kn(i){const e=gi();dn(e,new $r(e,i))}function Ee(i,e){an.call(this,Or.Na,i),this.size=e}function pe(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){i()},e)}Or.Ma="serverreachability",Re(Jr,an),Or.STAT_EVENT="statevent",Re($r,an),Or.Na="timingevent",Re(Ee,an);var Ie={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ut(){}function Gt(){}ut.prototype.h=null;var Cr,nr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hn(){an.call(this,"d")}function yr(){an.call(this,"c")}function Pr(){}function Rr(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new Zn(this),this.P=Gr,this.W=new Nt(i=tn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}Re(hn,an),Re(yr,an),Re(Pr,ut),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},Cr=new Pr;var Gr=45e3,Di={},Ci={};function Ds(i,e,r){i.K=1,i.v=$(oi(e)),i.s=r,i.U=!0,ts(i,null)}function ts(i,e){i.F=Date.now(),is(i),i.A=oi(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),O(r.h,"t",o),i.C=0,r=i.l.H,i.h=new Ar,i.g=Ru(i.l,r?e:null,!i.s),0<i.O&&(i.L=new Dr(qe(i.Ia,i,i.g),i.O)),ki(i.V,i.g,"readystatechange",i.gb),e=i.H?Dn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ht(1),function rn(i,e,r,o,u,h){i.info(function(){if(i.g)if(h)for(var y="",b=h.split("&"),L=0;L<b.length;L++){var z=b[L].split("=");if(1<z.length){var se=z[0];z=z[1];var _e=se.split("_");y=2<=_e.length&&"type"==_e[1]?y+(se+"=")+z+"&":y+(se+"=redacted&")}}else y=null;else y=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+r+"\n"+y})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ns(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function rs(i,e,r){let u,o=!0;for(;!i.I&&i.C<r.length;){if(u=Fi(i,r),u==Ci){4==e&&(i.o=4,kn(14),o=!1),zn(i.j,i.m,null,"[Incomplete Response]");break}if(u==Di){i.o=4,kn(15),zn(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}zn(i.j,i.m,u,null),Vi(i,u)}ns(i)&&u!=Ci&&u!=Di&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,kn(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),qs(e),e.L=!0,kn(11))):(zn(i.j,i.m,r,"[Invalid Chunked Response]"),cs(i),Li(i))}function Fi(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?Ci:(r=Number(e.substring(r,o)),isNaN(r)?Di:(o+=1)+r>e.length?Ci:(e=e.substr(o,r),i.C=o+r,e))}function is(i){i.Y=Date.now()+i.P,Os(i,i.P)}function Os(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=pe(qe(i.eb,i),e)}function ss(i){i.B&&(Z.clearTimeout(i.B),i.B=null)}function Li(i){0==i.l.G||i.I||Pa(i.l,i)}function cs(i){ss(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,un(i.W),er(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Vi(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||Yn(r.i,i)))if(r.I=i.N,!i.J&&Yn(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(r.u)r.ta=u[1],0<r.ta-r.U&&37500>u[2]&&r.N&&0==r.A&&!r.v&&(r.v=pe(qe(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;$o(r),ji(r)}Bo(r),kn(18)}if(1>=rr(r.i)&&r.ka){try{r.ka()}catch(z){}r.ka=void 0}}else bs(r,11)}else if((i.J||r.g==i)&&$o(r),!ye(e))for(u=r.Ca.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(r.U=z[0],z=z[1],2==r.G)if("c"==z[0]){r.J=z[1],r.la=z[2];const se=z[3];null!=se&&(r.ma=se,r.h.info("VER="+r.ma));const _e=z[4];null!=_e&&(r.za=_e,r.h.info("SVER="+r.za));const Ve=z[5];null!=Ve&&"number"==typeof Ve&&0<Ve&&(r.K=o=1.5*Ve,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const at=i.g;if(at){const mt=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mt){var h=o.i;!h.g&&(te(mt,"spdy")||te(mt,"quic")||te(mt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(cn(h,h.h),h.h=null))}if(o.D){const Jt=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;Jt&&(o.sa=Jt,K(o.F,o.D,Jt))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var y=i;if((o=r).oa=Go(o,o.H?o.la:null,o.W),y.J){jn(o.i,y);var b=y,L=o.K;L&&b.setTimeout(L),b.B&&(ss(b),is(b)),o.g=y}else Ls(o);0<r.l.length&&Vo(r)}else"stop"!=z[0]&&"close"!=z[0]||bs(r,7);else 3==r.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?bs(r,7):Fs(r):"noop"!=z[0]&&r.j&&r.j.wa(z),r.A=0)}Ht(4)}catch(z){}}function mi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ae(i)||"string"==typeof i)Yt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Ae(i)||"string"==typeof i){r=[];for(var o=i.length,u=0;u<o;u++)r.push(u)}else for(u in r=[],o=0,i)r[o++]=u;o=function Cs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ae(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),u=o.length;for(var h=0;h<u;h++)e.call(void 0,o[h],r&&r[h],i)}}function ls(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ls)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function Ur(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];bi(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var u={};for(r=e=0;e<i.g.length;)bi(u,o=i.g[e])||(i.g[r++]=o,u[o]=1),e++;i.g.length=r}}function bi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ce=Rr.prototype).setTimeout=function(i){this.P=i},ce.gb=function(i){i=i.target;const e=this.L;e&&3==Ps(i)?e.l():this.Ia(i)},ce.Ia=function(i){try{if(i==this.g)e:{const se=Ps(this.g);var e=this.g.Da();const _e=this.g.ba();if(!(3>se)&&(3!=se||tn||this.g&&(this.h.h||this.g.ga()||ks(this.g)))){this.I||4!=se||7==e||Ht(8==e||0>=_e?3:2),ss(this);var r=this.g.ba();this.N=r;t:if(ns(this)){var o=ks(this.g);i="";var u=o.length,h=4==Ps(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cs(this),Li(this);var y="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==r,function Mn(i,e,r,o,u,h,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+h+" "+y})}(this.j,this.u,this.A,this.m,this.X,se,r),this.i){if(this.$&&!this.J){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(b)){var z=b;break t}}z=null}if(!(r=z)){this.i=!1,this.o=3,kn(12),cs(this),Li(this);break e}zn(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vi(this,r)}this.U?(rs(this,se,y),tn&&this.i&&3==se&&(ki(this.V,this.W,"tick",this.fb),this.W.start())):(zn(this.j,this.m,y,null),Vi(this,y)),4==se&&cs(this),this.i&&!this.I&&(4==se?Pa(this.l,this):(this.i=!1,is(this)))}else 400==r&&0<y.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),cs(this),Li(this)}}}catch(se){}},ce.fb=function(){if(this.g){var i=Ps(this.g),e=this.g.ga();this.C<e.length&&(ss(this),rs(this,i,e),this.i&&4!=i&&is(this))}},ce.cancel=function(){this.I=!0,cs(this)},ce.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function tr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ht(3),kn(17)),cs(this),this.o=2,Li(this)):Os(this,this.Y-i)},(ce=ls.prototype).R=function(){Ur(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ce.T=function(){return Ur(this),this.g.concat()},ce.get=function(i,e){return bi(this.h,i)?this.h[i]:e},ce.set=function(i,e){bi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ce.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var u=r[o],h=this.get(u);i.call(e,h,u,this)}};var Qi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ui(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ui){this.g=void 0!==e?e:i.g,Rs(this,i.j),this.s=i.s,kr(this,i.i),yi(this,i.m),this.l=i.l,e=i.h;var r=new os;r.i=e.i,e.g&&(r.g=new ls(e.g),r.h=e.h),Q(this,r),this.o=i.o}else i&&(r=String(i).match(Qi))?(this.g=!!e,Rs(this,r[1]||"",!0),this.s=wt(r[2]||""),kr(this,r[3]||"",!0),yi(this,r[4]),this.l=wt(r[5]||"",!0),Q(this,r[6]||"",!0),this.o=wt(r[7]||"")):(this.g=!!e,this.h=new os(null,this.g))}function oi(i){return new Ui(i)}function Rs(i,e,r){i.j=r?wt(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function kr(i,e,r){i.i=r?wt(e,!0):e}function yi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Q(i,e,r){e instanceof os?(i.h=e,function ae(i,e){e&&!i.j&&(ui(i),i.i=null,i.g.forEach(function(r,o){var u=o.toLowerCase();o!=u&&(x(this,o),O(this,u,r))},i)),i.j=e}(i.h,i.g)):(r||(e=Pt(e,Eo)),i.h=new os(e,i.g))}function K(i,e,r){i.h.set(e,r)}function $(i){return K(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function wt(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Pt(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,Tn),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Tn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ui.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Pt(e,Bn,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Pt(e,Bn,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Pt(r,"/"==r.charAt(0)?vi:Er,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Pt(r,ai)),i.join("")};var Bn=/[#\/\?@]/g,Er=/[#\?:]/g,vi=/[#\?]/g,Eo=/[#\?@]/g,ai=/#/g;function os(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ui(i){i.g||(i.g=new ls,i.h=0,i.i&&function ds(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),u=null;if(0<=o){var h=i[r].substring(0,o);u=i[r].substring(o+1)}else h=i[r];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function x(i,e){ui(i),e=W(i,e),bi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,bi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Ur(i)))}function U(i,e){return ui(i),e=W(i,e),bi(i.g.h,e)}function O(i,e,r){x(i,e),0<r.length&&(i.i=null,i.g.set(W(i,e),ie(r)),i.h+=r.length)}function W(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function st(i){this.l=i||Vt,i=Z.PerformanceNavigationTiming?0<(i=Z.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Z.g&&Z.g.Ea&&Z.g.Ea()&&Z.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=os.prototype).add=function(i,e){ui(this),this.i=null,i=W(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ce.forEach=function(i,e){ui(this),this.g.forEach(function(r,o){Yt(r,function(u){i.call(e,u,o,this)},this)},this)},ce.T=function(){ui(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var u=i[o],h=0;h<u.length;h++)r.push(e[o]);return r},ce.R=function(i){ui(this);var e=[];if("string"==typeof i)U(this,i)&&(e=re(e,this.g.get(W(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=re(e,i[r])}return e},ce.set=function(i,e){return ui(this),this.i=null,U(this,i=W(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var y=u;""!==o[h]&&(y+="="+encodeURIComponent(String(o[h]))),i.push(y)}}return this.i=i.join("&")};var Vt=10;function Qt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function rr(i){return i.h?1:i.g?i.g.size:0}function Yn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function cn(i,e){i.g?i.g.add(e):i.h=e}function jn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Wn(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return ie(i.i)}function vr(){}function Bi(){this.g=new vr}function Sr(i,e,r){const o=r||"";try{mi(i,function(u,h){let y=u;xe(u)&&(y=wi(u)),e.push(o+h+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ci(i,e,r,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(h){}}function M(i){this.l=i.$b||null,this.j=i.ib||!1}function S(i,e){Ut.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=C,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}st.prototype.cancel=function(){if(this.i=Wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},vr.prototype.stringify=function(i){return Z.JSON.stringify(i,void 0)},vr.prototype.parse=function(i){return Z.JSON.parse(i,void 0)},Re(M,ut),M.prototype.g=function(){return new S(this.l,this.j)},M.prototype.i=function(i){return function(){return i}}({}),Re(S,Ut);var C=0;function H(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function He(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Rt(i)}function Rt(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=S.prototype).open=function(i,e){if(this.readyState!=C)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Rt(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,He(this)),this.readyState=C},ce.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Z.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;H(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ce.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?He(this):Rt(this),3==this.readyState&&H(this)}},ce.Ua=function(i){this.g&&(this.response=this.responseText=i,He(this))},ce.Ta=function(i){this.g&&(this.response=i,He(this))},ce.ha=function(){this.g&&He(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(S.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ur=Z.JSON.parse;function En(i){Ut.call(this),this.headers=new ls,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tt,this.K=this.L=!1}Re(En,Ut);var tt="",_n=/^https?$/i,hs=["POST","PUT"];function Ns(i){return"content-type"==i.toLowerCase()}function ko(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,as(i),Fo(i)}function as(i){i.D||(i.D=!0,dn(i,"complete"),dn(i,"error"))}function io(i){if(i.h&&void 0!==Me&&(!i.C[1]||4!=Ps(i)||2!=i.ba()))if(i.v&&4==Ps(i))Hn(i.Fa,0,i);else if(dn(i,"readystatechange"),4==Ps(i)){i.h=!1;try{const b=i.ba();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===b){var u=String(i.H).match(Qi)[1]||null;if(!u&&Z.self&&Z.self.location){var h=Z.self.location.protocol;u=h.substr(0,h.length-1)}o=!_n.test(u?u.toLowerCase():"")}r=o}if(r)dn(i,"complete"),dn(i,"success");else{i.m=6;try{var y=2<Ps(i)?i.g.statusText:""}catch(L){y=""}i.j=y+" ["+i.ba()+"]",as(i)}}finally{Fo(i)}}}function Fo(i,e){if(i.g){Jo(i);const r=i.g,o=i.C[0]?X:null;i.g=null,i.C=null,e||dn(i,"ready");try{r.onreadystatechange=o}catch(u){}}}function Jo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Z.clearTimeout(i.A),i.A=null)}function Ps(i){return i.g?i.g.readyState:0}function ks(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case tt:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function qr(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function Oa(i){let e="";return Zt(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):K(i,e,r))}function Xi(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Lo(i){this.za=0,this.l=[],this.h=new _t,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xi("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xi("baseRetryDelayMs",5e3,i),this.$a=Xi("retryDelaySeedMs",1e4,i),this.Ya=Xi("forwardChannelMaxRetries",2,i),this.ra=Xi("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new st(i&&i.concurrentRequestLimit),this.Ca=new Bi,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Fs(i){if(Xo(i),3==i.G){var e=i.V++,r=oi(i.F);K(r,"SID",i.J),K(r,"RID",e),K(r,"TYPE","terminate"),oo(i,r),(e=new Rr(i,i.h,e,void 0)).K=2,e.v=$(oi(r)),r=!1,Z.navigator&&Z.navigator.sendBeacon&&(r=Z.navigator.sendBeacon(e.v.toString(),"")),!r&&Z.Image&&((new Image).src=e.v,r=!0),r||(e.g=Ru(e.l,null),e.g.ea(e.v)),e.F=Date.now(),is(e)}ta(i)}function ji(i){i.g&&(qs(i),i.g.cancel(),i.g=null)}function Xo(i){ji(i),i.u&&(Z.clearTimeout(i.u),i.u=null),$o(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Z.clearTimeout(i.m),i.m=null)}function so(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Vo(i)}function Vo(i){Qt(i.i)||i.m||(i.m=!0,pi(i.Ha,i),i.C=0)}function Uo(i,e){var r;r=e?e.m:i.V++;const o=oi(i.F);K(o,"SID",i.J),K(o,"RID",r),K(o,"AID",i.U),oo(i,o),i.o&&i.s&&qr(o,i.o,i.s),r=new Rr(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Na(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),cn(i.i,r),Ds(r,o,e)}function oo(i,e){i.j&&mi({},function(r,o){K(e,o,r)})}function Na(i,e,r){r=Math.min(i.l.length,r);var o=i.j?qe(i.j.Oa,i.j,i):null;e:{var u=i.l;let h=-1;for(;;){const y=["count="+r];-1==h?0<r?(h=u[0].h,y.push("ofs="+h)):h=0:y.push("ofs="+h);let b=!0;for(let L=0;L<r;L++){let z=u[L].h;const se=u[L].g;if(z-=h,0>z)h=Math.max(0,u[L].h-100),b=!1;else try{Sr(se,y,"req"+z+"_")}catch(_e){o&&o(se)}}if(b){o=y.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function Ls(i){i.g||i.u||(i.Y=1,pi(i.Ga,i),i.A=0)}function Bo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=pe(qe(i.Ga,i),ea(i,i.A)),i.A++,0))}function qs(i){null!=i.B&&(Z.clearTimeout(i.B),i.B=null)}function jo(i){i.g=new Rr(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=oi(i.oa);K(e,"RID","rpc"),K(e,"SID",i.J),K(e,"CI",i.N?"0":"1"),K(e,"AID",i.U),oo(i,e),K(e,"TYPE","xmlhttp"),i.o&&i.s&&qr(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=$(oi(e)),r.s=null,r.U=!0,ts(r,i)}function $o(i){null!=i.v&&(Z.clearTimeout(i.v),i.v=null)}function Pa(i,e){var r=null;if(i.g==e){$o(i),qs(i),i.g=null;var o=2}else{if(!Yn(i.i,e))return;r=e.D,jn(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;dn(o=gi(),new Ee(o,r,e,u)),Vo(i)}else Ls(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Ra(i,e){return!(rr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=pe(qe(i.Ha,i,e),ea(i,i.C)),i.C++,0)))}(i,e)||2==o&&Bo(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:bs(i,5);break;case 4:bs(i,10);break;case 3:bs(i,6);break;default:bs(i,2)}}function ea(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function bs(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=qe(i.jb,i);r||(r=new Ui("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Rs(r,"https"),$(r)),function Ji(i,e){const r=new _t;if(Z.Image){const o=new Image;o.onload=$e(ci,r,o,"TestLoadImage: loaded",!0,e),o.onerror=$e(ci,r,o,"TestLoadImage: error",!1,e),o.onabort=$e(ci,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=$e(ci,r,o,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else kn(2);i.G=0,i.j&&i.j.va(e),ta(i),Xo(i)}function ta(i){i.G=0,i.I=-1,i.j&&((0!=Wn(i.i).length||0!=i.l.length)&&(i.i.i.length=0,ie(i.l),i.l.length=0),i.j.ua())}function Go(i,e,r){let o=function ge(i){return i instanceof Ui?oi(i):new Ui(i,void 0)}(r);if(""!=o.i)e&&kr(o,e+"."+o.i),yi(o,o.m);else{const u=Z.location;o=function Se(i,e,r,o){var u=new Ui(null,void 0);return i&&Rs(u,i),e&&kr(u,e),r&&yi(u,r),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,r)}return i.aa&&Zt(i.aa,function(u,h){K(o,h,u)}),r=i.sa,(e=i.D)&&r&&K(o,e,r),K(o,"VER",i.ma),oo(i,o),o}function Ru(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new En(r&&i.Ba&&!i.qa?new M({ib:!0}):i.qa)).L=i.H,e}function $i(){}function Vs(){if(Fn&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Rn(i,e){Ut.call(this),this.g=new Lo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!ye(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ye(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fs(this)}function tu(i){hn.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function dc(){yr.call(this),this.status=1}function fs(i){this.g=i}(ce=En.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cr.g(),this.C=function It(i){return i.h||(i.h=i.i())}(this.u?this.u:Cr),this.g.onreadystatechange=qe(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void ko(this,h)}i=r||"";const u=new ls(this.headers);o&&mi(o,function(h,y){u.set(y,h)}),o=function ee(i){e:{var e=Ns;const r=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<r;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),r=Z.FormData&&i instanceof Z.FormData,!(0<=Be(hs,e))||o||r||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,y){this.g.setRequestHeader(y,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jo(this),0<this.B&&((this.K=function Mr(i){return Fn&&function Sn(){return function Lt(i){var e=Qr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Oe(String(Nr)).split("."),r=Oe("9").split("."),o=Math.max(e.length,r.length);for(let y=0;0==i&&y<o;y++){var u=e[y]||"",h=r[y]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;i=gt(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||gt(0==u[2].length,0==h[2].length)||gt(u[2],h[2]),u=u[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qe(this.pa,this)):this.A=Hn(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){ko(this,h)}},ce.pa=function(){void 0!==Me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,dn(this,"complete"),dn(this,"abort"),Fo(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fo(this,!0)),En.Z.M.call(this)},ce.Fa=function(){this.s||(this.F||this.v||this.l?io(this):this.cb())},ce.cb=function(){io(this)},ce.ba=function(){try{return 2<Ps(this)?this.g.status:-1}catch(i){return-1}},ce.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ce.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ur(e)}},ce.Da=function(){return this.m},ce.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Lo.prototype).ma=8,ce.G=1,ce.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ce.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Rr(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Dn(h),Cn(h,this.P)):h=this.P),null===this.o&&(u.H=h),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Na(this,u,e),K(r=oi(this.F),"RID",i),K(r,"CVER",22),this.D&&K(r,"X-HTTP-Session-Id",this.D),oo(this,r),this.o&&h&&qr(r,this.o,h),cn(this.i,u),this.Ra&&K(r,"TYPE","init"),this.ja?(K(r,"$req",e),K(r,"SID","null"),u.$=!0,Ds(u,r,null)):Ds(u,r,e),this.G=2}}else 3==this.G&&(i?Uo(this,i):0==this.l.length||Qt(this.i)||Uo(this))},ce.Ga=function(){if(this.u=null,jo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=pe(qe(this.bb,this),i)}},ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),ji(this),jo(this))},ce.ab=function(){null!=this.v&&(this.v=null,ji(this),Bo(this),kn(19))},ce.jb=function(i){i?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(ce=$i.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Oa=function(){},Vs.prototype.g=function(i,e){return new Rn(i,e)},Re(Rn,Ut),Rn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),pi(qe(i.hb,i,e))),kn(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=Go(i,null,i.W),Vo(i)},Rn.prototype.close=function(){Fs(this.g)},Rn.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,so(this.g,e)}else this.v?((e={}).__data__=wi(i),so(this.g,e)):so(this.g,i)},Rn.prototype.M=function(){this.g.j=null,delete this.j,Fs(this.g),delete this.g,Rn.Z.M.call(this)},Re(tu,hn),Re(dc,yr),Re(fs,$i),fs.prototype.xa=function(){dn(this.g,"a")},fs.prototype.wa=function(i){dn(this.g,new tu(i))},fs.prototype.va=function(i){dn(this.g,new dc(i))},fs.prototype.ua=function(){dn(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,Rn.prototype.send=Rn.prototype.u,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Qe.COMPLETE="complete",Gt.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,En.prototype.listenOnce=En.prototype.O,En.prototype.getLastError=En.prototype.La,En.prototype.getLastErrorCode=En.prototype.Da,En.prototype.getStatus=En.prototype.ba,En.prototype.getResponseJson=En.prototype.Qa,En.prototype.getResponseText=En.prototype.ga,En.prototype.send=En.prototype.ea;var ao=Ce.createWebChannelTransport=function(){return new Vs},ka=Ce.getStatEventTarget=function(){return gi()},Fa=Ce.ErrorCode=Ie,na=Ce.EventType=Qe,Ho=Ce.Event=Or,qn=Ce.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wo=Ce.FetchXmlHttpFactory=M,Ts=Ce.WebChannel=Gt,La=Ce.XhrIo=En;const Gi="@firebase/firestore";class lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let Io="9.6.7";const As=new me.Yd("@firebase/firestore");function Ks(){return As.logLevel}function yt(i,...e){if(As.logLevel<=me.in.DEBUG){const r=e.map(Pu);As.debug(`Firestore (${Io}): ${i}`,...r)}}function Kr(i,...e){if(As.logLevel<=me.in.ERROR){const r=e.map(Pu);As.error(`Firestore (${Io}): ${i}`,...r)}}function li(i,...e){if(As.logLevel<=me.in.WARN){const r=e.map(Pu);As.warn(`Firestore (${Io}): ${i}`,...r)}}function Pu(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Bt(i="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+i;throw Kr(e),new Error(e)}function en(i,e){i||Bt()}function ft(i,e){return i}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends he.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Do{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(lr.UNAUTHENTICATED))}shutdown(){}}class Wo{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const h=z=>this.i!==u?(u=this.i,r(z)):Promise.resolve();let y=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Fr,e.enqueueRetryable(()=>h(this.currentUser))};const b=()=>{const z=y;e.enqueueRetryable((0,g.Z)(function*(){yield z.promise,yield h(o.currentUser)}))},L=z=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(z=>L(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?L(z):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Fr)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(en("string"==typeof o.accessToken),new Do(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return en(null===e||"string"==typeof e),new lr(e)}}class hc{constructor(e,r,o){this.type="FirstParty",this.user=lr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class uo{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new hc(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ra{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class co{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,r){const o=h=>{null!=h.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.p;return this.p=h.token,yt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const u=h=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?u(h):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(en("string"==typeof r.token),this.p=r.token,new ra(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Xr{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.I(o),this.T=o=>r.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function sa(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}Xr.A=-1;class w{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=sa(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<r&&(o+=e.charAt(u[h]%e.length))}return o}}function v(i,e){return i<e?-1:i>e?1:0}function m(i,e,r){return i.length===e.length&&i.every((o,u)=>r(o,e[u]))}class N{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return N.fromMillis(Date.now())}static fromDate(e){return N.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new N(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?v(this.nanoseconds,e.nanoseconds):v(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new N(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function J(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function le(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function We(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class xt{constructor(e,r,o){void 0===r?r=0:r>e.length&&Bt(),void 0===o?o=e.length-r:o>e.length-r&&Bt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===xt.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof xt?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const h=e.get(u),y=r.get(u);if(h<y)return-1;if(h>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Mt extends xt{construct(e,r,o){return new Mt(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ct(ze.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new Mt(r)}static emptyPath(){return new Mt([])}}const Wt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends xt{construct(e,r,o){return new on(e,r,o)}static isValidIdentifier(e){return Wt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const h=()=>{if(0===o.length)throw new ct(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let y=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new ct(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new ct(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,u+=2}else"`"===b?(y=!y,u++):"."!==b||y?(o+=b,u++):(h(),u++)}if(h(),y)throw new ct(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(r)}static emptyPath(){return new on([])}}class Kn{constructor(e){this.fields=e,e.sort(on.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return m(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Qn(r)}static fromUint8Array(e){const r=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return v(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const ps=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(i){if(en(!!i),"string"==typeof i){let e=0;const r=ps.exec(i);if(en(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ir(i.seconds),nanos:ir(i.nanos)}}function ir(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Zr(i){return"string"==typeof i?Qn.fromBase64String(i):Qn.fromUint8Array(i)}function Hi(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Co(i){const e=i.mapValue.fields.__previous_value__;return Hi(e)?Co(e):e}function bo(i){const e=_i(i.mapValue.fields.__local_write_time__.timestampValue);return new N(e.seconds,e.nanos)}class ku{constructor(e,r,o,u,h,y,b,L){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=L}}class ws{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ws("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ws&&e.projectId===this.projectId&&e.database===this.database}}function Ua(i){return null==i}function nu(i){return 0===i&&1/i==-1/0}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(Mt.fromString(e))}static fromName(e){return new $t(Mt.fromString(e).popFirst(5))}static empty(){return new $t(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Mt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new Mt(e.slice()))}}const td={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function oa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hi(i)?4:10:Bt()}function Us(i,e){if(i===e)return!0;const r=oa(i);if(r!==oa(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bo(i).isEqual(bo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_i(o.timestampValue),y=_i(u.timestampValue);return h.seconds===y.seconds&&h.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Zr(i.bytesValue).isEqual(Zr(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ir(o.geoPointValue.latitude)===ir(u.geoPointValue.latitude)&&ir(o.geoPointValue.longitude)===ir(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ir(o.integerValue)===ir(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ir(o.doubleValue),y=ir(u.doubleValue);return h===y?nu(h)===nu(y):isNaN(h)&&isNaN(y)}return!1}(i,e);case 9:return m(i.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:return function(o,u){const h=o.mapValue.fields||{},y=u.mapValue.fields||{};if(J(h)!==J(y))return!1;for(const b in h)if(h.hasOwnProperty(b)&&(void 0===y[b]||!Us(h[b],y[b])))return!1;return!0}(i,e);default:return Bt()}var u}function aa(i,e){return void 0!==(i.values||[]).find(r=>Us(r,e))}function ru(i,e){if(i===e)return 0;const r=oa(i),o=oa(e);if(r!==o)return v(r,o);switch(r){case 0:return 0;case 1:return v(i.booleanValue,e.booleanValue);case 2:return function(u,h){const y=ir(u.integerValue||u.doubleValue),b=ir(h.integerValue||h.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1}(i,e);case 3:return Fu(i.timestampValue,e.timestampValue);case 4:return Fu(bo(i),bo(e));case 5:return v(i.stringValue,e.stringValue);case 6:return function(u,h){const y=Zr(u),b=Zr(h);return y.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const y=u.split("/"),b=h.split("/");for(let L=0;L<y.length&&L<b.length;L++){const z=v(y[L],b[L]);if(0!==z)return z}return v(y.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const y=v(ir(u.latitude),ir(h.latitude));return 0!==y?y:v(ir(u.longitude),ir(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,h){const y=u.values||[],b=h.values||[];for(let L=0;L<y.length&&L<b.length;++L){const z=ru(y[L],b[L]);if(z)return z}return v(y.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,h){const y=u.fields||{},b=Object.keys(y),L=h.fields||{},z=Object.keys(L);b.sort(),z.sort();for(let se=0;se<b.length&&se<z.length;++se){const _e=v(b[se],z[se]);if(0!==_e)return _e;const Ve=ru(y[b[se]],L[z[se]]);if(0!==Ve)return Ve}return v(b.length,z.length)}(i.mapValue,e.mapValue);default:throw Bt()}}function Fu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return v(i,e);const r=_i(i),o=_i(e),u=v(r.seconds,o.seconds);return 0!==u?u:v(r.nanos,o.nanos)}function lo(i){return iu(i)}function iu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=_i(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Zr(i.bytesValue).toBase64():"referenceValue"in i?$t.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",h=!0;for(const y of o.values||[])h?h=!1:u+=",",u+=iu(y);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",y=!0;for(const b of u)y?y=!1:h+=",",h+=`${b}:${iu(o.fields[b])}`;return h+"}"}(i.mapValue):Bt();var e}function ei(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ua(i){return!!i&&"integerValue"in i}function Qs(i){return!!i&&"arrayValue"in i}function su(i){return!!i&&"nullValue"in i}function rl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ti(i){return!!i&&"mapValue"in i}function gs(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return le(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=gs(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=gs(i.arrayValue.values[r]);return e}return Object.assign({},i)}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Ti(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=gs(r)}setAll(e){let r=on.emptyPath(),o={},u=[];e.forEach((y,b)=>{if(!r.isImmediateParentOf(b)){const L=this.getFieldsMap(r);this.applyChanges(L,o,u),o={},u=[],r=b.popLast()}y?o[b.lastSegment()]=gs(y):u.push(b.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,o,u)}delete(e){const r=this.field(e.popLast());Ti(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];Ti(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){le(r,(u,h)=>e[u]=h);for(const u of o)delete e[u]}clone(){return new Hr(gs(this.value))}}function ho(i){const e=[];return le(i.fields,(r,o)=>{const u=new on([r]);if(Ti(o)){const h=ho(o.mapValue).fields;if(0===h.length)e.push(u);else for(const y of h)e.push(u.child(y))}else e.push(u)}),new Kn(e)}class wr{constructor(e,r,o,u,h,y){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.data=h,this.documentState=y}static newInvalidDocument(e){return new wr(e,0,V.min(),V.min(),Hr.empty(),0)}static newFoundDocument(e,r,o){return new wr(e,1,r,V.min(),o,0)}static newNoDocument(e,r){return new wr(e,2,r,V.min(),Hr.empty(),0)}static newUnknownDocument(e,r){return new wr(e,3,r,V.min(),Hr.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(e,r=null,o=[],u=[],h=null,y=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=y,this.endAt=b,this.P=null}}function pc(i,e=null,r=[],o=[],u=null,h=null,y=null){return new fc(i,e,r,o,u,h,y)}function Ai(i){const e=ft(i);if(null===e.P){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+lo(u.value);var u}).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ua(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>lo(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>lo(o)).join(",")),e.P=r}return e.P}function Bs(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!lu(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((r=i.filters[u]).op!==(o=e.filters[u]).op||!r.field.isEqual(o.field)||!Us(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!T(i.startAt,e.startAt)&&T(i.endAt,e.endAt)}function gc(i){return $t.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class zr extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.v(e,r,o):new ou(e,r,o):"array-contains"===r?new ol(e,o):"in"===r?new Js(e,o):"not-in"===r?new uu(e,o):"array-contains-any"===r?new Ba(e,o):new zr(e,r,o)}static v(e,r,o){return"in"===r?new sl(e,o):new au(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.V(ru(r,this.value)):null!==r&&oa(this.value)===oa(r)&&this.V(ru(r,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ou extends zr{constructor(e,r,o){super(e,r,o),this.key=$t.fromName(o.referenceValue)}matches(e){const r=$t.comparator(e.key,this.key);return this.V(r)}}class sl extends zr{constructor(e,r){super(e,"in",r),this.keys=To(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class au extends zr{constructor(e,r){super(e,"not-in",r),this.keys=To(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function To(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>$t.fromName(o.referenceValue))}class ol extends zr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qs(r)&&aa(r.arrayValue,this.value)}}class Js extends zr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&aa(this.value.arrayValue,r)}}class uu extends zr{constructor(e,r){super(e,"not-in",r)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!aa(this.value.arrayValue,r)}}class Ba extends zr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qs(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>aa(this.value.arrayValue,o))}}class cu{constructor(e,r){this.position=e,this.inclusive=r}}class js{constructor(e,r="asc"){this.field=e,this.dir=r}}function lu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function du(i,e,r){let o=0;for(let u=0;u<i.position.length;u++){const h=e[u],y=i.position[u];if(o=h.field.isKeyField()?$t.comparator($t.fromName(y.referenceValue),r.key):ru(y,r.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function T(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Us(i.position[r],e.position[r]))return!1;return!0}class R{constructor(e,r=null,o=[],u=[],h=null,y="F",b=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=y,this.startAt=b,this.endAt=L,this.D=null,this.C=null}}function ne(i){return new R(i)}function De(i){return!Ua(i.limit)&&"F"===i.limitType}function Fe(i){return!Ua(i.limit)&&"L"===i.limitType}function pt(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function kt(i){for(const e of i.filters)if(e.S())return e.field;return null}function Ct(i){return null!==i.collectionGroup}function xn(i){const e=ft(i);if(null===e.D){e.D=[];const r=kt(e),o=pt(e);if(null!==r&&null===o)r.isKeyField()||e.D.push(new js(r)),e.D.push(new js(on.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new js(on.keyField(),h))}}}return e.D}function $n(i){const e=ft(i);if(!e.C)if("F"===e.limitType)e.C=pc(e.path,e.collectionGroup,xn(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const h of xn(e))r.push(new js(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new cu(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new cu(e.startAt.position,!e.startAt.inclusive):null;e.C=pc(e.path,e.collectionGroup,r,e.filters,e.limit,o,u)}return e.C}function ti(i,e){return Bs($n(i),$n(e))&&i.limitType===e.limitType}function di(i){return`${Ai($n(i))}|lt:${i.limitType}`}function ha(i){return`Query(target=${function il(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${lo(o.value)}`;var o}).join(", ")}]`),Ua(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(r=>lo(r)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(r=>lo(r)).join(",")),`Target(${e})`}($n(i))}; limitType=${i.limitType})`}function ja(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):$t.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of r.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!function(u,h,y){const b=du(u,h,y);return u.inclusive?b<=0:b<0}(r.startAt,xn(r),o)||r.endAt&&!function(u,h,y){const b=du(u,h,y);return u.inclusive?b>=0:b>0}(r.endAt,xn(r),o)));var r,o}function $s(i){return(e,r)=>{let o=!1;for(const u of xn(i)){const h=ms(u,e,r);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function ms(i,e,r){const o=i.field.isKeyField()?$t.comparator(e.key,r.key):function(u,h,y){const b=h.data.field(u),L=y.data.field(u);return null!==b&&null!==L?ru(b,L):Bt()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Bt()}}function Ao(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function So(i){return{integerValue:""+i}}function mc(i,e){return function Yr(i){return"number"==typeof i&&Number.isInteger(i)&&!nu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?So(e):Ao(i,e)}class Lu{constructor(){this._=void 0}}function al(i,e,r){return i instanceof hu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(r,e):i instanceof $a?fa(i,e):i instanceof po?Uu(i,e):function(o,u){const h=Vu(o,u),y=ul(h)+ul(o.k);return ua(h)&&ua(o.k)?So(y):Ao(o.O,y)}(i,e)}function yc(i,e,r){return i instanceof $a?fa(i,e):i instanceof po?Uu(i,e):r}function Vu(i,e){return i instanceof Bu?ua(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class hu extends Lu{}class $a extends Lu{constructor(e){super(),this.elements=e}}function fa(i,e){const r=nd(e);for(const o of i.elements)r.some(u=>Us(u,o))||r.push(o);return{arrayValue:{values:r}}}class po extends Lu{constructor(e){super(),this.elements=e}}function Uu(i,e){let r=nd(e);for(const o of i.elements)r=r.filter(u=>!Us(u,o));return{arrayValue:{values:r}}}class Bu extends Lu{constructor(e,r){super(),this.O=e,this.k=r}}function ul(i){return ir(i.integerValue||i.doubleValue)}function nd(i){return Qs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ph{constructor(e,r){this.version=e,this.transformResults=r}}class Mi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ga(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class pa{}function fu(i,e,r){i instanceof ga?function(o,u,h){const y=o.value.clone(),b=dl(o.fieldTransforms,u,h.transformResults);y.setAll(b),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(i,e,r):i instanceof ma?function(o,u,h){if(!Ga(o.precondition,u))return void u.convertToUnknownDocument(h.version);const y=dl(o.fieldTransforms,u,h.transformResults),b=u.data;b.setAll(ll(o)),b.setAll(y),u.convertToFoundDocument(h.version,b).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function cl(i,e,r){var u;i instanceof ga?function(o,u,h){if(!Ga(o.precondition,u))return;const y=o.value.clone(),b=hl(o.fieldTransforms,h,u);y.setAll(b),u.convertToFoundDocument(ju(u),y).setHasLocalMutations()}(i,e,r):i instanceof ma?function(o,u,h){if(!Ga(o.precondition,u))return;const y=hl(o.fieldTransforms,h,u),b=u.data;b.setAll(ll(o)),b.setAll(y),u.convertToFoundDocument(ju(u),b).setHasLocalMutations()}(i,e,r):Ga(i.precondition,u=e)&&u.convertToNoDocument(V.min())}function gh(i,e){let r=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),h=Vu(o.transform,u||null);null!=h&&(null==r&&(r=Hr.empty()),r.set(o.field,h))}return r||null}function mh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&m(r,o,(u,h)=>function fh(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof $a&&o instanceof $a||r instanceof po&&o instanceof po?m(r.elements,o.elements,Us):r instanceof Bu&&o instanceof Bu?Us(r.k,o.k):r instanceof hu&&o instanceof hu);var r,o}(u,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function ju(i){return i.isFoundDocument()?i.version:V.min()}class ga extends pa{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}}class ma extends pa{constructor(e,r,o,u,h=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function ll(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function dl(i,e,r){const o=new Map;en(i.length===r.length);for(let u=0;u<r.length;u++){const h=i[u],y=h.transform,b=e.data.field(h.field);o.set(h.field,yc(y,b,r[u]))}return o}function hl(i,e,r){const o=new Map;for(const u of i){const h=u.transform,y=r.data.field(u.field);o.set(u.field,al(h,y,e))}return o}class pu extends pa{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class fl extends pa{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class pl{constructor(e){this.count=e}}var xi,cr;function ya(i){switch(i){default:return Bt();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function Ha(i){if(void 0===i)return Kr("GRPC error has no .code"),ze.UNKNOWN;switch(i){case xi.OK:return ze.OK;case xi.CANCELLED:return ze.CANCELLED;case xi.UNKNOWN:return ze.UNKNOWN;case xi.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case xi.INTERNAL:return ze.INTERNAL;case xi.UNAVAILABLE:return ze.UNAVAILABLE;case xi.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case xi.NOT_FOUND:return ze.NOT_FOUND;case xi.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case xi.ABORTED:return ze.ABORTED;case xi.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case xi.DATA_LOSS:return ze.DATA_LOSS;default:return Bt()}}(cr=xi||(xi={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";class Oi{constructor(e,r){this.comparator=e,this.root=r||us.EMPTY}insert(e,r){return new Oi(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?o(e.key,r):1,u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,r,o,u,h){this.key=e,this.value=r,this.color=null!=o?o:us.RED,this.left=null!=u?u:us.EMPTY,this.right=null!=h?h:us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,h){return new us(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===h?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return us.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(i,e,r,o,u){return this}insert(i,e,r){return new us(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ni{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new yh(this.data.getIterator())}getIteratorFrom(e){return new yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ni(this.comparator);return r.data=e,r}}class yh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const rd=new Oi($t.comparator);function _(){return rd}const d=new Oi($t.comparator);function f(){return d}const I=new Oi($t.comparator),j=new ni($t.comparator);function q(...i){let e=j;for(const r of i)e=e.add(r);return e}const Ne=new ni(v);function lt(){return Ne}class Ot{constructor(e,r,o,u,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,Xt.createSynthesizedTargetChangeForCurrentChange(e,r)),new Ot(V.min(),o,lt(),_(),q())}}class Xt{constructor(e,r,o,u,h){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r){return new Xt(Qn.EMPTY_BYTE_STRING,r,q(),q(),q())}}class Nn{constructor(e,r,o,u){this.M=e,this.removedTargetIds=r,this.key=o,this.$=u}}class Br{constructor(e,r){this.targetId=e,this.F=r}}class Xs{constructor(e,r,o=Qn.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class va{constructor(){this.B=0,this.L=gu(),this.U=Qn.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=q(),r=q(),o=q();return this.L.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:Bt()}}),new Xt(this.U,this.q,e,r,o)}J(){this.K=!1,this.L=gu()}Y(e,r){this.K=!0,this.L=this.L.insert(e,r)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class gl{constructor(e){this.nt=e,this.st=new Map,this.it=_(),this.rt=id(),this.ot=new ni(v)}ct(e){for(const r of e.M)e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$);for(const r of e.removedTargetIds)this.at(r,e.key,e.$)}ht(e){this.forEachTarget(e,r=>{const o=this.lt(r);switch(e.state){case 0:this.ft(r)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(r);break;case 3:this.ft(r)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(r)&&(this.dt(r),o.W(e.resumeToken));break;default:Bt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.st.forEach((o,u)=>{this.ft(u)&&r(u)})}_t(e){const r=e.targetId,o=e.F.count,u=this.wt(r);if(u){const h=u.target;if(gc(h))if(0===o){const y=new $t(h.path);this.at(r,y,wr.newNoDocument(y,V.min()))}else en(1===o);else this.gt(r)!==o&&(this.dt(r),this.ot=this.ot.add(r))}}yt(e){const r=new Map;this.st.forEach((h,y)=>{const b=this.wt(y);if(b){if(h.current&&gc(b.target)){const L=new $t(b.target.path);null!==this.it.get(L)||this.It(y,L)||this.at(y,L,wr.newNoDocument(L,e))}h.j&&(r.set(y,h.H()),h.J())}});let o=q();this.rt.forEach((h,y)=>{let b=!0;y.forEachWhile(L=>{const z=this.wt(L);return!z||2===z.purpose||(b=!1,!1)}),b&&(o=o.add(h))}),this.it.forEach((h,y)=>y.setReadTime(e));const u=new Ot(e,r,this.ot,this.it,o);return this.it=_(),this.rt=id(),this.ot=new ni(v),u}ut(e,r){if(!this.ft(e))return;const o=this.It(e,r.key)?2:0;this.lt(e).Y(r.key,o),this.it=this.it.insert(r.key,r),this.rt=this.rt.insert(r.key,this.Et(r.key).add(e))}at(e,r,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,r)?u.Y(r,1):u.X(r),this.rt=this.rt.insert(r,this.Et(r).delete(e)),o&&(this.it=this.it.insert(r,o))}removeTarget(e){this.st.delete(e)}gt(e){const r=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let r=this.st.get(e);return r||(r=new va,this.st.set(e,r)),r}Et(e){let r=this.rt.get(e);return r||(r=new ni(v),this.rt=this.rt.insert(e,r)),r}ft(e){const r=null!==this.wt(e);return r||yt("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.st.get(e);return r&&r.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new va),this.nt.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}It(e,r){return this.nt.getRemoteKeysForTarget(e).has(r)}}function id(){return new Oi($t.comparator)}function gu(){return new Oi($t.comparator)}const Ec={asc:"ASCENDING",desc:"DESCENDING"},wc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sd{constructor(e,r){this.databaseId=e,this.N=r}}function Gu(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ic(i,e){return i.N?e.toBase64():e.toUint8Array()}function ml(i,e){return Gu(i,e.toTimestamp())}function zi(i){return en(!!i),V.fromTimestamp(function(e){const r=_i(e);return new N(r.seconds,r.nanos)}(i))}function yl(i,e){return(r=i,new Mt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Dc(i){const e=Mt.fromString(i);return en(gp(e)),e}function mu(i,e){return yl(i.databaseId,e.path)}function go(i,e){const r=Dc(e);if(r.get(1)!==i.databaseId.projectId)throw new ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new $t(Wi(r))}function vh(i,e){return yl(i.databaseId,e)}function vl(i){return new Mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wi(i){return en(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function lp(i,e,r){return{name:mu(i,e),fields:r.value.mapValue.fields}}function fp(i,e){return{documents:[vh(i,e.path)]}}function pp(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=vh(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=vh(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(L){if(0===L.length)return;const z=L.map(se=>function(_e){if("=="===_e.op){if(rl(_e.value))return{unaryFilter:{field:Hu(_e.field),op:"IS_NAN"}};if(su(_e.value))return{unaryFilter:{field:Hu(_e.field),op:"IS_NULL"}}}else if("!="===_e.op){if(rl(_e.value))return{unaryFilter:{field:Hu(_e.field),op:"IS_NOT_NAN"}};if(su(_e.value))return{unaryFilter:{field:Hu(_e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(_e.field),op:wh(_e.op),value:_e.value}}}(se));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(r.structuredQuery.where=u);const h=function(L){if(0!==L.length)return L.map(z=>{return{field:Hu((se=z).field),direction:Gs(se.dir)};var se})}(e.orderBy);h&&(r.structuredQuery.orderBy=h);const y=(z=e.limit,i.N||Ua(z)?z:{value:z});var z,b,L;return null!==y&&(r.structuredQuery.limit=y),e.startAt&&(r.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(r.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),r}function Kg(i){let e=function od(i){const e=Dc(i);return 4===e.length?Mt.emptyPath():Wi(e)}(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){en(1===o);const se=r.from[0];se.allDescendants?u=se.collectionId:e=e.child(se.collectionId)}let h=[];r.where&&(h=Cc(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(se=>{return new js(zu((_e=se).field),function(Ve){switch(Ve){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));let b=null;r.limit&&(b=function(se){let _e;return _e="object"==typeof se?se.value:se,Ua(_e)?null:_e}(r.limit));let L=null;var se;r.startAt&&(L=new cu((se=r.startAt).values||[],!!se.before));let z=null;return r.endAt&&(z=function(se){return new cu(se.values||[],!se.before)}(r.endAt)),function G(i,e,r,o,u,h,y,b){return new R(i,e,r,o,u,h,y,b)}(e,u,y,h,b,"F",L,z)}function Cc(i){return i?void 0!==i.unaryFilter?[El(i)]:void 0!==i.fieldFilter?[Ss(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Cc(e)).reduce((e,r)=>e.concat(r)):Bt():[]}function Gs(i){return Ec[i]}function wh(i){return wc[i]}function Hu(i){return{fieldPath:i.canonicalString()}}function zu(i){return on.fromServerFormat(i.fieldPath)}function Ss(i){return zr.create(zu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(i.fieldFilter.op),i.fieldFilter.value)}function El(i){switch(i.unaryFilter.op){case"IS_NAN":const e=zu(i.unaryFilter.field);return zr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=zu(i.unaryFilter.field);return zr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zu(i.unaryFilter.field);return zr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zu(i.unaryFilter.field);return zr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}function Ih(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function gp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ys(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=yp(e)),e=mp(i.get(r),e);return yp(e)}function mp(i,e){let r=e;const o=i.length;for(let u=0;u<o;u++){const h=i.charAt(u);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function yp(i){return i+"\x01\x01"}class eo{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}eo.store="owner",eo.key="owner";class yu{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}yu.store="mutationQueues",yu.keyPath="userId";class ri{constructor(e,r,o,u,h){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=h}}ri.store="mutations",ri.keyPath="batchId",ri.userMutationsIndex="userMutationsIndex",ri.userMutationsKeyPath=["userId","batchId"];class vs{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,ys(r)]}static key(e,r,o){return[e,ys(r),o]}}vs.store="documentMutations",vs.PLACEHOLDER=new vs;class hi{constructor(e,r,o,u,h,y){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=u,this.readTime=h,this.parentPath=y}}hi.store="remoteDocuments",hi.readTimeIndex="readTimeIndex",hi.readTimeIndexPath="readTime",hi.collectionReadTimeIndex="collectionReadTimeIndex",hi.collectionReadTimeIndexPath=["parentPath","readTime"];class _a{constructor(e){this.byteSize=e}}_a.store="remoteDocumentGlobal",_a.key="remoteDocumentGlobalKey";class to{constructor(e,r,o,u,h,y,b){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=y,this.query=b}}to.store="targets",to.keyPath="targetId",to.queryTargetsIndexName="queryTargetsIndex",to.queryTargetsKeyPath=["canonicalId","targetId"];class qi{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}qi.store="targetDocuments",qi.keyPath=["targetId","path"],qi.documentTargetsIndex="documentTargetsIndex",qi.documentTargetsKeyPath=["path","targetId"];class mo{constructor(e,r,o,u){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}mo.key="targetGlobalKey",mo.store="targetGlobal";class Wu{constructor(e,r){this.collectionId=e,this.parent=r}}Wu.store="collectionParents",Wu.keyPath=["collectionId","parent"];class za{constructor(e,r,o,u){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=u}}za.store="clientMetadata",za.keyPath="clientId";class bc{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}bc.store="bundles",bc.keyPath="bundleId";class Tc{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}Tc.store="namedQueries",Tc.keyPath="name";class no{constructor(e,r,o){this.indexId=e,this.collectionGroup=r,this.fields=o}}no.store="indexConfiguration",no.keyPath="indexId",no.collectionGroupIndex="collectionGroupIndex",no.collectionGroupIndexPath="collectionGroup";class Mo{constructor(e,r,o,u,h,y){this.indexId=e,this.uid=r,this.sequenceNumber=o,this.readTime=u,this.documentKey=h,this.largestBatchId=y}}Mo.store="indexState",Mo.keyPath=["indexId","uid"],Mo.sequenceNumberIndex="sequenceNumberIndex",Mo.sequenceNumberIndexPath=["uid","sequenceNumber"];class xo{constructor(e,r,o,u,h){this.indexId=e,this.uid=r,this.arrayValue=o,this.directionalValue=u,this.documentKey=h}}xo.store="indexEntries",xo.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],xo.documentKeyIndex="documentKeyIndex",xo.documentKeyIndexPath=["indexId","uid","documentKey"];class _s{constructor(e,r,o,u,h,y){this.userId=e,this.collectionPath=r,this.documentId=o,this.collectionGroup=u,this.largestBatchId=h,this.overlayMutation=y}}_s.store="documentOverlays",_s.keyPath=["userId","collectionPath","documentId"],_s.collectionPathOverlayIndex="collectionPathOverlayIndex",_s.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],_s.collectionGroupOverlayIndex="collectionGroupOverlayIndex",_s.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const _p="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ke((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ke?r:Ke.resolve(r)}catch(r){return Ke.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.reject(r)}static resolve(e){return new Ke((r,o)=>{r(e)})}static reject(e){return new Ke((r,o)=>{o(e)})}static waitFor(e){return new Ke((r,o)=>{let u=0,h=0,y=!1;e.forEach(b=>{++u,b.next(()=>{++h,y&&h===u&&r()},L=>o(L))}),y=!0,h===u&&r()})}static or(e){let r=Ke.resolve(!1);for(const o of e)r=r.next(u=>u?Ke.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,h)=>{o.push(r.call(this,u,h))}),this.waitFor(o)}}function Sc(i){return"IndexedDbTransactionError"===i.name}class ud{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&fu(h,e,o[u])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&cl(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&cl(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),q())}isEqual(e){return this.batchId===e.batchId&&m(this.mutations,e.mutations,(r,o)=>mh(r,o))&&m(this.baseMutations,e.baseMutations,(r,o)=>mh(r,o))}}class cd{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){en(e.mutations.length===o.length);let u=I;const h=e.mutations;for(let y=0;y<h.length;y++)u=u.insert(h[y].key,o[y].version);return new cd(e,r,o,u)}}class wl{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ia{constructor(e,r,o,u,h=V.min(),y=V.min(),b=Qn.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=b}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Th{constructor(e){this.Ht=e}}function Ah(i){const e=Kg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?function Si(i,e,r){return new R(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}(e,e.limit,"L"):e}class hd{constructor(){}Xt(e,r){this.Zt(e,r),r.te()}Zt(e,r){if("nullValue"in e)this.ee(r,5);else if("booleanValue"in e)this.ee(r,10),r.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(r,15),r.ne(ir(e.integerValue));else if("doubleValue"in e){const o=ir(e.doubleValue);isNaN(o)?this.ee(r,13):(this.ee(r,15),nu(o)?r.ne(0):r.ne(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ee(r,20),"string"==typeof o?r.se(o):(r.se(`${o.seconds||""}`),r.ne(o.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,r),this.re(r);else if("bytesValue"in e)this.ee(r,30),r.oe(Zr(e.bytesValue)),this.re(r);else if("referenceValue"in e)this.ce(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.ee(r,45),r.ne(o.latitude||0),r.ne(o.longitude||0)}else"mapValue"in e?Us(e,td)?this.ee(r,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,r),this.re(r)):"arrayValue"in e?(this.ae(e.arrayValue,r),this.re(r)):Bt()}ie(e,r){this.ee(r,25),this.he(e,r)}he(e,r){r.se(e)}ue(e,r){const o=e.fields||{};this.ee(r,55);for(const u of Object.keys(o))this.ie(u,r),this.Zt(o[u],r)}ae(e,r){const o=e.values||[];this.ee(r,50);for(const u of o)this.Zt(u,r)}ce(e,r){this.ee(r,37),$t.fromName(e).path.forEach(o=>{this.ee(r,60),this.he(o,r)})}ee(e,r){e.ne(r)}re(e){e.ne(2)}}hd.le=new hd;class Ap{constructor(){this.xe=new fd}addToCollectionParentIndex(e,r){return this.xe.add(r),Ke.resolve()}getCollectionParents(e,r){return Ke.resolve(this.xe.getEntries(r))}addFieldIndex(e,r){return Ke.resolve()}deleteFieldIndex(e,r){return Ke.resolve()}getDocumentsMatchingTarget(e,r,o){return Ke.resolve(q())}getFieldIndex(e,r){return Ke.resolve(null)}getFieldIndexes(e,r){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}updateCollectionGroup(e,r,o){return Ke.resolve()}updateIndexEntries(e,r){return Ke.resolve()}}class fd{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new ni(Mt.comparator),h=!u.has(o);return this.index[r]=u.add(o),h}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ni(Mt.comparator)).toArray()}}class Hs{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Hs(e,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(41943040,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);class Ka{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Ka(0)}static Je(){return new Ka(-1)}}function wu(i){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,g.Z)(function*(i){if(i.code!==ze.FAILED_PRECONDITION||i.message!==_p)throw i;yt("LocalStore","Unexpectedly lost primary lease")}),Uh.apply(this,arguments)}class Rc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0!==u){for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,r]);u.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),!0;return!1}forEach(e){le(this.inner,(r,o)=>{for(const[u,h]of o)e(u,h)})}isEmpty(){return We(this.inner)}}class Za{constructor(e,r,o){this.qn=e,this.gs=r,this.indexManager=o}ys(e,r){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.ps(e,r,o))}ps(e,r,o){return this.qn.getEntry(e,r).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}Is(e,r){e.forEach((o,u)=>{for(const h of r)h.applyToLocalView(u)})}Es(e,r){return this.qn.getEntries(e,r).next(o=>this.Ts(e,o).next(()=>o))}Ts(e,r){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.Is(r,o))}As(e,r,o){return $t.isDocumentKey((u=r).path)&&null===u.collectionGroup&&0===u.filters.length?this.Rs(e,r.path):Ct(r)?this.Ps(e,r,o):this.bs(e,r,o);var u}Rs(e,r){return this.ys(e,new $t(r)).next(o=>{let u=f();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ps(e,r,o){const u=r.collectionGroup;let h=f();return this.indexManager.getCollectionParents(e,u).next(y=>Ke.forEach(y,b=>{const L=(z=r,se=b.child(u),new R(se,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,se;return this.bs(e,L,o).next(z=>{z.forEach((se,_e)=>{h=h.insert(se,_e)})})}).next(()=>h))}bs(e,r,o){let u;return this.qn.getAll(e,r.path,o).next(h=>(u=h,this.gs.getAllMutationBatchesAffectingQuery(e,r))).next(h=>{for(const y of h)for(const b of y.mutations){const L=b.key;let z=u.get(L);null==z&&(z=wr.newInvalidDocument(L),u=u.insert(L,z)),cl(b,z,y.localWriteTime),z.isFoundDocument()||(u=u.remove(L))}}).next(()=>(u.forEach((h,y)=>{ja(r,y)||(u=u.remove(h))}),u))}}class Ml{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.vs=o,this.Vs=u}static Ss(e,r){let o=q(),u=q();for(const h of r.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ml(e,r.fromCache,o,u)}}class Gh{Ds(e){this.Cs=e}As(e,r,o,u){return 0===(h=r).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(V.min())?this.Ns(e,r):this.Cs.Es(e,u).next(h=>{const y=this.xs(r,h);return(De(r)||Fe(r))&&this.ks(r.limitType,y,u,o)?this.Ns(e,r):(Ks()<=me.in.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ha(r)),this.Cs.As(e,r,o).next(b=>(y.forEach(L=>{b=b.insert(L.key,L)}),b)))});var h}xs(e,r){let o=new ni($s(e));return r.forEach((u,h)=>{ja(e,h)&&(o=o.add(h))}),o}ks(e,r,o,u){if(o.size!==r.size)return!0;const h="F"===e?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ns(e,r){return Ks()<=me.in.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",ha(r)),this.Cs.As(e,r,V.min())}}class Hh{constructor(e,r,o,u){this.persistence=e,this.Os=r,this.O=u,this.Ms=new Oi(v),this.$s=new Rc(h=>Ai(h),Bs),this.Fs=V.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(o)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Za(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function zh(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,g.Z)(function*(i,e){const r=ft(i);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.gs.getAllMutationBatches(o).next(h=>(u=h,r.Ls(e),r.gs.getAllMutationBatches(o))).next(h=>{const y=[],b=[];let L=q();for(const z of u){y.push(z.batchId);for(const se of z.mutations)L=L.add(se.key)}for(const z of h){b.push(z.batchId);for(const se of z.mutations)L=L.add(se.key)}return r.Us.Es(o,L).next(z=>({qs:z,removedBatchIds:y,addedBatchIds:b}))})})}),Pp.apply(this,arguments)}function vd(i,e){const r=ft(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),h=r.Bs.newChangeBuffer({trackRemovals:!0});return function(y,b,L,z){const se=L.batch,_e=se.keys();let Ve=Ke.resolve();return _e.forEach(at=>{Ve=Ve.next(()=>z.getEntry(b,at)).next(mt=>{const Jt=L.docVersions.get(at);en(null!==Jt),mt.version.compareTo(Jt)<0&&(se.applyToRemoteDocument(mt,L),mt.isValidDocument()&&(mt.setReadTime(L.commitVersion),z.addEntry(mt)))})}),Ve.next(()=>y.gs.removeMutationBatch(b,se))}(r,o,e,h).next(()=>h.apply(o)).next(()=>r.gs.performConsistencyCheck(o)).next(()=>r.Us.Es(o,u))})}function xl(i){const e=ft(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Un.getLastRemoteSnapshotVersion(r))}function Wh(i,e){const r=ft(i),o=e.snapshotVersion;let u=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=r.Bs.newChangeBuffer({trackRemovals:!0});u=r.Ms;const b=[];e.targetChanges.forEach((z,se)=>{const _e=u.get(se);if(!_e)return;b.push(r.Un.removeMatchingKeys(h,z.removedDocuments,se).next(()=>r.Un.addMatchingKeys(h,z.addedDocuments,se)));let Ve=_e.withSequenceNumber(h.currentSequenceNumber);var at,mt,Jt;e.targetMismatches.has(se)?Ve=Ve.withResumeToken(Qn.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):z.resumeToken.approximateByteSize()>0&&(Ve=Ve.withResumeToken(z.resumeToken,o)),u=u.insert(se,Ve),mt=Ve,Jt=z,(0===(at=_e).resumeToken.approximateByteSize()||mt.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=3e8||Jt.addedDocuments.size+Jt.modifiedDocuments.size+Jt.removedDocuments.size>0)&&b.push(r.Un.updateTargetData(h,Ve))});let L=_();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(h,z))}),b.push(function _d(i,e,r){let o=q();return r.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=_();return r.forEach((y,b)=>{const L=u.get(y);b.isNoDocument()&&b.version.isEqual(V.min())?(e.removeEntry(y,b.readTime),h=h.insert(y,b)):!L.isValidDocument()||b.version.compareTo(L.version)>0||0===b.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(b),h=h.insert(y,b)):yt("LocalStore","Ignoring outdated watch update for ",y,". Current version:",L.version," Watch version:",b.version)}),h})}(h,y,e.documentUpdates).next(z=>{L=z})),!o.isEqual(V.min())){const z=r.Un.getLastRemoteSnapshotVersion(h).next(se=>r.Un.setTargetsMetadata(h,h.currentSequenceNumber,o));b.push(z)}return Ke.waitFor(b).next(()=>y.apply(h)).next(()=>r.Us.Ts(h,L)).next(()=>L)}).then(h=>(r.Ms=u,h))}function qh(i,e){const r=ft(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.gs.getNextMutationBatchAfterBatchId(o,e)))}function Ol(i,e){const r=ft(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Un.getTargetData(o,e).next(h=>h?(u=h,Ke.resolve(u)):r.Un.allocateTargetId(o).next(y=>(u=new Ia(e,y,0,o.currentSequenceNumber),r.Un.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.Ms.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(o.targetId,o),r.$s.set(e,o.targetId)),o})}function Pc(i,e,r){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,g.Z)(function*(i,e,r){const o=ft(i),u=o.Ms.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",h,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!Sc(y))throw y;yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.Ms=o.Ms.remove(e),o.$s.delete(u.target)}),Kh.apply(this,arguments)}function Ed(i,e,r){const o=ft(i);let u=V.min(),h=q();return o.persistence.runTransaction("Execute query","readonly",y=>function(b,L,z){const se=ft(b),_e=se.$s.get(z);return void 0!==_e?Ke.resolve(se.Ms.get(_e)):se.Un.getTargetData(L,z)}(o,y,$n(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.Un.getMatchingKeysForTargetId(y,b.targetId).next(L=>{h=L})}).next(()=>o.Os.As(y,e,r?u:V.min(),r?h:q())).next(b=>({documents:b,Ks:h})))}class Jh{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,r){return Ke.resolve(this.Ws.get(r))}saveBundleMetadata(e,r){var o;return this.Ws.set(r.id,{id:(o=r).id,version:o.version,createTime:zi(o.createTime)}),Ke.resolve()}getNamedQuery(e,r){return Ke.resolve(this.zs.get(r))}saveNamedQuery(e,r){return this.zs.set(r.name,{name:(o=r).name,query:Ah(o.bundledQuery),readTime:zi(o.readTime)}),Ke.resolve();var o}}class av{constructor(){this.overlays=new Oi($t.comparator),this.Hs=new Map}getOverlay(e,r){return Ke.resolve(this.overlays.get(r))}saveOverlays(e,r,o){return o.forEach(u=>{this.Yt(e,r,u)}),Ke.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.Hs.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Hs.delete(o)),Ke.resolve()}getOverlaysForCollection(e,r,o){const u=new Map,h=r.length+1,y=new $t(r.child("")),b=this.overlays.getIteratorFrom(y);for(;b.hasNext();){const L=b.getNext().value,z=L.getKey();if(!r.isPrefixOf(z.path))break;z.path.length===h&&L.largestBatchId>o&&u.set(L.getKey(),L)}return Ke.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let h=new Oi((z,se)=>z-se);const y=this.overlays.getIterator();for(;y.hasNext();){const z=y.getNext().value;if(z.getKey().getCollectionGroup()===r&&z.largestBatchId>o){let se=h.get(z.largestBatchId);null===se&&(se=new Map,h=h.insert(z.largestBatchId,se)),se.set(z.getKey(),z)}}const b=new Map,L=h.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((z,se)=>b.set(se,z)),!(b.size>=u)););return Ke.resolve(b)}Yt(e,r,o){if(null===o)return;const u=this.overlays.get(o.key);null!==u&&this.Hs.get(u.largestBatchId).delete(o.key),this.overlays=this.overlays.insert(o.key,new wl(r,o));let h=this.Hs.get(r);void 0===h&&(h=new Set,this.Hs.set(r,h)),h.add(o.key)}}class Lp{constructor(){this.Js=new ni(Is.Ys),this.Xs=new ni(Is.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,r){const o=new Is(e,r);this.Js=this.Js.add(o),this.Xs=this.Xs.add(o)}ti(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.ei(new Is(e,r))}ni(e,r){e.forEach(o=>this.removeReference(o,r))}si(e){const r=new $t(new Mt([])),o=new Is(r,e),u=new Is(r,e+1),h=[];return this.Xs.forEachInRange([o,u],y=>{this.ei(y),h.push(y.key)}),h}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const r=new $t(new Mt([])),o=new Is(r,e),u=new Is(r,e+1);let h=q();return this.Xs.forEachInRange([o,u],y=>{h=h.add(y.key)}),h}containsKey(e){const r=new Is(e,0),o=this.Js.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Is{constructor(e,r){this.key=e,this.oi=r}static Ys(e,r){return $t.comparator(e.key,r.key)||v(e.oi,r.oi)}static Zs(e,r){return v(e.oi,r.oi)||$t.comparator(e.key,r.key)}}class uv{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.gs=[],this.ci=1,this.ui=new ni(Is.Ys)}checkEmpty(e){return Ke.resolve(0===this.gs.length)}addMutationBatch(e,r,o,u){const h=this.ci;this.ci++;const y=new ud(h,r,o,u);this.gs.push(y);for(const b of u)this.ui=this.ui.add(new Is(b.key,h)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ke.resolve(y)}lookupMutationBatch(e,r){return Ke.resolve(this.ai(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.hi(r+1),h=u<0?0:u;return Ke.resolve(this.gs.length>h?this.gs[h]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Ke.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Is(r,0),u=new Is(r,Number.POSITIVE_INFINITY),h=[];return this.ui.forEachInRange([o,u],y=>{const b=this.ai(y.oi);h.push(b)}),Ke.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ni(v);return r.forEach(u=>{const h=new Is(u,0),y=new Is(u,Number.POSITIVE_INFINITY);this.ui.forEachInRange([h,y],b=>{o=o.add(b.oi)})}),Ke.resolve(this.li(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let h=o;$t.isDocumentKey(h)||(h=h.child(""));const y=new Is(new $t(h),0);let b=new ni(v);return this.ui.forEachWhile(L=>{const z=L.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(b=b.add(L.oi)),!0)},y),Ke.resolve(this.li(b))}li(e){const r=[];return e.forEach(o=>{const u=this.ai(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){en(0===this.fi(r.batchId,"removed")),this.gs.shift();let o=this.ui;return Ke.forEach(r.mutations,u=>{const h=new Is(u.key,r.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ui=o})}Qe(e){}containsKey(e,r){const o=new Is(r,0),u=this.ui.firstAfterOrEqual(o);return Ke.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Ke.resolve()}fi(e,r){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const r=this.hi(e);return r<0||r>=this.gs.length?null:this.gs[r]}}class cv{constructor(e){this.di=e,this.docs=new Oi($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),h=u?u.size:0,y=this.di(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Ke.resolve(o?o.document.mutableCopy():wr.newInvalidDocument(r))}getEntries(e,r){let o=_();return r.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():wr.newInvalidDocument(u))}),Ke.resolve(o)}getAll(e,r,o){let u=_();const h=new $t(r.child("")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:b,value:{document:L}}=y.getNext();if(!r.isPrefixOf(b.path))break;b.path.length>r.length+1||L.readTime.compareTo(o)<=0||(u=u.insert(L.key,L.mutableCopy()))}return Ke.resolve(u)}_i(e,r){return Ke.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new lv(this)}getSize(e){return Ke.resolve(this.size)}}class lv extends class rm{constructor(){this.changes=new Rc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Ke.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Tn=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.Tn.addEntry(e,u)):this.Tn.removeEntry(o)}),Ke.waitFor(r)}getFromCache(e,r){return this.Tn.getEntry(e,r)}getAllFromCache(e,r){return this.Tn.getEntries(e,r)}}class dv{constructor(e){this.persistence=e,this.wi=new Rc(r=>Ai(r),Bs),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.mi=0,this.gi=new Lp,this.targetCount=0,this.yi=Ka.He()}forEachTarget(e,r){return this.wi.forEach((o,u)=>r(u)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.mi&&(this.mi=r),Ke.resolve()}Ze(e){this.wi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.yi=new Ka(r),this.highestTargetId=r),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,r){return this.Ze(r),this.targetCount+=1,Ke.resolve()}updateTargetData(e,r){return this.Ze(r),Ke.resolve()}removeTargetData(e,r){return this.wi.delete(r.target),this.gi.si(r.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,r,o){let u=0;const h=[];return this.wi.forEach((y,b)=>{b.sequenceNumber<=r&&null===o.get(b.targetId)&&(this.wi.delete(y),h.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),Ke.waitFor(h).next(()=>u)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,r){const o=this.wi.get(r)||null;return Ke.resolve(o)}addMatchingKeys(e,r,o){return this.gi.ti(r,o),Ke.resolve()}removeMatchingKeys(e,r,o){this.gi.ni(r,o);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(y=>{h.push(u.markPotentiallyOrphaned(e,y))}),Ke.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.gi.si(r),Ke.resolve()}getMatchingKeysForTargetId(e,r){const o=this.gi.ri(r);return Ke.resolve(o)}containsKey(e,r){return Ke.resolve(this.gi.containsKey(r))}}class hv{constructor(e,r){this.pi={},this.overlays={},this.Nn=new Xr(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new dv(this),this.indexManager=new Ap,this.qn=new cv(o=>this.referenceDelegate.Ii(o)),this.O=new Th(r),this.Kn=new Jh(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new av,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.pi[e.toKey()];return o||(o=new uv(r,this.referenceDelegate),this.pi[e.toKey()]=o),o}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,r,o){yt("MemoryPersistence","Starting transaction:",e);const u=new fv(this.Nn.next());return this.referenceDelegate.Ei(),o(u).next(h=>this.referenceDelegate.Ti(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(e,r){return Ke.or(Object.values(this.pi).map(o=>()=>o.containsKey(e,r)))}}class fv extends class Xg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Lp,this.Pi=null}static bi(e){return new Vp(e)}get vi(){if(this.Pi)return this.Pi;throw Bt()}addReference(e,r,o){return this.Ri.addReference(o,r),this.vi.delete(o.toString()),Ke.resolve()}removeReference(e,r,o){return this.Ri.removeReference(o,r),this.vi.add(o.toString()),Ke.resolve()}markPotentiallyOrphaned(e,r){return this.vi.add(r.toString()),Ke.resolve()}removeTarget(e,r){this.Ri.si(r.targetId).forEach(u=>this.vi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(h=>this.vi.add(h.toString()))}).next(()=>o.removeTargetData(e,r))}Ei(){this.Pi=new Set}Ti(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.vi,o=>{const u=$t.fromPath(o);return this.Vi(e,u).next(h=>{h||r.removeEntry(u,V.min())})}).next(()=>(this.Pi=null,r.apply(e)))}updateLimboDocument(e,r){return this.Vi(e,r).next(o=>{o?this.vi.delete(r.toString()):this.vi.add(r.toString())})}Ii(e){return 0}Vi(e,r){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class ef{constructor(){this.activeTargetIds=lt()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tf{constructor(){this._r=new ef,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,r,o){this.wr[e]=r}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new ef,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class om{mr(e){}shutdown(){}}class Dd{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Up{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class um extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,r,o,u,h){const y=this.$r(e,r);yt("RestConnection","Sending: ",y,o);const b={};return this.Fr(b,u,h),this.Br(e,y,b,o).then(L=>(yt("RestConnection","Received: ",L),L),L=>{throw li("RestConnection",`${e} failed with error: `,L,"url: ",y,"request:",o),L})}Lr(e,r,o,u,h){return this.Mr(e,r,o,u,h)}Fr(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Io,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,h)=>e[h]=u),o&&o.headers.forEach((u,h)=>e[h]=u)}$r(e,r){return`${this.kr}/v1/${r}:${am[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,r,o,u){return new Promise((h,y)=>{const b=new La;b.listenOnce(na.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Fa.NO_ERROR:const z=b.getResponseJson();yt("Connection","XHR received:",JSON.stringify(z)),h(z);break;case Fa.TIMEOUT:yt("Connection",'RPC "'+e+'" timed out'),y(new ct(ze.DEADLINE_EXCEEDED,"Request time out"));break;case Fa.HTTP_ERROR:const se=b.getStatus();if(yt("Connection",'RPC "'+e+'" failed with status:',se,"response text:",b.getResponseText()),se>0){const _e=b.getResponseJson().error;if(_e&&_e.status&&_e.message){const Ve=function(at){const mt=at.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(mt)>=0?mt:ze.UNKNOWN}(_e.status);y(new ct(Ve,_e.message))}else y(new ct(ze.UNKNOWN,"Server responded with status "+b.getStatus()))}else y(new ct(ze.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{yt("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(u);b.send(r,"POST",L,o,15)})}Ur(e,r,o){const u=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ao(),y=ka(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new wo({})),this.Fr(b.initMessageHeaders,r,o),(0,he.uI)()||(0,he.b$)()||(0,he.d)()||(0,he.w1)()||(0,he.Mn)()||(0,he.ru)()||(b.httpHeadersOverwriteParam="$httpHeaders");const L=u.join("");yt("Connection","Creating WebChannel: "+L,b);const z=h.createWebChannel(L,b);let se=!1,_e=!1;const Ve=new Up({Ar:mt=>{_e?yt("Connection","Not sending because WebChannel is closed:",mt):(se||(yt("Connection","Opening WebChannel transport."),z.open(),se=!0),yt("Connection","WebChannel sending:",mt),z.send(mt))},Rr:()=>z.close()}),at=(mt,Jt,Pn)=>{mt.listen(Jt,Yi=>{try{Pn(Yi)}catch(xs){setTimeout(()=>{throw xs},0)}})};return at(z,Ts.EventType.OPEN,()=>{_e||yt("Connection","WebChannel transport opened.")}),at(z,Ts.EventType.CLOSE,()=>{_e||(_e=!0,yt("Connection","WebChannel transport closed"),Ve.Cr())}),at(z,Ts.EventType.ERROR,mt=>{_e||(_e=!0,li("Connection","WebChannel transport errored:",mt),Ve.Cr(new ct(ze.UNAVAILABLE,"The operation could not be completed")))}),at(z,Ts.EventType.MESSAGE,mt=>{var Jt;if(!_e){const Pn=mt.data[0];en(!!Pn);const Yi=Pn,xs=Yi.error||(null===(Jt=Yi[0])||void 0===Jt?void 0:Jt.error);if(xs){yt("Connection","WebChannel received error:",xs);const Ql=xs.status;let lc=function(hy){const Og=xi[hy];if(void 0!==Og)return Ha(Og)}(Ql),sh=xs.message;void 0===lc&&(lc=ze.INTERNAL,sh="Unknown error status: "+Ql+" with message "+xs.message),_e=!0,Ve.Cr(new ct(lc,sh)),z.close()}else yt("Connection","WebChannel received:",Pn),Ve.Nr(Pn)}}),at(y,Ho.STAT_EVENT,mt=>{mt.stat===qn.PROXY?yt("Connection","Detected buffering proxy"):mt.stat===qn.NOPROXY&&yt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ve.Dr()},0),Ve}}function Du(){return"undefined"!=typeof document?document:null}function Ca(i){return new sd(i,!0)}class kl{constructor(e,r,o=1e3,u=1.5,h=6e4){this.Sn=e,this.timerId=r,this.qr=o,this.Kr=u,this.Gr=h,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const r=Math.floor(this.jr+this.Jr()),o=Math.max(0,Date.now()-this.Wr),u=Math.max(0,r-o);u>0&&yt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.jr} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,u,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class Xu{constructor(e,r,o,u,h,y,b,L){this.Sn=e,this.Xr=o,this.Zr=u,this.eo=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=b,this.listener=L,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new kl(e,r)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,g.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,g.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,r){var o=this;return(0,g.Z)(function*(){o._o(),o.wo(),o.ro.cancel(),o.no++,4!==e?o.ro.reset():r&&r.code===ze.RESOURCE_EXHAUSTED?(Kr(r.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),o.ro.zr()):r&&r.code===ze.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.mo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.vr(r)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),r=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.no===r&&this.po(o,u)},o=>{e(()=>{const u=new ct(ze.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Io(u)})})}po(e,r){const o=this.yo(this.no);this.stream=this.Eo(e,r),this.stream.Pr(()=>{o(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(u=>{o(()=>this.Io(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}uo(){var e=this;this.state=5,this.ro.Hr((0,g.Z)(function*(){e.state=0,e.start()}))}Io(e){return yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return r=>{this.Sn.enqueueAndForget(()=>this.no===e?r():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fl extends Xu{constructor(e,r,o,u,h,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,y),this.O=h}Eo(e,r){return this.eo.Ur("Listen",e,r)}onMessage(e){this.ro.reset();const r=function hp(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:Bt(),u=e.targetChange.targetIds||[],h=function(L,z){return L.N?(en(void 0===z||"string"==typeof z),Qn.fromBase64String(z||"")):(en(void 0===z||z instanceof Uint8Array),Qn.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,b=y&&function(L){const z=void 0===L.code?ze.UNKNOWN:Ha(L.code);return new ct(z,L.message||"")}(y);r=new Xs(o,u,h,b||null)}else if("documentChange"in e){const o=e.documentChange,u=go(i,o.document.name),h=zi(o.document.updateTime),y=new Hr({mapValue:{fields:o.document.fields}}),b=wr.newFoundDocument(u,h,y);r=new Nn(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=go(i,o.document),h=o.readTime?zi(o.readTime):V.min(),y=wr.newNoDocument(u,h);r=new Nn([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=go(i,o.document);r=new Nn([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Bt();{const o=e.filter,h=new pl(o.count||0);r=new Br(o.targetId,h)}}var L;return r}(this.O,e),o=function(u){if(!("targetChange"in u))return V.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?V.min():h.readTime?zi(h.readTime):V.min()}(e);return this.listener.To(r,o)}Ao(e){const r={};r.database=vl(this.O),r.addTarget=function(u,h){let y;const b=h.target;return y=gc(b)?{documents:fp(u,b)}:{query:pp(u,b)},y.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?y.resumeToken=Ic(u,h.resumeToken):h.snapshotVersion.compareTo(V.min())>0&&(y.readTime=Gu(u,h.snapshotVersion.toTimestamp())),y}(this.O,e);const o=function rv(i,e){const r=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.fo(r)}Ro(e){const r={};r.database=vl(this.O),r.removeTarget=e,this.fo(r)}}class kc extends Xu{constructor(e,r,o,u,h,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,y),this.O=h,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,r){return this.eo.Ur("Write",e,r)}onMessage(e){if(en(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const r=function qg(i,e){return i&&i.length>0?(en(void 0!==e),i.map(r=>function(o,u){let h=zi(o.updateTime?o.updateTime:u);return h.isEqual(V.min())&&(h=zi(u)),new ph(h,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=zi(e.commitTime);return this.listener.Vo(o,r)}return en(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=vl(this.O),this.fo(e)}vo(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>function _l(i,e){let r;if(e instanceof ga)r={update:lp(i,e.key,e.value)};else if(e instanceof pu)r={delete:mu(i,e.key)};else if(e instanceof ma)r={update:lp(i,e.key,e.data),updateMask:Ih(e.fieldMask)};else{if(!(e instanceof fl))return Bt();r={verify:mu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const y=h.transform;if(y instanceof hu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof $a)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof po)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Bu)return{fieldPath:h.field.canonicalString(),increment:y.k};throw Bt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:ml(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Bt()),r;var u}(this.O,o))};this.fo(r)}}class cm extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.eo=o,this.O=u,this.Co=!1}No(){if(this.Co)throw new ct(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,r,o){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.eo.Mr(e,r,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(ze.UNKNOWN,u.toString())})}Lr(e,r,o){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.eo.Lr(e,r,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(ze.UNKNOWN,u.toString())})}terminate(){this.Co=!0}}class jp{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Kr(r),this.Oo=!1):yt("OnlineStateTracker",r)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class $p{constructor(e,r,o,u,h){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=h,this.jo.mr(b=>{o.enqueueAndForget((0,g.Z)(function*(){var L;Qa(y)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,g.Z)(function*(z){const se=ft(z);se.Ko.add(4),yield tc(se),se.Qo.set("Unknown"),se.Ko.delete(4),yield ec(se)}),function(z){return L.apply(this,arguments)})(y))}))}),this.Qo=new jp(o,u)}}function ec(i){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,g.Z)(function*(i){if(Qa(i))for(const e of i.Go)yield e(!0)}),Ll.apply(this,arguments)}function tc(i){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,g.Z)(function*(i){for(const e of i.Go)yield e(!1)}),Fc.apply(this,arguments)}function Cd(i,e){const r=ft(i);r.qo.has(e.targetId)||(r.qo.set(e.targetId,e),rf(r)?bd(r):nc(r).co()&&Gp(r,e))}function Lc(i,e){const r=ft(i),o=nc(r);r.qo.delete(e),o.co()&&nf(r,e),0===r.qo.size&&(o.co()?o.ho():Qa(r)&&r.Qo.set("Unknown"))}function Gp(i,e){i.Wo.Z(e.targetId),nc(i).Ao(e)}function nf(i,e){i.Wo.Z(e),nc(i).Ro(e)}function bd(i){i.Wo=new gl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>i.qo.get(e)||null}),nc(i).start(),i.Qo.Mo()}function rf(i){return Qa(i)&&!nc(i).oo()&&i.qo.size>0}function Qa(i){return 0===ft(i).Ko.size}function Hp(i){i.Wo=void 0}function lm(i){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,g.Z)(function*(i){i.qo.forEach((e,r)=>{Gp(i,e)})}),Ws.apply(this,arguments)}function dm(i,e){return sf.apply(this,arguments)}function sf(){return sf=(0,g.Z)(function*(i,e){Hp(i),rf(i)?(i.Qo.Bo(e),bd(i)):i.Qo.set("Unknown")}),sf.apply(this,arguments)}function pv(i,e,r){return zp.apply(this,arguments)}function zp(){return zp=(0,g.Z)(function*(i,e,r){if(i.Qo.set("Online"),e instanceof Xs&&2===e.state&&e.cause)try{yield(o=(0,g.Z)(function*(u,h){const y=h.cause;for(const b of h.targetIds)u.qo.has(b)&&(yield u.remoteSyncer.rejectListen(b,y),u.qo.delete(b),u.Wo.removeTarget(b))}),function(u,h){return o.apply(this,arguments)})(i,e)}catch(o){yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vl(i,o)}else if(e instanceof Nn?i.Wo.ct(e):e instanceof Br?i.Wo._t(e):i.Wo.ht(e),!r.isEqual(V.min()))try{const o=yield xl(i.localStore);r.compareTo(o)>=0&&(yield function(u,h){const y=u.Wo.yt(h);return y.targetChanges.forEach((b,L)=>{if(b.resumeToken.approximateByteSize()>0){const z=u.qo.get(L);z&&u.qo.set(L,z.withResumeToken(b.resumeToken,h))}}),y.targetMismatches.forEach(b=>{const L=u.qo.get(b);if(!L)return;u.qo.set(b,L.withResumeToken(Qn.EMPTY_BYTE_STRING,L.snapshotVersion)),nf(u,b);const z=new Ia(L.target,b,1,L.sequenceNumber);Gp(u,z)}),u.remoteSyncer.applyRemoteEvent(y)}(i,r))}catch(o){yt("RemoteStore","Failed to raise snapshot:",o),yield Vl(i,o)}var o}),zp.apply(this,arguments)}function Vl(i,e,r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,g.Z)(function*(i,e,r){if(!Sc(e))throw e;i.Ko.add(1),yield tc(i),i.Qo.set("Offline"),r||(r=()=>xl(i.localStore)),i.asyncQueue.enqueueRetryable((0,g.Z)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield r(),i.Ko.delete(1),yield ec(i)}))}),Wp.apply(this,arguments)}function qp(i,e){return e().catch(r=>Vl(i,r,e))}function Cu(i){return Td.apply(this,arguments)}function Td(){return Td=(0,g.Z)(function*(i){const e=ft(i),r=bu(e);let o=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;hm(e);)try{const u=yield qh(e.localStore,o);if(null===u){0===e.Uo.length&&r.ho();break}o=u.batchId,fm(e,u)}catch(u){yield Vl(e,u)}Kp(e)&&af(e)}),Td.apply(this,arguments)}function hm(i){return Qa(i)&&i.Uo.length<10}function fm(i,e){i.Uo.push(e);const r=bu(i);r.co()&&r.bo&&r.vo(e.mutations)}function Kp(i){return Qa(i)&&!bu(i).oo()&&i.Uo.length>0}function af(i){bu(i).start()}function pm(i){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,g.Z)(function*(i){bu(i).Do()}),Ad.apply(this,arguments)}function gm(i){return uf.apply(this,arguments)}function uf(){return uf=(0,g.Z)(function*(i){const e=bu(i);for(const r of i.Uo)e.vo(r.mutations)}),uf.apply(this,arguments)}function Zp(i,e,r){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,g.Z)(function*(i,e,r){const o=i.Uo.shift(),u=cd.from(o,e,r);yield qp(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Cu(i)}),Sd.apply(this,arguments)}function mm(i,e){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,g.Z)(function*(i,e){var r;e&&bu(i).bo&&(yield(r=(0,g.Z)(function*(o,u){if(ya(h=u.code)&&h!==ze.ABORTED){const y=o.Uo.shift();bu(o).ao(),yield qp(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield Cu(o)}var h}),function(o,u){return r.apply(this,arguments)})(i,e)),Kp(i)&&af(i)}),Oo.apply(this,arguments)}function Md(i,e){return cf.apply(this,arguments)}function cf(){return cf=(0,g.Z)(function*(i,e){const r=ft(i);r.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const o=Qa(r);r.Ko.add(3),yield tc(r),o&&r.Qo.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.Ko.delete(3),yield ec(r)}),cf.apply(this,arguments)}function Yp(){return Yp=(0,g.Z)(function*(i,e){const r=ft(i);e?(r.Ko.delete(2),yield ec(r)):e||(r.Ko.add(2),yield tc(r),r.Qo.set("Unknown"))}),Yp.apply(this,arguments)}function nc(i){return i.zo||(i.zo=function(e,r,o){const u=ft(e);return u.No(),new Fl(r,u.eo,u.authCredentials,u.appCheckCredentials,u.O,o)}(i.datastore,i.asyncQueue,{Pr:lm.bind(null,i),vr:dm.bind(null,i),To:pv.bind(null,i)}),i.Go.push(function(){var e=(0,g.Z)(function*(r){r?(i.zo.ao(),rf(i)?bd(i):i.Qo.set("Unknown")):(yield i.zo.stop(),Hp(i))});return function(r){return e.apply(this,arguments)}}())),i.zo}function bu(i){return i.Ho||(i.Ho=function(e,r,o){const u=ft(e);return u.No(),new kc(r,u.eo,u.authCredentials,u.appCheckCredentials,u.O,o)}(i.datastore,i.asyncQueue,{Pr:pm.bind(null,i),vr:mm.bind(null,i),So:gm.bind(null,i),Vo:Zp.bind(null,i)}),i.Go.push(function(){var e=(0,g.Z)(function*(r){r?(i.Ho.ao(),yield Cu(i)):(yield i.Ho.stop(),i.Uo.length>0&&(yt("RemoteStore",`Stopping write stream with ${i.Uo.length} pending writes`),i.Uo=[]))});return function(r){return e.apply(this,arguments)}}())),i.Ho}class df{constructor(e,r,o,u,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,r,o,u,h){const y=Date.now()+o,b=new df(e,r,y,u,h);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(i,e){if(Kr("AsyncQueue",`${e}: ${i}`),Sc(i))return new ct(ze.UNAVAILABLE,`${e}: ${i}`);throw i}class Tu{constructor(e){this.comparator=e?(r,o)=>e(r,o)||$t.comparator(r.key,o.key):(r,o)=>$t.comparator(r.key,o.key),this.keyedMap=f(),this.sortedSet=new Oi(this.comparator)}static emptySet(e){return new Tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Tu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Qp{constructor(){this.Jo=new Oi($t.comparator)}track(e){const r=e.doc.key,o=this.Jo.get(r);o?0!==e.type&&3===o.type?this.Jo=this.Jo.insert(r,e):3===e.type&&1!==o.type?this.Jo=this.Jo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Jo=this.Jo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Jo=this.Jo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Jo=this.Jo.remove(r):1===e.type&&2===o.type?this.Jo=this.Jo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Jo=this.Jo.insert(r,{type:2,doc:e.doc}):Bt():this.Jo=this.Jo.insert(r,e)}Yo(){const e=[];return this.Jo.inorderTraversal((r,o)=>{e.push(o)}),e}}class Uc{constructor(e,r,o,u,h,y,b,L){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=b,this.excludesMetadataChanges=L}static fromInitialDocuments(e,r,o,u){const h=[];return r.forEach(y=>{h.push({type:0,doc:y})}),new Uc(e,r,Tu.emptySet(r),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ti(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class xd{constructor(){this.Xo=void 0,this.listeners=[]}}class hf{constructor(){this.queries=new Rc(e=>di(e),ti),this.onlineState="Unknown",this.Zo=new Set}}function ff(i,e){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,g.Z)(function*(i,e){const r=ft(i),o=e.query;let u=!1,h=r.queries.get(o);if(h||(u=!0,h=new xd),u)try{h.Xo=yield r.onListen(o)}catch(y){const b=Vc(y,`Initialization of query '${ha(e.query)}' failed`);return void e.onError(b)}r.queries.set(o,h),h.listeners.push(e),e.tc(r.onlineState),h.Xo&&e.ec(h.Xo)&&jl(r)}),Ul.apply(this,arguments)}function Bl(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,g.Z)(function*(i,e){const r=ft(i),o=e.query;let u=!1;const h=r.queries.get(o);if(h){const y=h.listeners.indexOf(e);y>=0&&(h.listeners.splice(y,1),u=0===h.listeners.length)}if(u)return r.queries.delete(o),r.onUnlisten(o)}),Od.apply(this,arguments)}function ym(i,e){const r=ft(i);let o=!1;for(const u of e){const y=r.queries.get(u.query);if(y){for(const b of y.listeners)b.ec(u)&&(o=!0);y.Xo=u}}o&&jl(r)}function vm(i,e,r){const o=ft(i),u=o.queries.get(e);if(u)for(const h of u.listeners)h.onError(r);o.queries.delete(e)}function jl(i){i.Zo.forEach(e=>{e.next()})}class Jp{constructor(e,r,o){this.query=e,this.nc=r,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=o||{}}ec(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Uc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.sc?this.rc(e)&&(this.nc.next(e),r=!0):this.oc(e,this.onlineState)&&(this.cc(e),r=!0),this.ic=e,r}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let r=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),r=!0),r}oc(e,r){return!e.fromCache||!(this.options.uc&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class mf{constructor(e){this.key=e}}class yf{constructor(e){this.key=e}}class ba{constructor(e,r){this.query=e,this.dc=r,this._c=null,this.current=!1,this.wc=q(),this.mutatedKeys=q(),this.mc=$s(e),this.gc=new Tu(this.mc)}get yc(){return this.dc}Ic(e,r){const o=r?r.Ec:new Qp,u=r?r.gc:this.gc;let h=r?r.mutatedKeys:this.mutatedKeys,y=u,b=!1;const L=De(this.query)&&u.size===this.query.limit?u.last():null,z=Fe(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((se,_e)=>{const Ve=u.get(se),at=ja(this.query,_e)?_e:null,mt=!!Ve&&this.mutatedKeys.has(Ve.key),Jt=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let Pn=!1;Ve&&at?Ve.data.isEqual(at.data)?mt!==Jt&&(o.track({type:3,doc:at}),Pn=!0):this.Tc(Ve,at)||(o.track({type:2,doc:at}),Pn=!0,(L&&this.mc(at,L)>0||z&&this.mc(at,z)<0)&&(b=!0)):!Ve&&at?(o.track({type:0,doc:at}),Pn=!0):Ve&&!at&&(o.track({type:1,doc:Ve}),Pn=!0,(L||z)&&(b=!0)),Pn&&(at?(y=y.add(at),h=Jt?h.add(se):h.delete(se)):(y=y.delete(se),h=h.delete(se)))}),De(this.query)||Fe(this.query))for(;y.size>this.query.limit;){const se=De(this.query)?y.last():y.first();y=y.delete(se.key),h=h.delete(se.key),o.track({type:1,doc:se})}return{gc:y,Ec:o,ks:b,mutatedKeys:h}}Tc(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const u=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const h=e.Ec.Yo();h.sort((z,se)=>function(_e,Ve){const at=mt=>{switch(mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return at(_e)-at(Ve)}(z.type,se.type)||this.mc(z.doc,se.doc)),this.Ac(o);const y=r?this.Rc():[],b=0===this.wc.size&&this.current?1:0,L=b!==this._c;return this._c=b,0!==h.length||L?{snapshot:new Uc(this.query,e.gc,u,h,e.mutatedKeys,0===b,L,!1),Pc:y}:{Pc:y}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Qp,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(r=>this.dc=this.dc.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.dc=this.dc.delete(r)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=q(),this.gc.forEach(o=>{this.bc(o.key)&&(this.wc=this.wc.add(o.key))});const r=[];return e.forEach(o=>{this.wc.has(o)||r.push(new yf(o))}),this.wc.forEach(o=>{e.has(o)||r.push(new mf(o))}),r}vc(e){this.dc=e.Ks,this.wc=q();const r=this.Ic(e.documents);return this.applyChanges(r,!0)}Vc(){return Uc.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Rd{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Em{constructor(e){this.key=e,this.Sc=!1}}class wm{constructor(e,r,o,u,h,y){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.Dc={},this.Cc=new Rc(b=>di(b),ti),this.Nc=new Map,this.xc=new Set,this.kc=new Oi($t.comparator),this.Oc=new Map,this.Mc=new Lp,this.$c={},this.Fc=new Map,this.Bc=Ka.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function gv(i,e){return $l.apply(this,arguments)}function $l(){return $l=(0,g.Z)(function*(i,e){const r=sg(i);let o,u;const h=r.Cc.get(e);if(h)o=h.targetId,r.sharedClientState.addLocalQueryTarget(o),u=h.view.Vc();else{const y=yield Ol(r.localStore,$n(e));r.isPrimaryClient&&Cd(r.remoteStore,y);const b=r.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield Nd(r,e,o,"current"===b)}return u}),$l.apply(this,arguments)}function Nd(i,e,r,o){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,g.Z)(function*(i,e,r,o){i.Uc=(se,_e,Ve)=>{return(at=(0,g.Z)(function*(mt,Jt,Pn,Yi){let xs=Jt.view.Ic(Pn);xs.ks&&(xs=yield Ed(mt.localStore,Jt.query,!1).then(({documents:sh})=>Jt.view.Ic(sh,xs)));const Ql=Yi&&Yi.targetChanges.get(Jt.targetId),lc=Jt.view.applyChanges(xs,mt.isPrimaryClient,Ql);return bf(mt,Jt.targetId,lc.Pc),lc.snapshot}),function(mt,Jt,Pn,Yi){return at.apply(this,arguments)})(i,se,_e,Ve);var at};const u=yield Ed(i.localStore,e,!0),h=new ba(e,u.Ks),y=h.Ic(u.documents),b=Xt.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),L=h.applyChanges(y,i.isPrimaryClient,b);bf(i,r,L.Pc);const z=new Rd(e,r,h);return i.Cc.set(e,z),i.Nc.has(r)?i.Nc.get(r).push(e):i.Nc.set(r,[e]),L.snapshot}),Gl.apply(this,arguments)}function Hl(i,e){return vf.apply(this,arguments)}function vf(){return vf=(0,g.Z)(function*(i,e){const r=ft(i),o=r.Cc.get(e),u=r.Nc.get(o.targetId);if(u.length>1)return r.Nc.set(o.targetId,u.filter(h=>!ti(h,e))),void r.Cc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Pc(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Lc(r.remoteStore,o.targetId),jc(r,o.targetId)}).catch(wu))):(jc(r,o.targetId),yield Pc(r.localStore,o.targetId,!0))}),vf.apply(this,arguments)}function Pd(){return Pd=(0,g.Z)(function*(i,e,r){const o=og(i);try{const u=yield function(h,y){const b=ft(h),L=N.now(),z=y.reduce((_e,Ve)=>_e.add(Ve.key),q());let se;return b.persistence.runTransaction("Locally write mutations","readwrite",_e=>b.Us.Es(_e,z).next(Ve=>{se=Ve;const at=[];for(const mt of y){const Jt=gh(mt,se.get(mt.key));null!=Jt&&at.push(new ma(mt.key,Jt,ho(Jt.value.mapValue),Mi.exists(!0)))}return b.gs.addMutationBatch(_e,L,at,y)})).then(_e=>(_e.applyToLocalDocumentSet(se),{batchId:_e.batchId,changes:se}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,y,b){let L=h.$c[h.currentUser.toKey()];L||(L=new Oi(v)),L=L.insert(y,b),h.$c[h.currentUser.toKey()]=L}(o,u.batchId,r),yield Ta(o,u.changes),yield Cu(o.remoteStore)}catch(u){const h=Vc(u,"Failed to persist write");r.reject(h)}}),Pd.apply(this,arguments)}function Ef(i,e){return kd.apply(this,arguments)}function kd(){return kd=(0,g.Z)(function*(i,e){const r=ft(i);try{const o=yield Wh(r.localStore,e);e.targetChanges.forEach((u,h)=>{const y=r.Oc.get(h);y&&(en(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.Sc=!0:u.modifiedDocuments.size>0?en(y.Sc):u.removedDocuments.size>0&&(en(y.Sc),y.Sc=!1))}),yield Ta(r,o,e)}catch(o){yield wu(o)}}),kd.apply(this,arguments)}function eg(i,e,r){const o=ft(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Cc.forEach((h,y)=>{const b=y.view.tc(e);b.snapshot&&u.push(b.snapshot)}),function(h,y){const b=ft(h);b.onlineState=y;let L=!1;b.queries.forEach((z,se)=>{for(const _e of se.listeners)_e.tc(y)&&(L=!0)}),L&&jl(b)}(o.eventManager,e),u.length&&o.Dc.To(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function wf(i,e,r){return If.apply(this,arguments)}function If(){return If=(0,g.Z)(function*(i,e,r){const o=ft(i);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Oc.get(e),h=u&&u.key;if(h){let y=new Oi($t.comparator);y=y.insert(h,wr.newNoDocument(h,V.min()));const b=q().add(h),L=new Ot(V.min(),new Map,new ni(v),y,b);yield Ef(o,L),o.kc=o.kc.remove(h),o.Oc.delete(e),zl(o)}else yield Pc(o.localStore,e,!1).then(()=>jc(o,e,r)).catch(wu)}),If.apply(this,arguments)}function Im(i,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,g.Z)(function*(i,e){const r=ft(i),o=e.batch.batchId;try{const u=yield vd(r.localStore,e);Cf(r,o,null),Au(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Ta(r,u)}catch(u){yield wu(u)}}),Fd.apply(this,arguments)}function Bc(i,e,r){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,g.Z)(function*(i,e,r){const o=ft(i);try{const u=yield function(h,y){const b=ft(h);return b.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let z;return b.gs.lookupMutationBatch(L,y).next(se=>(en(null!==se),z=se.keys(),b.gs.removeMutationBatch(L,se))).next(()=>b.gs.performConsistencyCheck(L)).next(()=>b.Us.Es(L,z))})}(o.localStore,e);Cf(o,e,r),Au(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Ta(o,u)}catch(u){yield wu(u)}}),Ld.apply(this,arguments)}function Au(i,e){(i.Fc.get(e)||[]).forEach(r=>{r.resolve()}),i.Fc.delete(e)}function Cf(i,e,r){const o=ft(i);let u=o.$c[o.currentUser.toKey()];if(u){const h=u.get(e);h&&(r?h.reject(r):h.resolve(),u=u.remove(e)),o.$c[o.currentUser.toKey()]=u}}function jc(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Nc.get(e))i.Cc.delete(o),r&&i.Dc.qc(o,r);i.Nc.delete(e),i.isPrimaryClient&&i.Mc.si(e).forEach(o=>{i.Mc.containsKey(o)||tg(i,o)})}function tg(i,e){i.xc.delete(e.path.canonicalString());const r=i.kc.get(e);null!==r&&(Lc(i.remoteStore,r),i.kc=i.kc.remove(e),i.Oc.delete(r),zl(i))}function bf(i,e,r){for(const o of r)o instanceof mf?(i.Mc.addReference(o.key,e),Ro(i,o)):o instanceof yf?(yt("SyncEngine","Document no longer in limbo: "+o.key),i.Mc.removeReference(o.key,e),i.Mc.containsKey(o.key)||tg(i,o.key)):Bt()}function Ro(i,e){const r=e.key,o=r.path.canonicalString();i.kc.get(r)||i.xc.has(o)||(yt("SyncEngine","New document in limbo: "+r),i.xc.add(o),zl(i))}function zl(i){for(;i.xc.size>0&&i.kc.size<i.maxConcurrentLimboResolutions;){const e=i.xc.values().next().value;i.xc.delete(e);const r=new $t(Mt.fromString(e)),o=i.Bc.next();i.Oc.set(o,new Em(r)),i.kc=i.kc.insert(r,o),Cd(i.remoteStore,new Ia($n(ne(r.path)),o,2,Xr.A))}}function Ta(i,e,r){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,g.Z)(function*(i,e,r){const o=ft(i),u=[],h=[],y=[];var b;o.Cc.isEmpty()||(o.Cc.forEach((b,L)=>{y.push(o.Uc(L,e,r).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(L.targetId,z.fromCache?"not-current":"current"),u.push(z);const se=Ml.Ss(L.targetId,z);h.push(se)}}))}),yield Promise.all(y),o.Dc.To(u),yield(b=(0,g.Z)(function*(L,z){const se=ft(L);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",_e=>Ke.forEach(z,Ve=>Ke.forEach(Ve.vs,at=>se.persistence.referenceDelegate.addReference(_e,Ve.targetId,at)).next(()=>Ke.forEach(Ve.Vs,at=>se.persistence.referenceDelegate.removeReference(_e,Ve.targetId,at)))))}catch(_e){if(!Sc(_e))throw _e;yt("LocalStore","Failed to update sequence numbers: "+_e)}for(const _e of z){const Ve=_e.targetId;if(!_e.fromCache){const at=se.Ms.get(Ve),Jt=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);se.Ms=se.Ms.insert(Ve,Jt)}}}),function(L,z){return b.apply(this,arguments)})(o.localStore,h))}),Vd.apply(this,arguments)}function ng(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,g.Z)(function*(i,e){const r=ft(i);if(!r.currentUser.isEqual(e)){yt("SyncEngine","User change. New user:",e.toKey());const o=yield zh(r.localStore,e);r.currentUser=e,(u=r).Fc.forEach(y=>{y.forEach(b=>{b.reject(new ct(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Fc.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ta(r,o.qs)}var u}),Ud.apply(this,arguments)}function Cm(i,e){const r=ft(i),o=r.Oc.get(e);if(o&&o.Sc)return q().add(o.key);{let u=q();const h=r.Nc.get(e);if(!h)return u;for(const y of h){const b=r.Cc.get(y);u=u.unionWith(b.view.yc)}return u}}function sg(i){const e=ft(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ef.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wf.bind(null,e),e.Dc.To=ym.bind(null,e.eventManager),e.Dc.qc=vm.bind(null,e.eventManager),e}function og(i){const e=ft(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Im.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bc.bind(null,e),e}class ug{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,g.Z)(function*(){r.O=Ca(e.databaseInfo.databaseId),r.sharedClientState=r.Gc(e),r.persistence=r.jc(e),yield r.persistence.start(),r.gcScheduler=r.Qc(e),r.localStore=r.Wc(e)})()}Qc(e){return null}Wc(e){return function sm(i,e,r,o){return new Hh(i,e,r,o)}(this.persistence,new Gh,e.initialUser,this.O)}jc(e){return new hv(Vp.bi,this.O)}Gc(e){return new tf}terminate(){var e=this;return(0,g.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lg{initialize(e,r){var o=this;return(0,g.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>eg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=ng.bind(null,o.syncEngine),yield function lf(i,e){return Yp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hf}createDatastore(e){const r=Ca(e.databaseInfo.databaseId),o=new um(e.databaseInfo);return new cm(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,u=e.asyncQueue,h=b=>eg(this.syncEngine,b,0),y=Dd.Vt()?new Dd:new om,new $p(r,o,u,h,y);var r,o,u,h,y}createSyncEngine(e,r){return function(o,u,h,y,b,L,z){const se=new wm(o,u,h,y,b,L);return z&&(se.Lc=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,g.Z)(function*(r){const o=ft(r);yt("RemoteStore","RemoteStore shutting down."),o.Ko.add(5),yield tc(o),o.jo.shutdown(),o.Qo.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class $c{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Nm{constructor(e,r,o,u){var h=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=lr.UNAUTHENTICATED,this.clientId=w.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,g.Z)(function*(b){yt("FirestoreClient","Received user=",b.uid),yield h.authCredentialListener(b),h.user=b});return function(b){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(yt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,g.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ct(ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Vc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function dg(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,g.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,g.Z)(function*(h){o.isEqual(h)||(yield zh(e.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),xf.apply(this,arguments)}function hg(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,g.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Gc(i);yt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(u=>Md(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,h)=>Md(e.remoteStore,h)),i.onlineComponents=e}),Of.apply(this,arguments)}function Gc(i){return Su.apply(this,arguments)}function Su(){return Su=(0,g.Z)(function*(i){return i.offlineComponents||(yt("FirestoreClient","Using default OfflineComponentProvider"),yield dg(i,new ug)),i.offlineComponents}),Su.apply(this,arguments)}function Hd(i){return rc.apply(this,arguments)}function rc(){return rc=(0,g.Z)(function*(i){return i.onlineComponents||(yt("FirestoreClient","Using default OnlineComponentProvider"),yield hg(i,new lg)),i.onlineComponents}),rc.apply(this,arguments)}function Aa(i){return Es.apply(this,arguments)}function Es(){return Es=(0,g.Z)(function*(i){const e=yield Hd(i),r=e.eventManager;return r.onListen=gv.bind(null,e.syncEngine),r.onUnlisten=Hl.bind(null,e.syncEngine),r}),Es.apply(this,arguments)}const oc=new Map;function Mu(i,e,r){if(!r)throw new ct(ze.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Nf(i){if(!$t.isDocumentKey(i))throw new ct(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pf(i){if($t.isDocumentKey(i))throw new ct(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Wl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":Bt()}function dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ct(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wl(i);throw new ct(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}class Ff{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new ct(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Zc(i,e,r,o){if(!0===e&&!0===o)throw new ct(ze.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ff({}),this._settingsFrozen=!1,e instanceof ws?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ct(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(u.options.projectId)}(e))}get app(){if(!this._app)throw new ct(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ff(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Zs;switch(r.type){case"gapi":const o=r.client;return en(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new uo(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new ct(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=oc.get(e);r&&(yt("ComponentProvider","Removing Datastore"),oc.delete(e),r.terminate())}(this),Promise.resolve()}}class Ni{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class Ms{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Zo extends Ms{constructor(e,r,o){super(e,r,ne(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new $t(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function km(i,e,...r){if(i=(0,he.m9)(i),Mu("collection","path",e),i instanceof Yc){const o=Mt.fromString(e,...r);return Pf(o),new Zo(i,null,o)}{if(!(i instanceof Ni||i instanceof Zo))throw new ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Mt.fromString(e,...r));return Pf(o),new Zo(i.firestore,null,o)}}function Lf(i,e,...r){if(i=(0,he.m9)(i),1===arguments.length&&(e=w.R()),Mu("doc","path",e),i instanceof Yc){const o=Mt.fromString(e,...r);return Nf(o),new Ni(i,null,new $t(o))}{if(!(i instanceof Ni||i instanceof Zo))throw new ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Mt.fromString(e,...r));return Nf(o),new Ni(i.firestore,i instanceof Zo?i.converter:null,new $t(o))}}class pg{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new kl(this,"async_queue_retry"),this.yu=()=>{const r=Du();r&&yt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ro.Yr()};const e=Du();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const r=Du();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const r=new Fr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,g.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(r){if(!Sc(r))throw r;yt("AsyncQueue","Operation failed with retryable error: "+r)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const r=this.hu.then(()=>(this.wu=!0,e().catch(o=>{throw this._u=o,this.wu=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(h){let y=h.message||"";return h.stack&&(y=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),y}(o)),o}).then(o=>(this.wu=!1,o))));return this.hu=r,r}enqueueAfterDelay(e,r,o){this.pu(),this.gu.indexOf(e)>-1&&(r=0);const u=df.createAndSchedule(this,e,r,o,h=>this.Tu(h));return this.du.push(u),u}pu(){this._u&&Bt()}verifyOperationInProgress(){}Au(){var e=this;return(0,g.Z)(function*(){let r;do{r=e.hu,yield r}while(r!==e.hu)})()}Ru(e){for(const r of this.du)if(r.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const r=this.du.indexOf(e);this.du.splice(r,1)}}function Vf(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class fi extends Yc{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new pg,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Kd(this),this._firestoreClient.terminate()}}function Vm(i=(0,k.Mq)()){return(0,k.qX)(i,"firestore").getImmediate()}function Ki(i){return i._firestoreClient||Kd(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Kd(i){var e;const r=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ku(i._databaseId,h,i._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var h,b;i._firestoreClient=new Nm(i._authCredentials,i._appCheckCredentials,i._queue,o)}class Qc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ct(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(Qn.fromBase64String(e))}catch(r){throw new ct(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Sa(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bf{constructor(e){this._methodName=e}}class Zd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ct(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ct(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return v(this._lat,e._lat)||v(this._long,e._long)}}const $m=/^__.*__$/;class Gm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ma(e,this.data,this.fieldMask,r,this.fieldTransforms):new ga(e,this.data,r,this.fieldTransforms)}}class mg{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ma(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function yg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class Yd{constructor(e,r,o,u,h,y){this.settings=e,this.databaseId=r,this.O=o,this.ignoreUndefinedProperties=u,void 0===h&&this.vu(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Su({path:o,Cu:!1});return u.Nu(e),u}xu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Su({path:o,Cu:!1});return u.vu(),u}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Zl(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(yg(this.Vu)&&$m.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class vg{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.O=o||Ca(e)}Fu(e,r,o,u=!1){return new Yd({Vu:e,methodName:r,$u:o,path:on.emptyPath(),Cu:!1,Mu:u},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Jc(i){const e=i._freezeSettings(),r=Ca(i._databaseId);return new vg(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Qd(i,e,r,o,u,h={}){const y=i.Fu(h.merge||h.mergeFields?2:0,e,r,u);Kl("Data must be an object, but it was:",y,o);const b=Eg(o,y);let L,z;if(h.merge)L=new Kn(y.fieldMask),z=y.fieldTransforms;else if(h.mergeFields){const se=[];for(const _e of h.mergeFields){const Ve=th(e,_e,r);if(!y.contains(Ve))throw new ct(ze.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);Gf(se,Ve)||se.push(Ve)}L=new Kn(se),z=y.fieldTransforms.filter(_e=>L.covers(_e.field))}else L=null,z=y.fieldTransforms;return new Gm(new Hr(b),L,z)}class Xc extends Bf{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function Ja(i,e){if(eh(i=(0,he.m9)(i)))return Kl("Unsupported field value:",e,i),Eg(i,e);if(i instanceof Bf)return function(r,o){if(!yg(o.Vu))throw o.Ou(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Ou(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const y of r){let b=Ja(y,o.ku(h));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),h++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if(null===(r=(0,he.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return mc(o.O,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const u=N.fromDate(r);return{timestampValue:Gu(o.O,u)}}if(r instanceof N){const u=new N(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gu(o.O,u)}}if(r instanceof Zd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sa)return{bytesValue:Ic(o.O,r._byteString)};if(r instanceof Ni){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Ou(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yl(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Ou(`Unsupported field value: ${Wl(r)}`)}(i,e)}function Eg(i,e){const r={};return We(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):le(i,(o,u)=>{const h=Ja(u,e.Du(o));null!=h&&(r[o]=h)}),{mapValue:{fields:r}}}function eh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof N||i instanceof Zd||i instanceof Sa||i instanceof Ni||i instanceof Bf)}function Kl(i,e,r){if(!eh(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Wl(r);throw e.Ou("an object"===o?i+" a custom object":i+" "+o)}var o}function th(i,e,r){if((e=(0,he.m9)(e))instanceof Qc)return e._internalPath;if("string"==typeof e)return nh(i,e);throw Zl("Field path arguments must be of type string or ",i,!1,void 0,r)}const bv=new RegExp("[~\\*/\\[\\]]");function nh(i,e,r){if(e.search(bv)>=0)throw Zl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Qc(...e.split("."))._internalPath}catch(o){throw Zl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Zl(i,e,r,o,u){const h=o&&!o.isEmpty(),y=void 0!==u;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let L="";return(h||y)&&(L+=" (found",h&&(L+=` in field ${o}`),y&&(L+=` in document ${u}`),L+=")"),new ct(ze.INVALID_ARGUMENT,b+i+L)}function Gf(i,e){return i.some(r=>r.isEqual(e))}class Hf{constructor(e,r,o,u,h){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(tl("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class wg extends Hf{data(){return super.data()}}function tl(i,e){return"string"==typeof e?nh(i,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ac extends Hf{constructor(e,r,o,u,h,y){super(e,r,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(tl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class nl extends ac{data(e={}){return super.data(e)}}class uc{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new xu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new nl(this._firestore,this._userDataWriter,o.key,o,new xu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ct(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new nl(o._firestore,o._userDataWriter,y.doc.key,y.doc,new xu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const b=new nl(o._firestore,o._userDataWriter,y.doc.key,y.doc,new xu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let L=-1,z=-1;return 0!==y.type&&(L=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),1!==y.type&&(h=h.add(y.doc),z=h.indexOf(y.doc.key)),{type:zm(y.type),doc:b,oldIndex:L,newIndex:z}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function zm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function Ig(i,...e){for(const r of e)i=r._apply(i);return i}class qm extends class Wf{}{constructor(e,r,o){super(),this.Uu=e,this.qu=r,this.Ku=o,this.type="where"}_apply(e){const r=Jc(e.firestore),o=function(u,h,y,b,L,z,se){let _e;if(L.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new ct(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Cg(se,z);const at=[];for(const mt of se)at.push(Dg(b,u,mt));_e={arrayValue:{values:at}}}else _e=Dg(b,u,se)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Cg(se,z),_e=function Xd(i,e,r,o=!1){return Ja(r,i.Fu(o?4:3,e))}(y,"where",se,"in"===z||"not-in"===z);const Ve=zr.create(L,z,_e);return function(at,mt){if(mt.S()){const Pn=kt(at);if(null!==Pn&&!Pn.isEqual(mt.field))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pn.toString()}' and '${mt.field.toString()}'`);const Yi=pt(at);null!==Yi&&function Zf(i,e,r){if(!r.isEqual(e))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}(0,mt.field,Yi)}const Jt=function(Pn,Yi){for(const xs of Pn.filters)if(Yi.indexOf(xs.op)>=0)return xs.op;return null}(at,function(Pn){switch(Pn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(mt.op));if(null!==Jt)throw new ct(ze.INVALID_ARGUMENT,Jt===mt.op?`Invalid query. You cannot use more than one '${mt.op.toString()}' filter.`:`Invalid query. You cannot use '${mt.op.toString()}' filters with '${Jt.toString()}' filters.`)}(u,Ve),Ve}(e._query,0,r,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Ms(e.firestore,e.converter,function(u,h){const y=u.filters.concat([h]);return new R(u.path,u.collectionGroup,u.explicitOrderBy.slice(),y,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function Km(i,e,r){const o=e,u=tl("where",i);return new qm(u,o,r)}function Dg(i,e,r){if("string"==typeof(r=(0,he.m9)(r))){if(""===r)throw new ct(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ct(e)&&-1!==r.indexOf("/"))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Mt.fromString(r));if(!$t.isDocumentKey(o))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ei(i,new $t(o))}if(r instanceof Ni)return ei(i,r._key);throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wl(r)}.`)}function Cg(i,e){if(!Array.isArray(i)||0===i.length)throw new ct(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new ct(ze.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function bg(i){i=dr(i,Ni);const e=dr(i.firestore,fi);return function qd(i,e,r={}){const o=new Fr;return i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(u,h,y,b,L){const z=new $c({next:_e=>{h.enqueueAndForget(()=>Bl(u,se));const Ve=_e.docs.has(y);!Ve&&_e.fromCache?L.reject(new ct(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):Ve&&_e.fromCache&&b&&"server"===b.source?L.reject(new ct(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(_e)},error:_e=>L.reject(_e)}),se=new Jp(ne(y.path),z,{includeMetadataChanges:!0,uc:!0});return ff(u,se)}(yield Aa(i),i.asyncQueue,e,r,o)})),o.promise}(Ki(e),i._key).then(r=>Qf(e,i,r))}class cc extends class iy{convertValue(e,r="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Bt()}}convertObject(e,r){const o={};return le(e.fields,(u,h)=>{o[u]=this.convertValue(h,r)}),o}convertGeoPoint(e){return new Zd(ir(e.latitude),ir(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Co(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const r=_i(e);return new N(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Mt.fromString(e);en(gp(o));const u=new ws(o.get(1),o.get(3)),h=new $t(o.popFirst(5));return u.isEqual(r)||Kr(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,r)}}function Tg(i,e,r){i=dr(i,Ni);const o=dr(i.firestore,fi),u=function Zi(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}(i.converter,e,r);return ro(o,[Qd(Jc(o),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,Mi.none())])}function cy(i,e,r,...o){i=dr(i,Ni);const u=dr(i.firestore,fi),h=Jc(u);let y;return y="string"==typeof(e=(0,he.m9)(e))||e instanceof Qc?function $f(i,e,r,o,u,h){const y=i.Fu(1,e,r),b=[th(e,o,r)],L=[u];if(h.length%2!=0)throw new ct(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<h.length;Ve+=2)b.push(th(e,h[Ve])),L.push(h[Ve+1]);const z=[],se=Hr.empty();for(let Ve=b.length-1;Ve>=0;--Ve)if(!Gf(z,b[Ve])){const at=b[Ve];let mt=L[Ve];mt=(0,he.m9)(mt);const Jt=y.xu(at);if(mt instanceof Xc)z.push(at);else{const Pn=Ja(mt,Jt);null!=Pn&&(z.push(at),se.set(at,Pn))}}const _e=new Kn(z);return new mg(se,_e,y.fieldTransforms)}(h,"updateDoc",i._key,e,r,o):function el(i,e,r,o){const u=i.Fu(1,e,r);Kl("Data must be an object, but it was:",u,o);const h=[],y=Hr.empty();le(o,(L,z)=>{const se=nh(e,L,r);z=(0,he.m9)(z);const _e=u.xu(se);if(z instanceof Xc)h.push(se);else{const Ve=Ja(z,_e);null!=Ve&&(h.push(se),y.set(se,Ve))}});const b=new Kn(h);return new mg(y,b,u.fieldTransforms)}(h,"updateDoc",i._key,e),ro(u,[y.toMutation(i._key,Mi.exists(!0))])}function Ag(i){return ro(dr(i.firestore,fi),[new pu(i._key,Mi.none())])}function Yf(i,...e){var r,o,u;i=(0,he.m9)(i);let h={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Vf(e[y])||(h=e[y],y++);const b={includeMetadataChanges:h.includeMetadataChanges};if(Vf(e[y])){const _e=e[y];e[y]=null===(r=_e.next)||void 0===r?void 0:r.bind(_e),e[y+1]=null===(o=_e.error)||void 0===o?void 0:o.bind(_e),e[y+2]=null===(u=_e.complete)||void 0===u?void 0:u.bind(_e)}let L,z,se;if(i instanceof Ni)z=dr(i.firestore,fi),se=ne(i._key.path),L={next:_e=>{e[y]&&e[y](Qf(z,i,_e))},error:e[y+1],complete:e[y+2]};else{const _e=dr(i,Ms);z=dr(_e.firestore,fi),se=_e._query;const Ve=new cc(z);L={next:at=>{e[y]&&e[y](new uc(z,Ve,_e,at))},error:e[y+1],complete:e[y+2]},function zf(i){if(Fe(i)&&0===i.explicitOrderBy.length)throw new ct(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(_e,Ve,at,mt){const Jt=new $c(mt),Pn=new Jp(Ve,Jt,at);return _e.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return ff(yield Aa(_e),Pn)})),()=>{Jt.Jc(),_e.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Bl(yield Aa(_e),Pn)}))}}(Ki(z),se,b,L)}function ro(i,e){return function(r,o){const u=new Fr;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function _f(i,e,r){return Pd.apply(this,arguments)}(yield function No(i){return Hd(i).then(e=>e.syncEngine)}(r),o,u)})),u.promise}(Ki(i),e)}function Qf(i,e,r){const o=r.docs.get(e._key),u=new cc(i);return new ac(i,u,e._key,o,new xu(r.hasPendingWrites,r.fromCache),e.converter)}!function(i,e=!0){Io=k.Jn,(0,k.Xd)(new ue.wA("firestore",(r,{options:o})=>{const u=r.getProvider("app").getImmediate(),h=new fi(u,new Wo(r.getProvider("auth-internal")),new co(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,k.KN)(Gi,"3.4.5",i),(0,k.KN)(Gi,"3.4.5","esm2017")}()},2940:function(Ft,Ue){!function(F){"use strict";function g(be){return Array.prototype.slice.call(be)}function k(be){return new Promise(function(ot,qe){be.onsuccess=function(){ot(be.result)},be.onerror=function(){qe(be.error)}})}function ue(be,ot,qe){var $e,Re=new Promise(function(Le,Ye){k($e=be[ot].apply(be,qe)).then(Le,Ye)});return Re.request=$e,Re}function me(be,ot,qe){var $e=ue(be,ot,qe);return $e.then(function(Re){if(Re)return new Z(Re,$e.request)})}function he(be,ot,qe){qe.forEach(function($e){Object.defineProperty(be.prototype,$e,{get:function(){return this[ot][$e]},set:function(Re){this[ot][$e]=Re}})})}function Pe(be,ot,qe,$e){$e.forEach(function(Re){Re in qe.prototype&&(be.prototype[Re]=function(){return ue(this[ot],Re,arguments)})})}function Ce(be,ot,qe,$e){$e.forEach(function(Re){Re in qe.prototype&&(be.prototype[Re]=function(){return this[ot][Re].apply(this[ot],arguments)})})}function ce(be,ot,qe,$e){$e.forEach(function(Re){Re in qe.prototype&&(be.prototype[Re]=function(){return me(this[ot],Re,arguments)})})}function Me(be){this._index=be}function Z(be,ot){this._cursor=be,this._request=ot}function X(be){this._store=be}function Ae(be){this._tx=be,this.complete=new Promise(function(ot,qe){be.oncomplete=function(){ot()},be.onerror=function(){qe(be.error)},be.onabort=function(){qe(be.error)}})}function xe(be,ot,qe){this._db=be,this.oldVersion=ot,this.transaction=new Ae(qe)}function ke(be){this._db=be}he(Me,"_index",["name","keyPath","multiEntry","unique"]),Pe(Me,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ce(Me,"_index",IDBIndex,["openCursor","openKeyCursor"]),he(Z,"_cursor",["direction","key","primaryKey","value"]),Pe(Z,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(be){be in IDBCursor.prototype&&(Z.prototype[be]=function(){var ot=this,qe=arguments;return Promise.resolve().then(function(){return ot._cursor[be].apply(ot._cursor,qe),k(ot._request).then(function($e){if($e)return new Z($e,ot._request)})})})}),X.prototype.createIndex=function(){return new Me(this._store.createIndex.apply(this._store,arguments))},X.prototype.index=function(){return new Me(this._store.index.apply(this._store,arguments))},he(X,"_store",["name","keyPath","indexNames","autoIncrement"]),Pe(X,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ce(X,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ce(X,"_store",IDBObjectStore,["deleteIndex"]),Ae.prototype.objectStore=function(){return new X(this._tx.objectStore.apply(this._tx,arguments))},he(Ae,"_tx",["objectStoreNames","mode"]),Ce(Ae,"_tx",IDBTransaction,["abort"]),xe.prototype.createObjectStore=function(){return new X(this._db.createObjectStore.apply(this._db,arguments))},he(xe,"_db",["name","version","objectStoreNames"]),Ce(xe,"_db",IDBDatabase,["deleteObjectStore","close"]),ke.prototype.transaction=function(){return new Ae(this._db.transaction.apply(this._db,arguments))},he(ke,"_db",["name","version","objectStoreNames"]),Ce(ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(be){[X,Me].forEach(function(ot){be in ot.prototype&&(ot.prototype[be.replace("open","iterate")]=function(){var qe=g(arguments),$e=qe[qe.length-1],Re=this._store||this._index,Le=Re[be].apply(Re,qe.slice(0,-1));Le.onsuccess=function(){$e(Le.result)}})})}),[Me,X].forEach(function(be){be.prototype.getAll||(be.prototype.getAll=function(ot,qe){var $e=this,Re=[];return new Promise(function(Le){$e.iterateCursor(ot,function(Ye){Ye?(Re.push(Ye.value),void 0===qe||Re.length!=qe?Ye.continue():Le(Re)):Le(Re)})})})}),F.openDb=function rt(be,ot,qe){var $e=ue(indexedDB,"open",[be,ot]),Re=$e.request;return Re&&(Re.onupgradeneeded=function(Le){qe&&qe(new xe(Re.result,Le.oldVersion,Re.transaction))}),$e.then(function(Le){return new ke(Le)})},F.deleteDb=function Je(be){return ue(indexedDB,"deleteDatabase",[be])},Object.defineProperty(F,"__esModule",{value:!0})}(Ue)},1135:(Ft,Ue,F)=>{"use strict";F.d(Ue,{X:()=>k});var g=F(7579);class k extends g.x{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const he=super._subscribe(me);return!he.closed&&me.next(this._value),he}getValue(){const{hasError:me,thrownError:he,_value:Pe}=this;if(me)throw he;return this._throwIfClosed(),Pe}next(me){super.next(this._value=me)}}},8306:(Ft,Ue,F)=>{"use strict";F.d(Ue,{y:()=>Z});var g=F(930),k=F(727),ue=F(8822),me=F(4671);var Ce=F(2416),ce=F(576),Me=F(2806);let Z=(()=>{class ke{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const be=new ke;return be.source=this,be.operator=Je,be}subscribe(Je,be,ot){const qe=function xe(ke){return ke&&ke instanceof g.Lv||function Ae(ke){return ke&&(0,ce.m)(ke.next)&&(0,ce.m)(ke.error)&&(0,ce.m)(ke.complete)}(ke)&&(0,k.Nn)(ke)}(Je)?Je:new g.Hp(Je,be,ot);return(0,Me.x)(()=>{const{operator:$e,source:Re}=this;qe.add($e?$e.call(qe,Re):Re?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Je){try{return this._subscribe(Je)}catch(be){Je.error(be)}}forEach(Je,be){return new(be=X(be))((ot,qe)=>{let $e;$e=this.subscribe(Re=>{try{Je(Re)}catch(Le){qe(Le),null==$e||$e.unsubscribe()}},qe,ot)})}_subscribe(Je){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Je)}[ue.L](){return this}pipe(...Je){return function Pe(ke){return 0===ke.length?me.y:1===ke.length?ke[0]:function(Je){return ke.reduce((be,ot)=>ot(be),Je)}}(Je)(this)}toPromise(Je){return new(Je=X(Je))((be,ot)=>{let qe;this.subscribe($e=>qe=$e,$e=>ot($e),()=>be(qe))})}}return ke.create=rt=>new ke(rt),ke})();function X(ke){var rt;return null!==(rt=null!=ke?ke:Ce.v.Promise)&&void 0!==rt?rt:Promise}},7579:(Ft,Ue,F)=>{"use strict";F.d(Ue,{x:()=>Ce});var g=F(8306),k=F(727);const me=(0,F(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=F(8737),Pe=F(2806);let Ce=(()=>{class Me extends g.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const Ae=new ce(this,this);return Ae.operator=X,Ae}_throwIfClosed(){if(this.closed)throw new me}next(X){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Ae=this.observers.slice();for(const xe of Ae)xe.next(X)}})}error(X){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(X)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:Ae,isStopped:xe,observers:ke}=this;return Ae||xe?k.Lc:(ke.push(X),new k.w0(()=>(0,he.P)(ke,X)))}_checkFinalizedStatuses(X){const{hasError:Ae,thrownError:xe,isStopped:ke}=this;Ae?X.error(xe):ke&&X.complete()}asObservable(){const X=new g.y;return X.source=this,X}}return Me.create=(Z,X)=>new ce(Z,X),Me})();class ce extends Ce{constructor(Z,X){super(),this.destination=Z,this.source=X}next(Z){var X,Ae;null===(Ae=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===Ae||Ae.call(X,Z)}error(Z){var X,Ae;null===(Ae=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===Ae||Ae.call(X,Z)}complete(){var Z,X;null===(X=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===X||X.call(Z)}_subscribe(Z){var X,Ae;return null!==(Ae=null===(X=this.source)||void 0===X?void 0:X.subscribe(Z))&&void 0!==Ae?Ae:k.Lc}}},930:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Hp:()=>xe,Lv:()=>Ae});var g=F(576),k=F(727),ue=F(2416),me=F(7849),he=F(5032);const Pe=Me("C",void 0,void 0);function Me(ot,qe,$e){return{kind:ot,value:qe,error:$e}}var Z=F(3410),X=F(2806);class Ae extends k.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,k.Nn)(qe)&&qe.add(this)):this.destination=be}static create(qe,$e,Re){return new xe(qe,$e,Re)}next(qe){this.isStopped?Je(function ce(ot){return Me("N",ot,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?Je(function Ce(ot){return Me("E",void 0,ot)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?Je(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class xe extends Ae{constructor(qe,$e,Re){let Le;if(super(),(0,g.m)(qe))Le=qe;else if(qe){let Ye;({next:Le,error:$e,complete:Re}=qe),this&&ue.v.useDeprecatedNextContext?(Ye=Object.create(qe),Ye.unsubscribe=()=>this.unsubscribe()):Ye=qe,Le=null==Le?void 0:Le.bind(Ye),$e=null==$e?void 0:$e.bind(Ye),Re=null==Re?void 0:Re.bind(Ye)}this.destination={next:Le?ke(Le):he.Z,error:ke(null!=$e?$e:rt),complete:Re?ke(Re):he.Z}}}function ke(ot,qe){return(...$e)=>{try{ot(...$e)}catch(Re){ue.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(Re):(0,me.h)(Re)}}}function rt(ot){throw ot}function Je(ot,qe){const{onStoppedNotification:$e}=ue.v;$e&&Z.z.setTimeout(()=>$e(ot,qe))}const be={closed:!0,next:he.Z,error:rt,complete:he.Z}},727:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Lc:()=>Pe,w0:()=>he,Nn:()=>Ce});var g=F(576);const ue=(0,F(3888).d)(Me=>function(X){Me(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((Ae,xe)=>`${xe+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var me=F(8737);class he{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const ke of X)ke.remove(this);else X.remove(this);const{initialTeardown:Ae}=this;if((0,g.m)(Ae))try{Ae()}catch(ke){Z=ke instanceof ue?ke.errors:[ke]}const{_teardowns:xe}=this;if(xe){this._teardowns=null;for(const ke of xe)try{ce(ke)}catch(rt){Z=null!=Z?Z:[],rt instanceof ue?Z=[...Z,...rt.errors]:Z.push(rt)}}if(Z)throw new ue(Z)}}add(Z){var X;if(Z&&Z!==this)if(this.closed)ce(Z);else{if(Z instanceof he){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._teardowns=null!==(X=this._teardowns)&&void 0!==X?X:[]).push(Z)}}_hasParent(Z){const{_parentage:X}=this;return X===Z||Array.isArray(X)&&X.includes(Z)}_addParent(Z){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(Z),X):X?[X,Z]:Z}_removeParent(Z){const{_parentage:X}=this;X===Z?this._parentage=null:Array.isArray(X)&&(0,me.P)(X,Z)}remove(Z){const{_teardowns:X}=this;X&&(0,me.P)(X,Z),Z instanceof he&&Z._removeParent(this)}}he.EMPTY=(()=>{const Me=new he;return Me.closed=!0,Me})();const Pe=he.EMPTY;function Ce(Me){return Me instanceof he||Me&&"closed"in Me&&(0,g.m)(Me.remove)&&(0,g.m)(Me.add)&&(0,g.m)(Me.unsubscribe)}function ce(Me){(0,g.m)(Me)?Me():Me.unsubscribe()}},2416:(Ft,Ue,F)=>{"use strict";F.d(Ue,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Ft,Ue,F)=>{"use strict";F.d(Ue,{c:()=>Pe});var g=F(8306),k=F(727),ue=F(8343),me=F(5403),he=F(4482);class Pe extends g.y{constructor(ce,Me){super(),this.source=ce,this.subjectFactory=Me,this._subject=null,this._refCount=0,this._connection=null,(0,he.A)(ce)&&(this.lift=ce.lift)}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ce}=this;this._subject=this._connection=null,null==ce||ce.unsubscribe()}connect(){let ce=this._connection;if(!ce){ce=this._connection=new k.w0;const Me=this.getSubject();ce.add(this.source.subscribe(new me.Q(Me,void 0,()=>{this._teardown(),Me.complete()},Z=>{this._teardown(),Me.error(Z)},()=>this._teardown()))),ce.closed&&(this._connection=null,ce=k.w0.EMPTY)}return ce}refCount(){return(0,ue.x)()(this)}}},7272:(Ft,Ue,F)=>{"use strict";F.d(Ue,{z:()=>he});var g=F(8189),ue=F(3269),me=F(8996);function he(...Pe){return function k(){return(0,g.J)(1)}()((0,me.D)(Pe,(0,ue.yG)(Pe)))}},9770:(Ft,Ue,F)=>{"use strict";F.d(Ue,{P:()=>ue});var g=F(8306),k=F(8421);function ue(me){return new g.y(he=>{(0,k.Xf)(me()).subscribe(he)})}},515:(Ft,Ue,F)=>{"use strict";F.d(Ue,{E:()=>k});const k=new(F(8306).y)(he=>he.complete())},8996:(Ft,Ue,F)=>{"use strict";F.d(Ue,{D:()=>Le});var g=F(8421),k=F(5363),ue=F(9468),Pe=F(8306),ce=F(2202),Me=F(576),Z=F(9672);function Ae(Ye,Tt){if(!Ye)throw new Error("Iterable cannot be null");return new Pe.y(Be=>{(0,Z.f)(Be,Tt,()=>{const Yt=Ye[Symbol.asyncIterator]();(0,Z.f)(Be,Tt,()=>{Yt.next().then(ee=>{ee.done?Be.complete():Be.next(ee.value)})},0,!0)})})}var xe=F(3670),ke=F(8239),rt=F(1144),Je=F(6495),be=F(2206),ot=F(4532),qe=F(3260);function Le(Ye,Tt){return Tt?function Re(Ye,Tt){if(null!=Ye){if((0,xe.c)(Ye))return function me(Ye,Tt){return(0,g.Xf)(Ye).pipe((0,ue.R)(Tt),(0,k.Q)(Tt))}(Ye,Tt);if((0,rt.z)(Ye))return function Ce(Ye,Tt){return new Pe.y(Be=>{let Yt=0;return Tt.schedule(function(){Yt===Ye.length?Be.complete():(Be.next(Ye[Yt++]),Be.closed||this.schedule())})})}(Ye,Tt);if((0,ke.t)(Ye))return function he(Ye,Tt){return(0,g.Xf)(Ye).pipe((0,ue.R)(Tt),(0,k.Q)(Tt))}(Ye,Tt);if((0,be.D)(Ye))return Ae(Ye,Tt);if((0,Je.T)(Ye))return function X(Ye,Tt){return new Pe.y(Be=>{let Yt;return(0,Z.f)(Be,Tt,()=>{Yt=Ye[ce.h](),(0,Z.f)(Be,Tt,()=>{let ee,re;try{({value:ee,done:re}=Yt.next())}catch(ie){return void Be.error(ie)}re?Be.complete():Be.next(ee)},0,!0)}),()=>(0,Me.m)(null==Yt?void 0:Yt.return)&&Yt.return()})}(Ye,Tt);if((0,qe.L)(Ye))return function $e(Ye,Tt){return Ae((0,qe.Q)(Ye),Tt)}(Ye,Tt)}throw(0,ot.z)(Ye)}(Ye,Tt):(0,g.Xf)(Ye)}},8421:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Xf:()=>xe});var g=F(5987),k=F(1144),ue=F(8239),me=F(8306),he=F(3670),Pe=F(2206),Ce=F(4532),ce=F(6495),Me=F(3260),Z=F(576),X=F(7849),Ae=F(8822);function xe(Re){if(Re instanceof me.y)return Re;if(null!=Re){if((0,he.c)(Re))return function ke(Re){return new me.y(Le=>{const Ye=Re[Ae.L]();if((0,Z.m)(Ye.subscribe))return Ye.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,k.z)(Re))return function rt(Re){return new me.y(Le=>{for(let Ye=0;Ye<Re.length&&!Le.closed;Ye++)Le.next(Re[Ye]);Le.complete()})}(Re);if((0,ue.t)(Re))return function Je(Re){return new me.y(Le=>{Re.then(Ye=>{Le.closed||(Le.next(Ye),Le.complete())},Ye=>Le.error(Ye)).then(null,X.h)})}(Re);if((0,Pe.D)(Re))return ot(Re);if((0,ce.T)(Re))return function be(Re){return new me.y(Le=>{for(const Ye of Re)if(Le.next(Ye),Le.closed)return;Le.complete()})}(Re);if((0,Me.L)(Re))return function qe(Re){return ot((0,Me.Q)(Re))}(Re)}throw(0,Ce.z)(Re)}function ot(Re){return new me.y(Le=>{(function $e(Re,Le){var Ye,Tt,Be,Yt;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,g.KL)(Re);!(Tt=yield Ye.next()).done;)if(Le.next(Tt.value),Le.closed)return}catch(ee){Be={error:ee}}finally{try{Tt&&!Tt.done&&(Yt=Ye.return)&&(yield Yt.call(Ye))}finally{if(Be)throw Be.error}}Le.complete()})})(Re,Le).catch(Ye=>Le.error(Ye))})}},6451:(Ft,Ue,F)=>{"use strict";F.d(Ue,{T:()=>Pe});var g=F(8189),k=F(8421),ue=F(515),me=F(3269),he=F(8996);function Pe(...Ce){const ce=(0,me.yG)(Ce),Me=(0,me._6)(Ce,1/0),Z=Ce;return Z.length?1===Z.length?(0,k.Xf)(Z[0]):(0,g.J)(Me)((0,he.D)(Z,ce)):ue.E}},9646:(Ft,Ue,F)=>{"use strict";F.d(Ue,{of:()=>ue});var g=F(3269),k=F(8996);function ue(...me){const he=(0,g.yG)(me);return(0,k.D)(me,he)}},5403:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Q:()=>k});var g=F(930);class k extends g.Lv{constructor(me,he,Pe,Ce,ce){super(me),this.onFinalize=ce,this._next=he?function(Me){try{he(Me)}catch(Z){me.error(Z)}}:super._next,this._error=Ce?function(Me){try{Ce(Me)}catch(Z){me.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(Me){me.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;const{closed:he}=this;super.unsubscribe(),!he&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}},9300:(Ft,Ue,F)=>{"use strict";F.d(Ue,{h:()=>ue});var g=F(4482),k=F(5403);function ue(me,he){return(0,g.e)((Pe,Ce)=>{let ce=0;Pe.subscribe(new k.Q(Ce,Me=>me.call(he,Me,ce++)&&Ce.next(Me)))})}},4004:(Ft,Ue,F)=>{"use strict";F.d(Ue,{U:()=>ue});var g=F(4482),k=F(5403);function ue(me,he){return(0,g.e)((Pe,Ce)=>{let ce=0;Pe.subscribe(new k.Q(Ce,Me=>{Ce.next(me.call(he,Me,ce++))}))})}},8189:(Ft,Ue,F)=>{"use strict";F.d(Ue,{J:()=>ue});var g=F(5577),k=F(4671);function ue(me=1/0){return(0,g.z)(k.y,me)}},5577:(Ft,Ue,F)=>{"use strict";F.d(Ue,{z:()=>ce});var g=F(4004),k=F(8421),ue=F(4482),me=F(9672),he=F(5403),Ce=F(576);function ce(Me,Z,X=1/0){return(0,Ce.m)(Z)?ce((Ae,xe)=>(0,g.U)((ke,rt)=>Z(Ae,ke,xe,rt))((0,k.Xf)(Me(Ae,xe))),X):("number"==typeof Z&&(X=Z),(0,ue.e)((Ae,xe)=>function Pe(Me,Z,X,Ae,xe,ke,rt,Je){const be=[];let ot=0,qe=0,$e=!1;const Re=()=>{$e&&!be.length&&!ot&&Z.complete()},Le=Tt=>ot<Ae?Ye(Tt):be.push(Tt),Ye=Tt=>{ke&&Z.next(Tt),ot++;let Be=!1;(0,k.Xf)(X(Tt,qe++)).subscribe(new he.Q(Z,Yt=>{null==xe||xe(Yt),ke?Le(Yt):Z.next(Yt)},()=>{Be=!0},void 0,()=>{if(Be)try{for(ot--;be.length&&ot<Ae;){const Yt=be.shift();rt?(0,me.f)(Z,rt,()=>Ye(Yt)):Ye(Yt)}Re()}catch(Yt){Z.error(Yt)}}))};return Me.subscribe(new he.Q(Z,Le,()=>{$e=!0,Re()})),()=>{null==Je||Je()}}(Ae,xe,Me,X)))}},5363:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Q:()=>me});var g=F(9672),k=F(4482),ue=F(5403);function me(he,Pe=0){return(0,k.e)((Ce,ce)=>{Ce.subscribe(new ue.Q(ce,Me=>(0,g.f)(ce,he,()=>ce.next(Me),Pe),()=>(0,g.f)(ce,he,()=>ce.complete(),Pe),Me=>(0,g.f)(ce,he,()=>ce.error(Me),Pe)))})}},8343:(Ft,Ue,F)=>{"use strict";F.d(Ue,{x:()=>ue});var g=F(4482),k=F(5403);function ue(){return(0,g.e)((me,he)=>{let Pe=null;me._refCount++;const Ce=new k.Q(he,void 0,void 0,void 0,()=>{if(!me||me._refCount<=0||0<--me._refCount)return void(Pe=null);const ce=me._connection,Me=Pe;Pe=null,ce&&(!Me||ce===Me)&&ce.unsubscribe(),he.unsubscribe()});me.subscribe(Ce),Ce.closed||(Pe=me.connect())})}},9468:(Ft,Ue,F)=>{"use strict";F.d(Ue,{R:()=>k});var g=F(4482);function k(ue,me=0){return(0,g.e)((he,Pe)=>{Pe.add(ue.schedule(()=>he.subscribe(Pe),me))})}},3900:(Ft,Ue,F)=>{"use strict";F.d(Ue,{w:()=>me});var g=F(8421),k=F(4482),ue=F(5403);function me(he,Pe){return(0,k.e)((Ce,ce)=>{let Me=null,Z=0,X=!1;const Ae=()=>X&&!Me&&ce.complete();Ce.subscribe(new ue.Q(ce,xe=>{null==Me||Me.unsubscribe();let ke=0;const rt=Z++;(0,g.Xf)(he(xe,rt)).subscribe(Me=new ue.Q(ce,Je=>ce.next(Pe?Pe(xe,Je,rt,ke++):Je),()=>{Me=null,Ae()}))},()=>{X=!0,Ae()}))})}},5698:(Ft,Ue,F)=>{"use strict";F.d(Ue,{q:()=>me});var g=F(515),k=F(4482),ue=F(5403);function me(he){return he<=0?()=>g.E:(0,k.e)((Pe,Ce)=>{let ce=0;Pe.subscribe(new ue.Q(Ce,Me=>{++ce<=he&&(Ce.next(Me),he<=ce&&Ce.complete())}))})}},8505:(Ft,Ue,F)=>{"use strict";F.d(Ue,{b:()=>he});var g=F(576),k=F(4482),ue=F(5403),me=F(4671);function he(Pe,Ce,ce){const Me=(0,g.m)(Pe)||Ce||ce?{next:Pe,error:Ce,complete:ce}:Pe;return Me?(0,k.e)((Z,X)=>{var Ae;null===(Ae=Me.subscribe)||void 0===Ae||Ae.call(Me);let xe=!0;Z.subscribe(new ue.Q(X,ke=>{var rt;null===(rt=Me.next)||void 0===rt||rt.call(Me,ke),X.next(ke)},()=>{var ke;xe=!1,null===(ke=Me.complete)||void 0===ke||ke.call(Me),X.complete()},ke=>{var rt;xe=!1,null===(rt=Me.error)||void 0===rt||rt.call(Me,ke),X.error(ke)},()=>{var ke,rt;xe&&(null===(ke=Me.unsubscribe)||void 0===ke||ke.call(Me)),null===(rt=Me.finalize)||void 0===rt||rt.call(Me)}))}):me.y}},4408:(Ft,Ue,F)=>{"use strict";F.d(Ue,{o:()=>he});var g=F(727);class k extends g.w0{constructor(Ce,ce){super()}schedule(Ce,ce=0){return this}}const ue={setInterval(...Pe){const{delegate:Ce}=ue;return((null==Ce?void 0:Ce.setInterval)||setInterval)(...Pe)},clearInterval(Pe){const{delegate:Ce}=ue;return((null==Ce?void 0:Ce.clearInterval)||clearInterval)(Pe)},delegate:void 0};var me=F(8737);class he extends k{constructor(Ce,ce){super(Ce,ce),this.scheduler=Ce,this.work=ce,this.pending=!1}schedule(Ce,ce=0){if(this.closed)return this;this.state=Ce;const Me=this.id,Z=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(Z,Me,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(Z,this.id,ce),this}requestAsyncId(Ce,ce,Me=0){return ue.setInterval(Ce.flush.bind(Ce,this),Me)}recycleAsyncId(Ce,ce,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return ce;ue.clearInterval(ce)}execute(Ce,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Ce,ce);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,ce){let Z,Me=!1;try{this.work(Ce)}catch(X){Me=!0,Z=X||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:ce}=this,{actions:Me}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Me,this),null!=Ce&&(this.id=this.recycleAsyncId(ce,Ce,null)),this.delay=null,super.unsubscribe()}}}},640:(Ft,Ue,F)=>{"use strict";F.d(Ue,{v:()=>ue});const g={now:()=>(g.delegate||Date).now(),delegate:void 0};class k{constructor(he,Pe=k.now){this.schedulerActionCtor=he,this.now=Pe}schedule(he,Pe=0,Ce){return new this.schedulerActionCtor(this,he).schedule(Ce,Pe)}}k.now=g.now;class ue extends k{constructor(he,Pe=k.now){super(he,Pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(he){const{actions:Pe}=this;if(this._active)return void Pe.push(he);let Ce;this._active=!0;do{if(Ce=he.execute(he.state,he.delay))break}while(he=Pe.shift());if(this._active=!1,Ce){for(;he=Pe.shift();)he.unsubscribe();throw Ce}}}},4986:(Ft,Ue,F)=>{"use strict";F.d(Ue,{P:()=>me,z:()=>ue});var g=F(4408);const ue=new(F(640).v)(g.o),me=ue},3410:(Ft,Ue,F)=>{"use strict";F.d(Ue,{z:()=>g});const g={setTimeout(...k){const{delegate:ue}=g;return((null==ue?void 0:ue.setTimeout)||setTimeout)(...k)},clearTimeout(k){const{delegate:ue}=g;return((null==ue?void 0:ue.clearTimeout)||clearTimeout)(k)},delegate:void 0}},2202:(Ft,Ue,F)=>{"use strict";F.d(Ue,{h:()=>k});const k=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ft,Ue,F)=>{"use strict";F.d(Ue,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ft,Ue,F)=>{"use strict";F.d(Ue,{_6:()=>Pe,jO:()=>me,yG:()=>he});var g=F(576),k=F(3532);function ue(Ce){return Ce[Ce.length-1]}function me(Ce){return(0,g.m)(ue(Ce))?Ce.pop():void 0}function he(Ce){return(0,k.K)(ue(Ce))?Ce.pop():void 0}function Pe(Ce,ce){return"number"==typeof ue(Ce)?Ce.pop():ce}},4742:(Ft,Ue,F)=>{"use strict";F.d(Ue,{D:()=>he});const{isArray:g}=Array,{getPrototypeOf:k,prototype:ue,keys:me}=Object;function he(Ce){if(1===Ce.length){const ce=Ce[0];if(g(ce))return{args:ce,keys:null};if(function Pe(Ce){return Ce&&"object"==typeof Ce&&k(Ce)===ue}(ce)){const Me=me(ce);return{args:Me.map(Z=>ce[Z]),keys:Me}}}return{args:Ce,keys:null}}},8737:(Ft,Ue,F)=>{"use strict";function g(k,ue){if(k){const me=k.indexOf(ue);0<=me&&k.splice(me,1)}}F.d(Ue,{P:()=>g})},3888:(Ft,Ue,F)=>{"use strict";function g(k){const me=k(he=>{Error.call(he),he.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}F.d(Ue,{d:()=>g})},1810:(Ft,Ue,F)=>{"use strict";function g(k,ue){return k.reduce((me,he,Pe)=>(me[he]=ue[Pe],me),{})}F.d(Ue,{n:()=>g})},2806:(Ft,Ue,F)=>{"use strict";F.d(Ue,{O:()=>me,x:()=>ue});var g=F(2416);let k=null;function ue(he){if(g.v.useDeprecatedSynchronousErrorHandling){const Pe=!k;if(Pe&&(k={errorThrown:!1,error:null}),he(),Pe){const{errorThrown:Ce,error:ce}=k;if(k=null,Ce)throw ce}}else he()}function me(he){g.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=he)}},9672:(Ft,Ue,F)=>{"use strict";function g(k,ue,me,he=0,Pe=!1){const Ce=ue.schedule(function(){me(),Pe?k.add(this.schedule(null,he)):this.unsubscribe()},he);if(k.add(Ce),!Pe)return Ce}F.d(Ue,{f:()=>g})},4671:(Ft,Ue,F)=>{"use strict";function g(k){return k}F.d(Ue,{y:()=>g})},1144:(Ft,Ue,F)=>{"use strict";F.d(Ue,{z:()=>g});const g=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(Ft,Ue,F)=>{"use strict";F.d(Ue,{D:()=>k});var g=F(576);function k(ue){return Symbol.asyncIterator&&(0,g.m)(null==ue?void 0:ue[Symbol.asyncIterator])}},576:(Ft,Ue,F)=>{"use strict";function g(k){return"function"==typeof k}F.d(Ue,{m:()=>g})},3670:(Ft,Ue,F)=>{"use strict";F.d(Ue,{c:()=>ue});var g=F(8822),k=F(576);function ue(me){return(0,k.m)(me[g.L])}},6495:(Ft,Ue,F)=>{"use strict";F.d(Ue,{T:()=>ue});var g=F(2202),k=F(576);function ue(me){return(0,k.m)(null==me?void 0:me[g.h])}},8239:(Ft,Ue,F)=>{"use strict";F.d(Ue,{t:()=>k});var g=F(576);function k(ue){return(0,g.m)(null==ue?void 0:ue.then)}},3260:(Ft,Ue,F)=>{"use strict";F.d(Ue,{L:()=>me,Q:()=>ue});var g=F(5987),k=F(576);function ue(he){return(0,g.FC)(this,arguments,function*(){const Ce=he.getReader();try{for(;;){const{value:ce,done:Me}=yield(0,g.qq)(Ce.read());if(Me)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ce)}}finally{Ce.releaseLock()}})}function me(he){return(0,k.m)(null==he?void 0:he.getReader)}},3532:(Ft,Ue,F)=>{"use strict";F.d(Ue,{K:()=>k});var g=F(576);function k(ue){return ue&&(0,g.m)(ue.schedule)}},4482:(Ft,Ue,F)=>{"use strict";F.d(Ue,{A:()=>k,e:()=>ue});var g=F(576);function k(me){return(0,g.m)(null==me?void 0:me.lift)}function ue(me){return he=>{if(k(he))return he.lift(function(Pe){try{return me(Pe,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Z:()=>me});var g=F(4004);const{isArray:k}=Array;function me(he){return(0,g.U)(Pe=>function ue(he,Pe){return k(Pe)?he(...Pe):he(Pe)}(he,Pe))}},5032:(Ft,Ue,F)=>{"use strict";function g(){}F.d(Ue,{Z:()=>g})},7849:(Ft,Ue,F)=>{"use strict";F.d(Ue,{h:()=>ue});var g=F(2416),k=F(3410);function ue(me){k.z.setTimeout(()=>{const{onUnhandledError:he}=g.v;if(!he)throw me;he(me)})}},4532:(Ft,Ue,F)=>{"use strict";function g(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ue,{z:()=>g})},5987:(Ft,Ue,F)=>{"use strict";function ce(ee,re,ie,ye){return new(ie||(ie=Promise))(function(te,gt){function Dt(Zt){try{dt(ye.next(Zt))}catch(Dn){gt(Dn)}}function An(Zt){try{dt(ye.throw(Zt))}catch(Dn){gt(Dn)}}function dt(Zt){Zt.done?te(Zt.value):function Oe(te){return te instanceof ie?te:new ie(function(gt){gt(te)})}(Zt.value).then(Dt,An)}dt((ye=ye.apply(ee,re||[])).next())})}function be(ee){return this instanceof be?(this.v=ee,this):new be(ee)}function ot(ee,re,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ye=ie.apply(ee,re||[]),te=[];return Oe={},gt("next"),gt("throw"),gt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function gt(qt){ye[qt]&&(Oe[qt]=function(Cn){return new Promise(function(jt,Lt){te.push([qt,Cn,jt,Lt])>1||Dt(qt,Cn)})})}function Dt(qt,Cn){try{!function An(qt){qt.value instanceof be?Promise.resolve(qt.value.v).then(dt,Zt):Dn(te[0][2],qt)}(ye[qt](Cn))}catch(jt){Dn(te[0][3],jt)}}function dt(qt){Dt("next",qt)}function Zt(qt){Dt("throw",qt)}function Dn(qt,Cn){qt(Cn),te.shift(),te.length&&Dt(te[0][0],te[0][1])}}function $e(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,re=ee[Symbol.asyncIterator];return re?re.call(ee):(ee=function Ae(ee){var re="function"==typeof Symbol&&Symbol.iterator,ie=re&&ee[re],ye=0;if(ie)return ie.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ye>=ee.length&&(ee=void 0),{value:ee&&ee[ye++],done:!ee}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ie={},ye("next"),ye("throw"),ye("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ye(te){ie[te]=ee[te]&&function(gt){return new Promise(function(Dt,An){!function Oe(te,gt,Dt,An){Promise.resolve(An).then(function(dt){te({value:dt,done:Dt})},gt)}(Dt,An,(gt=ee[te](gt)).done,gt.value)})}}}F.d(Ue,{FC:()=>ot,KL:()=>$e,mG:()=>ce,qq:()=>be})},655:(Ft,Ue,F)=>{"use strict";function me(ee,re){var ie={};for(var ye in ee)Object.prototype.hasOwnProperty.call(ee,ye)&&re.indexOf(ye)<0&&(ie[ye]=ee[ye]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(ye=Object.getOwnPropertySymbols(ee);Oe<ye.length;Oe++)re.indexOf(ye[Oe])<0&&Object.prototype.propertyIsEnumerable.call(ee,ye[Oe])&&(ie[ye[Oe]]=ee[ye[Oe]])}return ie}function ce(ee,re,ie,ye){return new(ie||(ie=Promise))(function(te,gt){function Dt(Zt){try{dt(ye.next(Zt))}catch(Dn){gt(Dn)}}function An(Zt){try{dt(ye.throw(Zt))}catch(Dn){gt(Dn)}}function dt(Zt){Zt.done?te(Zt.value):function Oe(te){return te instanceof ie?te:new ie(function(gt){gt(te)})}(Zt.value).then(Dt,An)}dt((ye=ye.apply(ee,re||[])).next())})}F.d(Ue,{_T:()=>me,mG:()=>ce})},9808:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Do:()=>Re,EM:()=>Er,HT:()=>he,JF:()=>ui,K0:()=>Ce,Mx:()=>Or,NF:()=>Se,O5:()=>Ee,S$:()=>be,V_:()=>Z,Ye:()=>Le,b0:()=>$e,bD:()=>Q,ez:()=>yi,lw:()=>ce,mk:()=>Un,mr:()=>qe,q:()=>ue,sg:()=>Ht,w_:()=>Pe});var g=F(4893);let k=null;function ue(){return k}function he(x){k||(k=x)}class Pe{}const Ce=new g.OlP("DocumentToken");let ce=(()=>{class x{historyGo(O){throw new Error("Not implemented")}}return x.\u0275fac=function(O){return new(O||x)},x.\u0275prov=g.Yz7({token:x,factory:function(){return function Me(){return(0,g.LFG)(X)}()},providedIn:"platform"}),x})();const Z=new g.OlP("Location Initialized");let X=(()=>{class x extends ce{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ue().getBaseHref(this._doc)}onPopState(O){const W=ue().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",O,!1),()=>W.removeEventListener("popstate",O)}onHashChange(O){const W=ue().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",O,!1),()=>W.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,W,ae){Ae()?this._history.pushState(O,W,ae):this.location.hash=ae}replaceState(O,W,ae){Ae()?this._history.replaceState(O,W,ae):this.location.hash=ae}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return x.\u0275fac=function(O){return new(O||x)(g.LFG(Ce))},x.\u0275prov=g.Yz7({token:x,factory:function(){return function xe(){return new X((0,g.LFG)(Ce))}()},providedIn:"platform"}),x})();function Ae(){return!!window.history.pushState}function ke(x,U){if(0==x.length)return U;if(0==U.length)return x;let O=0;return x.endsWith("/")&&O++,U.startsWith("/")&&O++,2==O?x+U.substring(1):1==O?x+U:x+"/"+U}function rt(x){const U=x.match(/#|\?|$/),O=U&&U.index||x.length;return x.slice(0,O-("/"===x[O-1]?1:0))+x.slice(O)}function Je(x){return x&&"?"!==x[0]?"?"+x:x}let be=(()=>{class x{historyGo(O){throw new Error("Not implemented")}}return x.\u0275fac=function(O){return new(O||x)},x.\u0275prov=g.Yz7({token:x,factory:function(){return function ot(x){const U=(0,g.LFG)(Ce).location;return new $e((0,g.LFG)(ce),U&&U.origin||"")}()},providedIn:"root"}),x})();const qe=new g.OlP("appBaseHref");let $e=(()=>{class x extends be{constructor(O,W){if(super(),this._platformLocation=O,this._removeListenerFns=[],null==W&&(W=this._platformLocation.getBaseHrefFromDOM()),null==W)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=W}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return ke(this._baseHref,O)}path(O=!1){const W=this._platformLocation.pathname+Je(this._platformLocation.search),ae=this._platformLocation.hash;return ae&&O?`${W}${ae}`:W}pushState(O,W,ae,Ge){const st=this.prepareExternalUrl(ae+Je(Ge));this._platformLocation.pushState(O,W,st)}replaceState(O,W,ae,Ge){const st=this.prepareExternalUrl(ae+Je(Ge));this._platformLocation.replaceState(O,W,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var W,ae;null===(ae=(W=this._platformLocation).historyGo)||void 0===ae||ae.call(W,O)}}return x.\u0275fac=function(O){return new(O||x)(g.LFG(ce),g.LFG(qe,8))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),x})(),Re=(()=>{class x extends be{constructor(O,W){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(O){const W=ke(this._baseHref,O);return W.length>0?"#"+W:W}pushState(O,W,ae,Ge){let st=this.prepareExternalUrl(ae+Je(Ge));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(O,W,st)}replaceState(O,W,ae,Ge){let st=this.prepareExternalUrl(ae+Je(Ge));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(O,W,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var W,ae;null===(ae=(W=this._platformLocation).historyGo)||void 0===ae||ae.call(W,O)}}return x.\u0275fac=function(O){return new(O||x)(g.LFG(ce),g.LFG(qe,8))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),x})(),Le=(()=>{class x{constructor(O,W){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=O;const ae=this._platformStrategy.getBaseHref();this._platformLocation=W,this._baseHref=rt(Be(ae)),this._platformStrategy.onPopState(Ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ge.state,type:Ge.type})})}path(O=!1){return this.normalize(this._platformStrategy.path(O))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(O,W=""){return this.path()==this.normalize(O+Je(W))}normalize(O){return x.stripTrailingSlash(function Tt(x,U){return x&&U.startsWith(x)?U.substring(x.length):U}(this._baseHref,Be(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._platformStrategy.prepareExternalUrl(O)}go(O,W="",ae=null){this._platformStrategy.pushState(ae,"",O,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Je(W)),ae)}replaceState(O,W="",ae=null){this._platformStrategy.replaceState(ae,"",O,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Je(W)),ae)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(O=0){var W,ae;null===(ae=(W=this._platformStrategy).historyGo)||void 0===ae||ae.call(W,O)}onUrlChange(O){this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)}))}_notifyUrlChangeListeners(O="",W){this._urlChangeListeners.forEach(ae=>ae(O,W))}subscribe(O,W,ae){return this._subject.subscribe({next:O,error:W,complete:ae})}}return x.normalizeQueryParams=Je,x.joinWithSlash=ke,x.stripTrailingSlash=rt,x.\u0275fac=function(O){return new(O||x)(g.LFG(be),g.LFG(ce))},x.\u0275prov=g.Yz7({token:x,factory:function(){return function Ye(){return new Le((0,g.LFG)(be),(0,g.LFG)(ce))}()},providedIn:"root"}),x})();function Be(x){return x.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))();const Nr=g.kL8;class Mn{}let tr=(()=>{class x extends Mn{constructor(O){super(),this.locale=O}getPluralCategory(O,W){switch(Nr(W||this.locale)(O)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return x.\u0275fac=function(O){return new(O||x)(g.LFG(g.soG))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),x})();function Or(x,U){U=encodeURIComponent(U);for(const O of x.split(";")){const W=O.indexOf("="),[ae,Ge]=-1==W?[O,""]:[O.slice(0,W),O.slice(W+1)];if(ae.trim()===U)return decodeURIComponent(Ge)}return null}let Un=(()=>{class x{constructor(O,W,ae,Ge){this._iterableDiffers=O,this._keyValueDiffers=W,this._ngEl=ae,this._renderer=Ge,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(W=>this._toggleClass(W.key,W.currentValue)),O.forEachChangedItem(W=>this._toggleClass(W.key,W.currentValue)),O.forEachRemovedItem(W=>{W.previousValue&&this._toggleClass(W.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(W=>{if("string"!=typeof W.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(W.item)}`);this._toggleClass(W.item,!0)}),O.forEachRemovedItem(W=>this._toggleClass(W.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(W=>this._toggleClass(W,!0)):Object.keys(O).forEach(W=>this._toggleClass(W,!!O[W])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(W=>this._toggleClass(W,!1)):Object.keys(O).forEach(W=>this._toggleClass(W,!1)))}_toggleClass(O,W){(O=O.trim())&&O.split(/\s+/g).forEach(ae=>{W?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}}return x.\u0275fac=function(O){return new(O||x)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},x.\u0275dir=g.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),x})();class Jr{constructor(U,O,W,ae){this.$implicit=U,this.ngForOf=O,this.index=W,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ht=(()=>{class x{constructor(O,W,ae){this._viewContainer=O,this._template=W,this._differs=ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const W=this._viewContainer;O.forEachOperation((ae,Ge,st)=>{if(null==ae.previousIndex)W.createEmbeddedView(this._template,new Jr(ae.item,this._ngForOf,-1,-1),null===st?void 0:st);else if(null==st)W.remove(null===Ge?void 0:Ge);else if(null!==Ge){const Vt=W.get(Ge);W.move(Vt,st),$r(Vt,ae)}});for(let ae=0,Ge=W.length;ae<Ge;ae++){const Vt=W.get(ae).context;Vt.index=ae,Vt.count=Ge,Vt.ngForOf=this._ngForOf}O.forEachIdentityChange(ae=>{$r(W.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(O,W){return!0}}return x.\u0275fac=function(O){return new(O||x)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},x.\u0275dir=g.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),x})();function $r(x,U){x.context.$implicit=U.item}let Ee=(()=>{class x{constructor(O,W){this._viewContainer=O,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){Ie("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){Ie("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,W){return!0}}return x.\u0275fac=function(O){return new(O||x)(g.Y36(g.s_b),g.Y36(g.Rgc))},x.\u0275dir=g.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),x})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function Ie(x,U){if(U&&!U.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,g.AaK)(U)}'.`)}let yi=(()=>{class x{}return x.\u0275fac=function(O){return new(O||x)},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({providers:[{provide:Mn,useClass:tr}]}),x})();const Q="browser";function Se(x){return x===Q}let Er=(()=>{class x{}return x.\u0275prov=(0,g.Yz7)({token:x,providedIn:"root",factory:()=>new vi((0,g.LFG)(Ce),window)}),x})();class vi{constructor(U,O){this.document=U,this.window=O,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const O=function ai(x,U){const O=x.getElementById(U)||x.getElementsByName(U)[0];if(O)return O;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const W=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let ae=W.currentNode;for(;ae;){const Ge=ae.shadowRoot;if(Ge){const st=Ge.getElementById(U)||Ge.querySelector(`[name="${U}"]`);if(st)return st}ae=W.nextNode()}}return null}(this.document,U);O&&(this.scrollToElement(O),this.attemptFocus(O))}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=U)}}scrollToElement(U){const O=U.getBoundingClientRect(),W=O.left+this.window.pageXOffset,ae=O.top+this.window.pageYOffset,Ge=this.offset();this.window.scrollTo(W-Ge[0],ae-Ge[1])}attemptFocus(U){return U.focus(),this.document.activeElement===U}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=Eo(this.window.history)||Eo(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch(U){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(U){return!1}}}function Eo(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class ui{}},4893:(Ft,Ue,F)=>{"use strict";F.d(Ue,{deG:()=>$t,tb:()=>p0,AFp:()=>d0,ip1:()=>Fy,CZH:()=>hh,hGG:()=>oD,z2F:()=>cp,sBO:()=>FI,Sil:()=>Vy,_Vd:()=>np,EJc:()=>m0,SBq:()=>rp,qLn:()=>qi,vpe:()=>Ou,tBr:()=>$s,XFs:()=>nt,OlP:()=>Yr,zs3:()=>Ro,ZZ4:()=>zg,aQg:()=>Wg,soG:()=>Gg,YKP:()=>D_,h0i:()=>ch,PXZ:()=>MI,R0b:()=>Yo,FiY:()=>ms,Lbi:()=>f0,g9A:()=>h0,Qsj:()=>hw,FYo:()=>v_,JOm:()=>wa,tp0:()=>So,Rgc:()=>ap,dDg:()=>_0,q4F:()=>E_,GfV:()=>__,s_b:()=>Ug,ifc:()=>Xn,eFA:()=>I0,G48:()=>kI,Gpc:()=>Je,_c5:()=>XI,VLi:()=>TI,c2e:()=>g0,zSh:()=>Gl,wAp:()=>vn,vHH:()=>$e,cg1:()=>fy,kL8:()=>$v,dqk:()=>oe,sIi:()=>rc,CqO:()=>ac,QGY:()=>tl,F4k:()=>xu,RDi:()=>os,AaK:()=>xe,qOj:()=>$c,TTD:()=>Q,_Bn:()=>g_,xp6:()=>Np,uIk:()=>qd,Tol:()=>Mg,ekj:()=>Sg,Suo:()=>G_,Xpm:()=>Vr,lG2:()=>gr,Yz7:()=>tn,cJS:()=>xr,oAB:()=>sn,Yjl:()=>Pi,Y36:()=>el,_UZ:()=>th,qZA:()=>Kl,TgZ:()=>eh,EpF:()=>wg,n5z:()=>ps,LFG:()=>Ct,$8M:()=>ir,$Z:()=>$f,NdJ:()=>nl,CRH:()=>H_,kcU:()=>fs,O4$:()=>tu,oxw:()=>Ig,ALo:()=>N_,xi3:()=>P_,Dn7:()=>k_,Q6J:()=>Xd,VKq:()=>A_,iGM:()=>j_,MAs:()=>Fm,CHM:()=>hs,LSH:()=>_h,Udp:()=>Yf,YNc:()=>Zo,_uU:()=>se,Oqu:()=>_e,hij:()=>Ve,Gf:()=>$_});var g=F(7579),k=F(727),ue=F(8306),me=F(6451),he=F(8996),Pe=F(5698),Ce=F(930),ce=F(4482);function Z(t,n,...s){return!0===n?(t(),null):!1===n?null:n(...s).pipe((0,Pe.q)(1)).subscribe(()=>t())}function X(t){for(let n in t)if(t[n]===X)return n;throw Error("Could not find renamed property on target object.")}function Ae(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function ke(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const rt=X({__forward_ref__:X});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return xe(this())},t}function be(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(rt)&&t.__forward_ref__===Je}class $e extends Error{constructor(n,s){super(function Re(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function Le(t){return"string"==typeof t?t:null==t?"":String(t)}function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Le(t)}function ee(t,n){const s=n?` in ${n}`:"";throw new $e(-201,`No provider for ${Ye(t)} found${s}`)}function jt(t,n){null==t&&function Lt(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function tn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ir(t){return Nr(t,Qr)||Nr(t,In)}function Nr(t,n){return t.hasOwnProperty(n)?t[n]:null}function fr(t){return t&&(t.hasOwnProperty(Sn)||t.hasOwnProperty(Kt))?t[Sn]:null}const Qr=X({\u0275prov:X}),Sn=X({\u0275inj:X}),In=X({ngInjectableDef:X}),Kt=X({ngInjectorDef:X});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let bn;function pn(t){const n=bn;return bn=t,n}function sr(t,n,s){const a=Ir(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&nt.Optional?null:void 0!==n?n:void ee(xe(t),"Injector")}function et(t){return{toString:t}.toString()}var bt=(()=>((bt=bt||{})[bt.OnPush=0]="OnPush",bt[bt.Default=1]="Default",bt))(),Xn=(()=>{return(t=Xn||(Xn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Xn;var t})();const ii="undefined"!=typeof globalThis&&globalThis,or="undefined"!=typeof window&&window,Ei="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,oe=ii||"undefined"!=typeof global&&global||or||Ei,we={},Ze=[],St=X({\u0275cmp:X}),gn=X({\u0275dir:X}),On=X({\u0275pipe:X}),Vn=X({\u0275mod:X}),Gn=X({\u0275fac:X}),Ut=X({__NG_ELEMENT_ID__:X});let dn=0;function Vr(t){return et(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ze,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Xn.Emulated,id:"c",styles:t.styles||Ze,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,l=t.features,p=t.pipes;return a.id+=dn++,a.inputs=pi(t.inputs,s),a.outputs=pi(t.outputs),l&&l.forEach(E=>E(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(ar):null,a.pipeDefs=p?()=>("function"==typeof p?p():p).map(si):null,a})}function ar(t){return mr(t)||function Et(t){return t[gn]||null}(t)}function si(t){return function ht(t){return t[On]||null}(t)}const pr={};function sn(t){return et(()=>{const n={type:t.type,bootstrap:t.bootstrap||Ze,declarations:t.declarations||Ze,imports:t.imports||Ze,exports:t.exports||Ze,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(pr[t.id]=t.type),n})}function pi(t,n){if(null==t)return we;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],l=c;Array.isArray(c)&&(l=c[1],c=c[0]),s[c]=a,n&&(n[c]=l)}return s}const gr=Vr;function Pi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function mr(t){return t[St]||null}function Nt(t,n){const s=t[Vn]||null;if(!s&&!0===n)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return s}function yr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Cr(t){return Array.isArray(t)&&!0===t[1]}function Pr(t){return 0!=(8&t.flags)}function Rr(t){return 2==(2&t.flags)}function Ar(t){return 1==(1&t.flags)}function Gr(t){return null!==t.template}function Di(t){return 0!=(512&t[2])}function kr(t,n){return t.hasOwnProperty(Gn)?t[Gn]:null}class yi{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Q(){return K}function K(t){return t.type.prototype.ngOnChanges&&(t.setInput=ge),$}function $(){const t=wt(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===we)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function ge(t,n,s,a){const c=wt(t)||function Pt(t,n){return t[Se]=n}(t,{previous:we,current:null}),l=c.current||(c.current={}),p=c.previous,E=this.declaredInputs[s],D=p[E];l[E]=new yi(D&&D.currentValue,n,p===we),t[a]=n}Q.ngInherit=!0;const Se="__ngSimpleChanges__";function wt(t){return t[Se]||null}const vi="http://www.w3.org/2000/svg";let ai;function os(t){ai=t}function U(t){return!!t.listen}const O={createRenderer:(t,n)=>function ui(){return void 0!==ai?ai:"undefined"!=typeof document?document:void 0}()};function ae(t){for(;Array.isArray(t);)t=t[0];return t}function Vt(t,n){return ae(n[t])}function Qt(t,n){return ae(n[t.index])}function Yn(t,n){return t.data[n]}function cn(t,n){return t[n]}function jn(t,n){const s=n[t];return yr(s)?s:s[0]}function Wn(t){return 4==(4&t[2])}function vr(t){return 128==(128&t[2])}function Sr(t,n){return null==n?null:t[n]}function Ji(t){t[18]=0}function ci(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const M={lFrame:Pa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Rt(){return M.bindingsEnabled}function tt(){return M.lFrame.lView}function _n(){return M.lFrame.tView}function hs(t){return M.lFrame.contextLView=t,t[8]}function Mr(){let t=Ns();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ns(){return M.lFrame.currentTNode}function as(t,n){const s=M.lFrame;s.currentTNode=t,s.isParent=n}function io(){return M.lFrame.isParent}function ks(){return M.isInCheckNoChangesMode}function Oa(t){M.isInCheckNoChangesMode=t}function qr(){const t=M.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Fs(){return M.lFrame.bindingIndex++}function ji(t){const n=M.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function Vo(t,n){const s=M.lFrame;s.bindingIndex=s.bindingRootIndex=t,Uo(n)}function Uo(t){M.lFrame.currentDirectiveIndex=t}function Na(){return M.lFrame.currentQueryIndex}function Ls(t){M.lFrame.currentQueryIndex=t}function Bo(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function qs(t,n,s){if(s&nt.SkipSelf){let c=n,l=t;for(;!(c=c.parent,null!==c||s&nt.Host||(c=Bo(l),null===c||(l=l[15],10&c.type))););if(null===c)return!1;n=c,t=l}const a=M.lFrame=$o();return a.currentTNode=n,a.lView=t,!0}function jo(t){const n=$o(),s=t[1];M.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function $o(){const t=M.lFrame,n=null===t?null:t.child;return null===n?Pa(t):n}function Pa(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ea(){const t=M.lFrame;return M.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bs=ea;function ta(){const t=ea();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $i(){return M.lFrame.selectedIndex}function Vs(t){M.lFrame.selectedIndex=t}function Rn(){const t=M.lFrame;return Yn(t.tView,t.selectedIndex)}function tu(){M.lFrame.currentNamespace=vi}function fs(){!function ao(){M.lFrame.currentNamespace=null}()}function na(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const l=t.data[s].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:P,ngOnDestroy:B}=l;p&&(t.contentHooks||(t.contentHooks=[])).push(-s,p),E&&((t.contentHooks||(t.contentHooks=[])).push(s,E),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,E)),D&&(t.viewHooks||(t.viewHooks=[])).push(-s,D),P&&((t.viewHooks||(t.viewHooks=[])).push(s,P),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,P)),null!=B&&(t.destroyHooks||(t.destroyHooks=[])).push(s,B)}}function Ho(t,n,s){Ts(t,n,3,s)}function qn(t,n,s,a){(3&t[2])===s&&Ts(t,n,s,a)}function wo(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Ts(t,n,s,a){const l=null!=a?a:-1,p=n.length-1;let E=0;for(let D=void 0!==a?65535&t[18]:0;D<p;D++)if("number"==typeof n[D+1]){if(E=n[D],null!=a&&E>=a)break}else n[D]<0&&(t[18]+=65536),(E<l||-1==l)&&(La(t,s,n,D),t[18]=(4294901760&t[18])+D+2),D++}function La(t,n,s,a){const c=s[a]<0,l=s[a+1],E=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(E)}finally{}}}else try{l.call(E)}finally{}}class lr{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Bt(t,n,s){const a=U(t);let c=0;for(;c<s.length;){const l=s[c];if("number"==typeof l){if(0!==l)break;c++;const p=s[c++],E=s[c++],D=s[c++];a?t.setAttribute(n,E,D,p):n.setAttributeNS(p,E,D)}else{const p=l,E=s[++c];Va(p)?a&&t.setProperty(n,p,E):a?t.setAttribute(n,p,E):n.setAttribute(p,E),c++}}return c}function en(t){return 3===t||4===t||6===t}function Va(t){return 64===t.charCodeAt(0)}function ft(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?s=c:0===s||ze(t,s,c,null,-1===s||2===s?n[++a]:null)}}return t}function ze(t,n,s,a,c){let l=0,p=t.length;if(-1===n)p=-1;else for(;l<t.length;){const E=t[l++];if("number"==typeof E){if(E===n){p=-1;break}if(E>n){p=l-1;break}}}for(;l<t.length;){const E=t[l];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==c&&(t[l+1]=c));if(a===t[l+1])return void(t[l+2]=c)}l++,null!==a&&l++,null!==c&&l++}-1!==p&&(t.splice(p,0,n),l=p+1),t.splice(l++,0,s),null!==a&&t.splice(l++,0,a),null!==c&&t.splice(l++,0,c)}function ct(t){return-1!==t}function Fr(t){return 32767&t}function Zs(t,n){let s=function Do(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let zo=!0;function Wo(t){const n=zo;return zo=t,n}let co=0;function Xr(t,n){const s=w(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,sa(a.data,t),sa(n,null),sa(a.blueprint,null));const c=v(t,n),l=t.injectorIndex;if(ct(c)){const p=Fr(c),E=Zs(c,n),D=E[1].data;for(let P=0;P<8;P++)n[l+P]=E[p+P]|D[p+P]}return n[l+8]=c,l}function sa(t,n){t.push(0,0,0,0,0,0,0,0,n)}function w(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function v(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=n;for(;null!==c;){const l=c[1],p=l.type;if(a=2===p?l.declTNode:1===p?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function m(t,n,s){!function ia(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ut)&&(a=s[Ut]),null==a&&(a=s[Ut]=co++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function N(t,n,s){if(s&nt.Optional)return t;ee(n,"NodeInjector")}function V(t,n,s,a){if(s&nt.Optional&&void 0===a&&(a=null),0==(s&(nt.Self|nt.Host))){const c=t[9],l=pn(void 0);try{return c?c.get(n,a,s&nt.Optional):sr(n,a,s&nt.Optional)}finally{pn(l)}}return N(a,n,s)}function J(t,n,s,a=nt.Default,c){if(null!==t){const l=function on(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ut)?t[Ut]:void 0;return"number"==typeof n?n>=0?255&n:We:n}(s);if("function"==typeof l){if(!qs(n,t,a))return a&nt.Host?N(c,s,a):V(n,s,a,c);try{const p=l(a);if(null!=p||a&nt.Optional)return p;ee(s)}finally{bs()}}else if("number"==typeof l){let p=null,E=w(t,n),D=-1,P=a&nt.Host?n[16][6]:null;for((-1===E||a&nt.SkipSelf)&&(D=-1===E?v(t,n):n[E+8],-1!==D&&Ys(a,!1)?(p=n[1],E=Fr(D),n=Zs(D,n)):E=-1);-1!==E;){const B=n[1];if(Kn(l,E,B.data)){const Y=xt(E,n,s,p,a,P);if(Y!==le)return Y}D=n[E+8],-1!==D&&Ys(a,n[1].data[E+8]===P)&&Kn(l,E,n)?(p=B,E=Fr(D),n=Zs(D,n)):E=-1}}}return V(n,s,a,c)}const le={};function We(){return new Qn(Mr(),tt())}function xt(t,n,s,a,c,l){const p=n[1],E=p.data[t+8],B=Mt(E,p,s,null==a?Rr(E)&&zo:a!=p&&0!=(3&E.type),c&nt.Host&&l===E);return null!==B?Wt(n,p,B,E):le}function Mt(t,n,s,a,c){const l=t.providerIndexes,p=n.data,E=1048575&l,D=t.directiveStart,B=l>>20,fe=c?E+B:t.directiveEnd;for(let Te=a?E:E+B;Te<fe;Te++){const Xe=p[Te];if(Te<D&&s===Xe||Te>=D&&Xe.type===s)return Te}if(c){const Te=p[D];if(Te&&Gr(Te)&&Te.type===s)return D}return null}function Wt(t,n,s,a){let c=t[s];const l=n.data;if(function Io(t){return t instanceof lr}(c)){const p=c;p.resolving&&function Tt(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new $e(-200,`Circular dependency in DI detected for ${t}${s}`)}(Ye(l[s]));const E=Wo(p.canSeeViewProviders);p.resolving=!0;const D=p.injectImpl?pn(p.injectImpl):null;qs(t,a,nt.Default);try{c=t[s]=p.factory(void 0,l,t,a),n.firstCreatePass&&s>=a.directiveStart&&function Fa(t,n,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:l}=n.type.prototype;if(a){const p=K(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),l&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,l),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,l))}(s,l[s],n)}finally{null!==D&&pn(D),Wo(E),p.resolving=!1,bs()}}return c}function Kn(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Ys(t,n){return!(t&nt.Self||t&nt.Host&&n)}class Qn{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return J(this._tNode,this._lView,n,a,s)}}function ps(t){return et(()=>{const n=t.prototype.constructor,s=n[Gn]||_i(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const l=c[Gn]||_i(c);if(l&&l!==s)return l;c=Object.getPrototypeOf(c)}return l=>new l})}function _i(t){return ot(t)?()=>{const n=_i(be(t));return n&&n()}:kr(t)}function ir(t){return function A(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const l=s[c];if(en(l))break;if(0===l)c+=2;else if("number"==typeof l)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(l===n)return s[c+1];c+=2}}}return null}(Mr(),t)}const Hi="__parameters__";function ws(t,n,s){return et(()=>{const a=function ku(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(n);function c(...l){if(this instanceof c)return a.apply(this,l),this;const p=new c(...l);return E.annotation=p,E;function E(D,P,B){const Y=D.hasOwnProperty(Hi)?D[Hi]:Object.defineProperty(D,Hi,{value:[]})[Hi];for(;Y.length<=B;)Y.push(null);return(Y[B]=Y[B]||[]).push(p),D}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Yr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=tn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $t=new Yr("AnalyzeForEntryComponents");function Ti(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Ti(a,n)):n!==t&&n.push(a)}return n}function gs(t,n){t.forEach(s=>Array.isArray(s)?gs(s,n):n(s))}function Hr(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ho(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ai(t,n,s){let a=Bs(t,n);return a>=0?t[1|a]=s:(a=~a,function fo(t,n,s,a){let c=t.length;if(c==n)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function il(t,n){const s=Bs(t,n);if(s>=0)return t[1|s]}function Bs(t,n){return function zr(t,n,s){let a=0,c=t.length>>s;for(;c!==a;){const l=a+(c-a>>1),p=t[l<<s];if(n===p)return l<<s;p>n?c=l:a=l+1}return~(c<<s)}(t,n,1)}const js={},lu="__NG_DI_FLAG__",du="ngTempTokenPath",R=/\n/gm,ne="__source",De=X({provide:String,useValue:X});let Fe;function pt(t){const n=Fe;return Fe=t,n}function kt(t,n=nt.Default){if(void 0===Fe)throw new $e(203,"");return null===Fe?sr(t,void 0,n):Fe.get(t,n&nt.Optional?null:void 0,n)}function Ct(t,n=nt.Default){return(function an(){return bn}()||kt)(be(t),n)}function Si(t){const n=[];for(let s=0;s<t.length;s++){const a=be(t[s]);if(Array.isArray(a)){if(0===a.length)throw new $e(900,"");let c,l=nt.Default;for(let p=0;p<a.length;p++){const E=a[p],D=di(E);"number"==typeof D?-1===D?c=E.token:l|=D:c=E}n.push(Ct(c,l))}else n.push(Ct(a))}return n}function ti(t,n){return t[lu]=n,t.prototype[lu]=n,t}function di(t){return t[lu]}const $s=ti(ws("Inject",t=>({token:t})),-1),ms=ti(ws("Optional"),8),So=ti(ws("SkipSelf"),4);class hl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ya(t){return t instanceof hl?t.changingThisBreaksApplicationSecurity:t}const I=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,q=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Wi=(()=>((Wi=Wi||{})[Wi.NONE=0]="NONE",Wi[Wi.HTML=1]="HTML",Wi[Wi.STYLE=2]="STYLE",Wi[Wi.SCRIPT=3]="SCRIPT",Wi[Wi.URL=4]="URL",Wi[Wi.RESOURCE_URL=5]="RESOURCE_URL",Wi))();function _h(t){const n=function Cc(){const t=tt();return t&&t[12]}();return n?n.sanitize(Wi.URL,t)||"":function Ha(t,n){const s=function Oi(t){return t instanceof hl&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?ya(t):function Ne(t){return(t=String(t)).match(I)||t.match(q)?t:"unsafe:"+t}(Le(t))}const zu="__ngContext__";function Ss(t,n){t[zu]=n}function Ih(t){const n=function El(t){return t[zu]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function hi(t){return t.ngOriginalError}function to(t,...n){t.error(...n)}class qi{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=function _a(t){return t&&t.ngErrorLogger||to}(n);a(this._console,"ERROR",n),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&hi(n);for(;s&&hi(s);)s=hi(s);return s||null}}const Dh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(oe))();function yo(t){return t instanceof Function?t():t}var wa=(()=>((wa=wa||{})[wa.Important=1]="Important",wa[wa.DashCase=2]="DashCase",wa))();function ad(t,n){return undefined(t,n)}function Ri(t){const n=t[3];return Cr(n)?n[3]:n}function wl(t){return Th(t[13])}function Ia(t){return Th(t[4])}function Th(t){for(;null!==t&&!Cr(t);)t=t[4];return t}function qu(t,n,s,a,c){if(null!=a){let l,p=!1;Cr(a)?l=a:yr(a)&&(p=!0,a=a[0]);const E=ae(a);0===t&&null!==s?null==c?Cp(n,s,E):Zu(n,s,E,c||null,!0):1===t&&null!==s?Zu(n,s,E,c||null,!0):2===t?function Hs(t,n,s){const a=xc(t,n);a&&function Tp(t,n,s,a){U(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,E,p):3===t&&n.destroyNode(E),null!=l&&function _u(t,n,s,a,c){const l=s[7];l!==ae(s)&&qu(n,t,a,l,c);for(let E=10;E<s.length;E++){const D=s[E];vu(D[1],D,t,n,a,l)}}(n,t,l,s,c)}}function qa(t,n,s){return U(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function Ip(t,n){const s=t[9],a=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,ci(c,-1)),s.splice(a,1)}function dd(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&Ip(c,a),n>0&&(t[s-1][4]=a[4]);const l=ho(t,10+n);!function Mc(t,n){vu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const p=l[19];null!==p&&p.detachView(l[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Mh(t,n){if(!(256&n[2])){const s=n[11];U(s)&&s.destroyNode&&vu(t,n,s,3,null,null),function Ah(t){let n=t[13];if(!n)return Cl(t[1],t);for(;n;){let s=null;if(yr(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)yr(n)&&Cl(n[1],n),n=n[3];null===n&&(n=t),yr(n)&&Cl(n[1],n),s=n&&n[4]}n=s}}(n)}}function Cl(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function hd(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=n[s[a]];if(!(c instanceof lr)){const l=s[a+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const E=c[l[p]],D=l[p+1];try{D.call(E)}finally{}}else try{l.call(c)}finally{}}}}(t,n),function bl(t,n){const s=t.cleanup,a=n[7];let c=-1;if(null!==s)for(let l=0;l<s.length-1;l+=2)if("string"==typeof s[l]){const p=s[l+1],E="function"==typeof p?p(n):ae(n[p]),D=a[c=s[l+2]],P=s[l+3];"boolean"==typeof P?E.removeEventListener(s[l],D,P):P>=0?a[c=P]():a[c=-P].unsubscribe(),l+=2}else{const p=a[c=s[l+1]];s[l].call(p)}if(null!==a){for(let l=c+1;l<a.length;l++)a[l]();n[7]=null}}(t,n),1===n[1].type&&U(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Cr(n[3])){s!==n[3]&&Ip(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Dp(t,n,s){return function xh(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Xn.None||c===Xn.Emulated)return null}return Qt(a,s)}(t,n.parent,s)}function Zu(t,n,s,a,c){U(t)?t.insertBefore(n,s,a,c):n.insertBefore(s,a,c)}function Cp(t,n,s){U(t)?t.appendChild(n,s):n.appendChild(s)}function bp(t,n,s,a,c){null!==a?Zu(t,n,s,a,c):Cp(t,n,s)}function xc(t,n){return U(t)?t.parentNode(n):n.parentNode}let fd=function Ap(t,n,s){return 40&t.type?Qt(t,s):null};function Yu(t,n,s,a){const c=Dp(t,a,n),l=n[11],E=function Rh(t,n,s){return fd(t,n,s)}(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(s))for(let D=0;D<s.length;D++)bp(l,c,s[D],E,!1);else bp(l,c,s,E,!1)}function Qu(t,n){if(null!==n){const s=n.type;if(3&s)return Qt(n,t);if(4&s)return pd(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Qu(t,a);{const c=t[n.index];return Cr(c)?pd(-1,c):ae(c)}}if(32&s)return ad(n,t)()||ae(t[n.index]);{const a=Tl(t,n);return null!==a?Array.isArray(a)?a[0]:Qu(Ri(t[16]),a):Qu(t,n.next)}}return null}function Tl(t,n){return null!==n?t[16][6].projection[n.projection]:null}function pd(t,n){const s=10+t+1;if(s<n.length){const a=n[s],c=a[1].firstChild;if(null!==c)return Qu(a,c)}return n[7]}function gd(t,n,s,a,c,l,p){for(;null!=s;){const E=a[s.index],D=s.type;if(p&&0===n&&(E&&Ss(ae(E),a),s.flags|=4),64!=(64&s.flags))if(8&D)gd(t,n,s.child,a,c,l,!1),qu(n,t,c,E,l);else if(32&D){const P=ad(s,a);let B;for(;B=P();)qu(n,t,c,B,l);qu(n,t,c,E,l)}else 16&D?Fh(t,n,a,s,c,l):qu(n,t,c,E,l);s=p?s.projectionNext:s.next}}function vu(t,n,s,a,c,l){gd(s,a,t.firstChild,n,c,l,!1)}function Fh(t,n,s,a,c,l){const p=s[16],D=p[6].projection[a.projection];if(Array.isArray(D))for(let P=0;P<D.length;P++)qu(n,t,c,D[P],l);else gd(t,n,D,p[3],c,l,!0)}function Lh(t,n,s){U(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Ka(t,n,s){U(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Sp(t,n,s){let a=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const l=n.length;if(c+l===a||t.charCodeAt(c+l)<=32)return c}s=c+1}}const Vh="ng-template";function Eu(t,n,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Sp(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function wu(t){return 4===t.type&&t.value!==Vh}function Uh(t,n,s){return n===(4!==t.type||s?t.value:Vh)}function Mp(t,n,s){let a=4;const c=t.attrs||[],l=function md(t){for(let n=0;n<t.length;n++)if(en(t[n]))return n;return t.length}(c);let p=!1;for(let E=0;E<n.length;E++){const D=n[E];if("number"!=typeof D){if(!p)if(4&a){if(a=2|1&a,""!==D&&!Uh(t,D,s)||""===D&&1===n.length){if(Ko(a))return!1;p=!0}}else{const P=8&a?D:n[++E];if(8&a&&null!==t.attrs){if(!Eu(t.attrs,P,s)){if(Ko(a))return!1;p=!0}continue}const Y=tm(8&a?"class":D,c,wu(t),s);if(-1===Y){if(Ko(a))return!1;p=!0;continue}if(""!==P){let fe;fe=Y>l?"":c[Y+1].toLowerCase();const Te=8&a?fe:null;if(Te&&-1!==Sp(Te,P,0)||2&a&&P!==fe){if(Ko(a))return!1;p=!0}}}}else{if(!p&&!Ko(a)&&!Ko(D))return!1;if(p&&Ko(D))continue;p=!1,a=D|1&a}}return Ko(a)||p}function Ko(t){return 0==(1&t)}function tm(t,n,s,a){if(null===n)return-1;let c=0;if(a||!s){let l=!1;for(;c<n.length;){const p=n[c];if(p===t)return c;if(3===p||6===p)l=!0;else{if(1===p||2===p){let E=n[++c];for(;"string"==typeof E;)E=n[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=l?1:2}return-1}return function Rc(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function xp(t,n,s=!1){for(let a=0;a<n.length;a++)if(Mp(t,n[a],s))return!0;return!1}function Op(t,n){return t?":not("+n.trim()+")":n}function im(t){let n=t[0],s=1,a=2,c="",l=!1;for(;s<t.length;){let p=t[s];if("string"==typeof p)if(2&a){const E=t[++s];c+="["+p+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?c+="."+p:4&a&&(c+=" "+p);else""!==c&&!Ko(p)&&(n+=Op(l,c),c=""),a=p,l=l||!Ko(a);s++}return""!==c&&(n+=Op(l,c)),n}const wn={};function Np(t){Bh(_n(),tt(),$i()+t,ks())}function Bh(t,n,s,a){if(!a)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&Ho(n,l,s)}else{const l=t.preOrderHooks;null!==l&&qn(n,l,0,s)}Vs(s)}function Nc(t,n){return t<<17|n<<2}function zs(t){return t>>17&32767}function $h(t){return 2|t}function Za(t){return(131068&t)>>2}function Ml(t,n){return-131069&t|n<<2}function Hh(t){return 1|t}function Up(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],l=s[a+1];if(-1!==l){const p=t.data[l];Ls(c),p.contentQueries(2,n[l],l)}}}function Du(t,n,s,a,c,l,p,E,D,P){const B=n.blueprint.slice();return B[0]=c,B[2]=140|a,Ji(B),B[3]=B[15]=t,B[8]=s,B[10]=p||t&&t[10],B[11]=E||t&&t[11],B[12]=D||t&&t[12]||null,B[9]=P||t&&t[9]||null,B[6]=l,B[16]=2==n.type?t[16]:B,B}function Ca(t,n,s,a,c){let l=t.data[n];if(null===l)l=function kl(t,n,s,a,c){const l=Ns(),p=io(),D=t.data[n]=function rf(t,n,s,a,c,l){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,s,n,a,c);return null===t.firstChild&&(t.firstChild=D),null!==l&&(p?null==l.child&&null!==D.parent&&(l.child=D):null===l.next&&(l.next=D)),D}(t,n,s,a,c),function Xo(){return M.lFrame.inI18n}()&&(l.flags|=64);else if(64&l.type){l.type=s,l.value=a,l.attrs=c;const p=function ko(){const t=M.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return as(l,!0),l}function Xu(t,n,s,a){if(0===s)return-1;const c=n.length;for(let l=0;l<s;l++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Fl(t,n,s){jo(n);try{const a=t.viewQuery;null!==a&&jl(1,a,s);const c=t.template;null!==c&&jp(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Up(t,n),t.staticViewQueries&&jl(2,t.viewQuery,s);const l=t.components;null!==l&&function Bp(t,n){for(let s=0;s<n.length;s++)Qp(t,n[s])}(n,l)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,ta()}}function kc(t,n,s,a){const c=n[2];if(256==(256&c))return;jo(n);const l=ks();try{Ji(n),function Lo(t){return M.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&jp(t,n,s,2,a);const p=3==(3&c);if(!l)if(p){const P=t.preOrderCheckHooks;null!==P&&Ho(n,P,null)}else{const P=t.preOrderHooks;null!==P&&qn(n,P,0,null),wo(n,0)}if(function df(t){for(let n=wl(t);null!==n;n=Ia(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const c=s[a],l=c[3];0==(1024&c[2])&&ci(l,1),c[2]|=1024}}}(n),function bu(t){for(let n=wl(t);null!==n;n=Ia(n))for(let s=10;s<n.length;s++){const a=n[s],c=a[1];vr(a)&&kc(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&Up(t,n),!l)if(p){const P=t.contentCheckHooks;null!==P&&Ho(n,P)}else{const P=t.contentHooks;null!==P&&qn(n,P,1),wo(n,1)}!function am(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Vs(~c);else{const l=c,p=s[++a],E=s[++a];Vo(p,l),E(2,n[l])}}}finally{Vs(-1)}}(t,n);const E=t.components;null!==E&&function um(t,n){for(let s=0;s<n.length;s++)Vc(t,n[s])}(n,E);const D=t.viewQuery;if(null!==D&&jl(2,D,a),!l)if(p){const P=t.viewCheckHooks;null!==P&&Ho(n,P)}else{const P=t.viewHooks;null!==P&&qn(n,P,2),wo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,ci(n[3],-1))}finally{ta()}}function cm(t,n,s,a){const c=n[10],l=!ks(),p=Wn(n);try{l&&!p&&c.begin&&c.begin(),p&&Fl(t,n,a),kc(t,n,s,a)}finally{l&&!p&&c.end&&c.end()}}function jp(t,n,s,a,c){const l=$i(),p=2&a;try{Vs(-1),p&&n.length>20&&Bh(t,n,20,ks()),s(a,c)}finally{Vs(l)}}function ec(t,n,s){!Rt()||(function fm(t,n,s,a){const c=s.directiveStart,l=s.directiveEnd;t.firstCreatePass||Xr(s,n),Ss(a,n);const p=s.initialInputs;for(let E=c;E<l;E++){const D=t.data[E],P=Gr(D);P&&mm(n,s,D);const B=Wt(n,t,E,s);Ss(B,n),null!==p&&cf(0,E-c,B,D,0,p),P&&(jn(s.index,n)[8]=B)}}(t,n,s,Qt(s,n)),128==(128&s.flags)&&function Kp(t,n,s){const a=s.directiveStart,c=s.directiveEnd,p=s.index,E=function Ra(){return M.lFrame.currentDirectiveIndex}();try{Vs(p);for(let D=a;D<c;D++){const P=t.data[D],B=n[D];Uo(D),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&af(P,B)}}finally{Vs(-1),Uo(E)}}(t,n,s))}function Ll(t,n,s=Qt){const a=n.localNames;if(null!==a){let c=n.index+1;for(let l=0;l<a.length;l+=2){const p=a[l+1],E=-1===p?s(n,t):t[p];t[c++]=E}}}function tc(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Fc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Fc(t,n,s,a,c,l,p,E,D,P){const B=20+a,Y=B+c,fe=function Cd(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:wn);return s}(B,Y),Te="function"==typeof P?P():P;return fe[1]={type:t,blueprint:fe,template:s,queries:null,viewQuery:E,declTNode:n,data:fe.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:D,consts:Te,incompleteFirstPass:!1}}function bd(t,n,s,a){const c=pf(n);null===s?c.push(a):(c.push(s),t.firstCreatePass&&Xp(t).push(a,c.length-1))}function Qa(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,c):s[a]=[n,c]}return s}function Cu(t,n,s,a){let c=!1;if(Rt()){const l=function pm(t,n,s){const a=t.directiveRegistry;let c=null;if(a)for(let l=0;l<a.length;l++){const p=a[l];xp(s,p.selectors,!1)&&(c||(c=[]),m(Xr(s,n),t,p.type),Gr(p)?(Ad(t,s),c.unshift(p)):c.push(p))}return c}(t,n,s),p=null===a?null:{"":-1};if(null!==l){c=!0,Zp(s,t.data.length,l.length);for(let B=0;B<l.length;B++){const Y=l[B];Y.providersResolver&&Y.providersResolver(Y)}let E=!1,D=!1,P=Xu(t,n,l.length,null);for(let B=0;B<l.length;B++){const Y=l[B];s.mergedAttrs=ft(s.mergedAttrs,Y.hostAttrs),Sd(t,s,n,P,Y),uf(P,Y,p),null!==Y.contentQueries&&(s.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(s.flags|=128);const fe=Y.type.prototype;!E&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),E=!0),!D&&(fe.ngOnChanges||fe.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),D=!0),P++}!function Hp(t,n){const a=n.directiveEnd,c=t.data,l=n.attrs,p=[];let E=null,D=null;for(let P=n.directiveStart;P<a;P++){const B=c[P],Y=B.inputs,fe=null===l||wu(n)?null:lf(Y,l);p.push(fe),E=Qa(Y,P,E),D=Qa(B.outputs,P,D)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=16),E.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=p,n.inputs=E,n.outputs=D}(t,s)}p&&function gm(t,n,s){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const l=s[n[c+1]];if(null==l)throw new $e(-301,`Export of name '${n[c+1]}' not found!`);a.push(n[c],l)}}}(s,a,p)}return s.mergedAttrs=ft(s.mergedAttrs,s.attrs),c}function Td(t,n,s,a,c,l){const p=l.hostBindings;if(p){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const D=~n.index;(function hm(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(E)!=D&&E.push(D),E.push(a,c,p)}}function af(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ad(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function uf(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;Gr(n)&&(s[""]=t)}}function Zp(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Sd(t,n,s,a,c){t.data[a]=c;const l=c.factory||(c.factory=kr(c.type)),p=new lr(l,Gr(c),null);t.blueprint[a]=p,s[a]=p,Td(t,n,0,a,Xu(t,s,c.hostVars,wn),c)}function mm(t,n,s){const a=Qt(n,t),c=tc(s),l=t[10],p=xd(t,Du(t,c,null,s.onPush?64:16,a,n,l,l.createRenderer(a,s),null,null));t[n.index]=p}function Oo(t,n,s,a,c,l){const p=Qt(t,n);!function Md(t,n,s,a,c,l,p){if(null==l)U(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const E=null==p?Le(l):p(l,a||"",c);U(t)?t.setAttribute(n,c,E,s):s?n.setAttributeNS(s,c,E):n.setAttribute(c,E)}}(n[11],p,l,t.value,s,a,c)}function cf(t,n,s,a,c,l){const p=l[n];if(null!==p){const E=a.setInput;for(let D=0;D<p.length;){const P=p[D++],B=p[D++],Y=p[D++];null!==E?a.setInput(s,Y,P,B):s[B]=Y}}}function lf(t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return s}function nc(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function Vc(t,n){const s=jn(n,t);if(vr(s)){const a=s[1];80&s[2]?kc(a,s,a.template,s[8]):s[5]>0&&Tu(s)}}function Tu(t){for(let a=wl(t);null!==a;a=Ia(a))for(let c=10;c<a.length;c++){const l=a[c];if(1024&l[2]){const p=l[1];kc(p,l,p.template,l[8])}else l[5]>0&&Tu(l)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=jn(s[a],t);vr(c)&&c[5]>0&&Tu(c)}}function Qp(t,n){const s=jn(n,t),a=s[1];(function Uc(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),Fl(a,s,s[8])}function xd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function hf(t){for(;t;){t[2]|=64;const n=Ri(t);if(Di(t)&&!n)return t;t=n}return null}function Bl(t,n,s){const a=n[10];a.begin&&a.begin();try{kc(t,n,t.template,s)}catch(c){throw mf(n,c),c}finally{a.end&&a.end()}}function Od(t){!function Ul(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=Ih(s),c=a[1];cm(c,a,c.template,s)}}(t[8])}function jl(t,n,s){Ls(0),n(t,s)}const _m=(()=>Promise.resolve(null))();function pf(t){return t[7]||(t[7]=[])}function Xp(t){return t.cleanup||(t.cleanup=[])}function mf(t,n){const s=t[9],a=s?s.get(qi,null):null;a&&a.handleError(n)}function yf(t,n,s,a,c){for(let l=0;l<s.length;){const p=s[l++],E=s[l++],D=n[p],P=t.data[p];null!==P.setInput?P.setInput(D,c,a,E):D[E]=c}}function ba(t,n,s){const a=Vt(n,t);!function ld(t,n,s){U(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Rd(t,n,s){let a=s?t.styles:null,c=s?t.classes:null,l=0;if(null!==n)for(let p=0;p<n.length;p++){const E=n[p];"number"==typeof E?l=E:1==l?c=ke(c,E):2==l&&(a=ke(a,E+": "+n[++p]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}const $l=new Yr("INJECTOR",-1);class Nd{get(n,s=js){if(s===js){const a=new Error(`NullInjectorError: No provider for ${xe(n)}!`);throw a.name="NullInjectorError",a}return s}}const Gl=new Yr("Set Injector scope."),Hl={},vf={};let _f;function Pd(){return void 0===_f&&(_f=new Nd),_f}function Ef(t,n=null,s=null,a){const c=kd(t,n,s,a);return c._resolveInjectorDefTypes(),c}function kd(t,n=null,s=null,a){return new eg(t,s,n||Pd(),a)}class eg{constructor(n,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];s&&gs(s,E=>this.processProvider(E,n,s)),gs([n],E=>this.processInjectorType(E,[],l)),this.records.set($l,Bc(void 0,this));const p=this.records.get(Gl);this.scope=null!=p?p.value:null,this.source=c||("object"==typeof n?null:xe(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=js,a=nt.Default){this.assertNotDestroyed();const c=pt(this),l=pn(void 0);try{if(!(a&nt.SkipSelf)){let E=this.records.get(n);if(void 0===E){const D=function bf(t){return"function"==typeof t||"object"==typeof t&&t instanceof Yr}(n)&&Ir(n);E=D&&this.injectableDefInScope(D)?Bc(wf(n),Hl):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(a&nt.Self?Pd():this.parent).get(n,s=a&nt.Optional&&s===js?null:s)}catch(p){if("NullInjectorError"===p.name){if((p[du]=p[du]||[]).unshift(xe(n)),c)throw p;return function ha(t,n,s,a){const c=t[du];throw n[ne]&&c.unshift(n[ne]),t.message=function ja(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=xe(n);if(Array.isArray(n))c=n.map(xe).join(" -> ");else if("object"==typeof n){let l=[];for(let p in n)if(n.hasOwnProperty(p)){let E=n[p];l.push(p+":"+("string"==typeof E?JSON.stringify(E):xe(E)))}c=`{${l.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(R,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[du]=null,t}(p,n,"R3InjectorError",this.source)}throw p}finally{pn(l),pt(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,c)=>n.push(xe(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,"")}processInjectorType(n,s,a){if(!(n=be(n)))return!1;let c=fr(n);const l=null==c&&n.ngModule||void 0,p=void 0===l?n:l,E=-1!==a.indexOf(p);if(void 0!==l&&(c=fr(l)),null==c)return!1;if(null!=c.imports&&!E){let B;a.push(p);try{gs(c.imports,Y=>{this.processInjectorType(Y,s,a)&&(void 0===B&&(B=[]),B.push(Y))})}finally{}if(void 0!==B)for(let Y=0;Y<B.length;Y++){const{ngModule:fe,providers:Te}=B[Y];gs(Te,Xe=>this.processProvider(Xe,fe,Te||Ze))}}this.injectorDefTypes.add(p);const D=kr(p)||(()=>new p);this.records.set(p,Bc(D,Hl));const P=c.providers;if(null!=P&&!E){const B=n;gs(P,Y=>this.processProvider(Y,B,P))}return void 0!==l&&void 0!==n.providers}processProvider(n,s,a){let c=Au(n=be(n))?n:be(n&&n.provide);const l=function Im(t,n,s){return Ld(t)?Bc(void 0,t.useValue):Bc(Fd(t),Hl)}(n);if(Au(n)||!0!==n.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Bc(void 0,Hl,!0),p.factory=()=>Si(p.multi),this.records.set(c,p)),c=n,p.multi.push(n)}this.records.set(c,l)}hydrate(n,s){return s.value===Hl&&(s.value=vf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function tg(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=be(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function wf(t){const n=Ir(t),s=null!==n?n.factory:kr(t);if(null!==s)return s;if(t instanceof Yr)throw new $e(204,"");if(t instanceof Function)return function If(t){const n=t.length;if(n>0)throw function wr(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?"),new $e(204,"");const s=function Jn(t){const n=t&&(t[Qr]||t[In]);if(n){const s=function Lr(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new $e(204,"")}function Fd(t,n,s){let a;if(Au(t)){const c=be(t);return kr(c)||wf(c)}if(Ld(t))a=()=>be(t.useValue);else if(function Df(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Si(t.deps||[]));else if(function Dm(t){return!(!t||!t.useExisting)}(t))a=()=>Ct(be(t.useExisting));else{const c=be(t&&(t.useClass||t.provide));if(!function jc(t){return!!t.deps}(t))return kr(c)||wf(c);a=()=>new c(...Si(t.deps))}return a}function Bc(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Ld(t){return null!==t&&"object"==typeof t&&De in t}function Au(t){return"function"==typeof t}let Ro=(()=>{class t{static create(s,a){var c;if(Array.isArray(s))return Ef({name:""},a,s,"");{const l=null!==(c=s.name)&&void 0!==c?c:"";return Ef({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=js,t.NULL=new Nd,t.\u0275prov=tn({token:t,providedIn:"any",factory:()=>Ct($l)}),t.__NG_ELEMENT_ID__=-1,t})();function xm(t,n){na(Ih(t)[1],Mr())}function $c(t){let n=function Sf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let c;if(Gr(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new $e(903,"");c=n.\u0275dir}if(c){if(s){a.push(c);const p=t;p.inputs=Mf(t.inputs),p.declaredInputs=Mf(t.declaredInputs),p.outputs=Mf(t.outputs);const E=c.hostBindings;E&&dg(t,E);const D=c.viewQuery,P=c.contentQueries;if(D&&Rm(t,D),P&&Nm(t,P),Ae(t.inputs,c.inputs),Ae(t.declaredInputs,c.declaredInputs),Ae(t.outputs,c.outputs),Gr(c)&&c.data.animation){const B=t.data;B.animation=(B.animation||[]).concat(c.data.animation)}}const l=c.features;if(l)for(let p=0;p<l.length;p++){const E=l[p];E&&E.ngInherit&&E(t),E===$c&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Om(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=ft(c.hostAttrs,s=ft(s,c.hostAttrs))}}(a)}function Mf(t){return t===we?{}:t===Ze?[]:t}function Rm(t,n){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{n(a,c),s(a,c)}:n}function Nm(t,n){const s=t.contentQueries;t.contentQueries=s?(a,c,l)=>{n(a,c,l),s(a,c,l)}:n}function dg(t,n){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{n(a,c),s(a,c)}:n}let Gc=null;function Su(){if(!Gc){const t=oe.Symbol;if(t&&t.iterator)Gc=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Gc=a)}}}return Gc}function rc(t){return!!zd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Su()in t)}function zd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function No(t,n,s){return t[n]=s}function Es(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function ic(t,n,s,a){const c=Es(t,n,s);return Es(t,n+1,a)||c}function qd(t,n,s,a){const c=tt();return Es(c,Fs(),n)&&(_n(),Oo(Rn(),c,t,n,s,a)),qd}function Zo(t,n,s,a,c,l,p,E){const D=tt(),P=_n(),B=t+20,Y=P.firstCreatePass?function Ms(t,n,s,a,c,l,p,E,D){const P=n.consts,B=Ca(n,t,4,p||null,Sr(P,E));Cu(n,s,B,Sr(P,D)),na(n,B);const Y=B.tViews=Fc(2,B,a,c,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,P);return null!==n.queries&&(n.queries.template(n,B),Y.queries=n.queries.embeddedTView(B)),B}(B,P,D,n,s,a,c,l,p):P.data[B];as(Y,!1);const fe=D[11].createComment("");Yu(P,D,fe,Y),Ss(fe,D),xd(D,D[B]=nc(fe,D,fe,Y)),Ar(Y)&&ec(P,D,Y),null!=p&&Ll(D,Y,E)}function Fm(t){return cn(function Ps(){return M.lFrame.contextLView}(),20+t)}function el(t,n=nt.Default){const s=tt();return null===s?Ct(t,n):J(Mr(),s,be(t),n)}function $f(){throw new Error("invalid")}function Xd(t,n,s){const a=tt();return Es(a,Fs(),n)&&function Ws(t,n,s,a,c,l,p,E){const D=Qt(n,s);let B,P=n.inputs;!E&&null!=P&&(B=P[a])?(yf(t,s,B,a,c),Rr(n)&&function dm(t,n){const s=jn(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function lm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=p?p(c,n.value||"",a):c,U(l)?l.setProperty(D,a,c):Va(a)||(D.setProperty?D.setProperty(a,c):D[a]=c))}(_n(),Rn(),a,t,n,a[11],s,!1),Xd}function Ja(t,n,s,a,c){const p=c?"class":"style";yf(t,s,n.inputs[p],p,a)}function eh(t,n,s,a){const c=tt(),l=_n(),p=20+t,E=c[11],D=c[p]=qa(E,n,function ka(){return M.lFrame.currentNamespace}()),P=l.firstCreatePass?function Eg(t,n,s,a,c,l,p){const E=n.consts,P=Ca(n,t,2,c,Sr(E,l));return Cu(n,s,P,Sr(E,p)),null!==P.attrs&&Rd(P,P.attrs,!1),null!==P.mergedAttrs&&Rd(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(p,l,c,0,n,s,a):l.data[p];as(P,!0);const B=P.mergedAttrs;null!==B&&Bt(E,D,B);const Y=P.classes;null!==Y&&Ka(E,D,Y);const fe=P.styles;null!==fe&&Lh(E,D,fe),64!=(64&P.flags)&&Yu(l,c,D,P),0===function C(){return M.lFrame.elementDepthCount}()&&Ss(D,c),function H(){M.lFrame.elementDepthCount++}(),Ar(P)&&(ec(l,c,P),function $p(t,n,s){if(Pr(n)){const c=n.directiveEnd;for(let l=n.directiveStart;l<c;l++){const p=t.data[l];p.contentQueries&&p.contentQueries(1,s[l],l)}}}(l,P,c)),null!==a&&Ll(c,P)}function Kl(){let t=Mr();io()?function Fo(){M.lFrame.isParent=!1}():(t=t.parent,as(t,!1));const n=t;!function He(){M.lFrame.elementDepthCount--}();const s=_n();s.firstCreatePass&&(na(s,t),Pr(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function yt(t){return 0!=(16&t.flags)}(n)&&Ja(s,n,tt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Kr(t){return 0!=(32&t.flags)}(n)&&Ja(s,n,tt(),n.stylesWithoutHost,!1)}function th(t,n,s,a){eh(t,n,s,a),Kl()}function wg(){return tt()}function tl(t){return!!t&&"function"==typeof t.then}function xu(t){return!!t&&"function"==typeof t.subscribe}const ac=xu;function nl(t,n,s,a){const c=tt(),l=_n(),p=Mr();return function Wm(t,n,s,a,c,l,p,E){const D=Ar(a),B=t.firstCreatePass&&Xp(t),Y=n[8],fe=pf(n);let Te=!0;if(3&a.type||E){const At=Qt(a,n),zt=E?E(At):At,it=fe.length,ln=E?hr=>E(ae(hr[a.index])):a.index;if(U(s)){let hr=null;if(!E&&D&&(hr=function zm(t,n,s,a){const c=t.cleanup;if(null!=c)for(let l=0;l<c.length-1;l+=2){const p=c[l];if(p===s&&c[l+1]===a){const E=n[7],D=c[l+2];return E.length>D?E[D]:null}"string"==typeof p&&(l+=2)}return null}(t,n,c,a.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=l,hr.__ngLastListenerFn__=l,Te=!1;else{l=Wf(a,n,Y,l,!1);const jr=s.listen(zt,c,l);fe.push(l,jr),B&&B.push(c,ln,it,it+1)}}else l=Wf(a,n,Y,l,!0),zt.addEventListener(c,l,p),fe.push(l),B&&B.push(c,ln,it,p)}else l=Wf(a,n,Y,l,!1);const Xe=a.outputs;let vt;if(Te&&null!==Xe&&(vt=Xe[c])){const At=vt.length;if(At)for(let zt=0;zt<At;zt+=2){const Qo=n[vt[zt]][vt[zt+1]].subscribe(l),ed=fe.length;fe.push(l,Qo),B&&B.push(c,a.index,ed,-(ed+1))}}}(l,c,c[11],p,t,n,!!s,a),nl}function zf(t,n,s,a){try{return!1!==s(a)}catch(c){return mf(t,c),!1}}function Wf(t,n,s,a,c){return function l(p){if(p===Function)return a;const E=2&t.flags?jn(t.index,n):n;0==(32&n[2])&&hf(E);let D=zf(n,0,a,p),P=l.__ngNextListenerFn__;for(;P;)D=zf(n,0,P,p)&&D,P=P.__ngNextListenerFn__;return c&&!1===D&&(p.preventDefault(),p.returnValue=!1),D}}function Ig(t=1){return function Go(t){return(M.lFrame.contextLView=function Ru(t,n){for(;t>0;)n=n[15],t--;return n}(t,M.lFrame.contextLView))[8]}(t)}function Zf(t,n,s,a,c){const l=t[s+1],p=null===n;let E=a?zs(l):Za(l),D=!1;for(;0!==E&&(!1===D||p);){const B=t[E+1];iy(t[E],n)&&(D=!0,t[E+1]=a?Hh(B):$h(B)),E=a?zs(B):Za(B)}D&&(t[s+1]=a?$h(l):Hh(l))}function iy(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Bs(t,n)>=0}const Zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sy(t){return t.substring(Zi.key,Zi.keyEnd)}function bg(t,n){const s=Zi.textEnd;return s===n?-1:(n=Zi.keyEnd=function Tv(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,Zi.key=n,s),Yl(t,n,s))}function Yl(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Yf(t,n,s){return Ma(t,n,s,!1),Yf}function Sg(t,n){return Ma(t,n,null,!0),Sg}function Mg(t){!function xa(t,n,s,a){const c=_n(),l=ji(2);c.firstUpdatePass&&dy(c,null,l,a);const p=tt();if(s!==wn&&Es(p,l,s)){const E=c.data[$i()];if(z(E,a)&&!ly(c,l)){let D=a?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(s=ke(D,s||"")),Ja(c,E,p,s,a)}else!function u(t,n,s,a,c,l,p,E){c===wn&&(c=Ze);let D=0,P=0,B=0<c.length?c[0]:null,Y=0<l.length?l[0]:null;for(;null!==B||null!==Y;){const fe=D<c.length?c[D+1]:void 0,Te=P<l.length?l[P+1]:void 0;let vt,Xe=null;B===Y?(D+=2,P+=2,fe!==Te&&(Xe=Y,vt=Te)):null===Y||null!==B&&B<Y?(D+=2,Xe=B):(P+=2,Xe=Y,vt=Te),null!==Xe&&h(t,n,s,a,Xe,vt,p,E),B=D<c.length?c[D]:null,Y=P<l.length?l[P]:null}}(c,E,p,p[11],p[l+1],p[l+1]=function r(t,n,s){if(null==s||""===s)return Ze;const a=[],c=ya(s);if(Array.isArray(c))for(let l=0;l<c.length;l++)t(a,c[l],!0);else if("object"==typeof c)for(const l in c)c.hasOwnProperty(l)&&t(a,l,c[l]);else"string"==typeof c&&n(a,c);return a}(t,n,s),a,l)}}(Ai,Xa,t,!0)}function Xa(t,n){for(let s=function ih(t){return function uy(t){Zi.key=0,Zi.keyEnd=0,Zi.value=0,Zi.valueEnd=0,Zi.textEnd=t.length}(t),bg(t,Yl(t,0,Zi.textEnd))}(n);s>=0;s=bg(n,s))Ai(t,sy(n),!0)}function Ma(t,n,s,a){const c=tt(),l=_n(),p=ji(2);l.firstUpdatePass&&dy(l,t,p,a),n!==wn&&Es(c,p,n)&&h(l,l.data[$i()],c,c[11],t,c[p+1]=function L(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=xe(ya(t)))),t}(n,s),a,p)}function ly(t,n){return n>=t.expandoStartIndex}function dy(t,n,s,a){const c=t.data;if(null===c[s+1]){const l=c[$i()],p=ly(t,s);z(l,a)&&null===n&&!p&&(n=!1),n=function Sv(t,n,s,a){const c=function oo(t){const n=M.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(s=e(s=i(null,t,n,s,a),n.attrs,a),l=null);else{const p=n.directiveStylingLast;if(-1===p||t[p]!==c)if(s=i(c,t,n,s,a),null===l){let D=function Mv(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==Za(a))return t[zs(a)]}(t,n,a);void 0!==D&&Array.isArray(D)&&(D=i(null,t,n,D[1],a),D=e(D,n.attrs,a),function xv(t,n,s,a){t[zs(s?n.classBindings:n.styleBindings)]=a}(t,n,a,D))}else l=function xg(t,n,s){let a;const c=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<c;l++)a=e(a,t[l].hostAttrs,s);return e(a,n.attrs,s)}(t,n,a)}return void 0!==l&&(a?n.residualClasses=l:n.residualStyles=l),s}(c,l,n,a),function Dg(t,n,s,a,c,l){let p=l?n.classBindings:n.styleBindings,E=zs(p),D=Za(p);t[a]=s;let B,P=!1;if(Array.isArray(s)){const Y=s;B=Y[1],(null===B||Bs(Y,B)>0)&&(P=!0)}else B=s;if(c)if(0!==D){const fe=zs(t[E+1]);t[a+1]=Nc(fe,E),0!==fe&&(t[fe+1]=Ml(t[fe+1],a)),t[E+1]=function jh(t,n){return 131071&t|n<<17}(t[E+1],a)}else t[a+1]=Nc(E,0),0!==E&&(t[E+1]=Ml(t[E+1],a)),E=a;else t[a+1]=Nc(D,0),0===E?E=a:t[D+1]=Ml(t[D+1],a),D=a;P&&(t[a+1]=$h(t[a+1])),Zf(t,B,a,!0),Zf(t,B,a,!1),function Cg(t,n,s,a,c){const l=c?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Bs(l,n)>=0&&(s[a+1]=Hh(s[a+1]))}(n,B,t,a,l),p=Nc(E,D),l?n.classBindings=p:n.styleBindings=p}(c,l,n,s,p,a)}}function i(t,n,s,a,c){let l=null;const p=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<p&&(l=n[E],a=e(a,l.hostAttrs,c),l!==t);)E++;return null!==t&&(s.directiveStylingLast=E),a}function e(t,n,s){const a=s?1:2;let c=-1;if(null!==n)for(let l=0;l<n.length;l++){const p=n[l];"number"==typeof p?c=p:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ai(t,p,!!s||n[++l]))}return void 0===t?null:t}function h(t,n,s,a,c,l,p,E){if(!(3&n.type))return;const D=t.data,P=D[E+1];b(function Gh(t){return 1==(1&t)}(P)?y(D,n,s,c,Za(P),p):void 0)||(b(l)||function Sl(t){return 2==(2&t)}(P)&&(l=y(D,null,s,c,E,p)),function Oc(t,n,s,a,c){const l=U(t);if(n)c?l?t.addClass(s,a):s.classList.add(a):l?t.removeClass(s,a):s.classList.remove(a);else{let p=-1===a.indexOf("-")?void 0:wa.DashCase;if(null==c)l?t.removeStyle(s,a,p):s.style.removeProperty(a);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),p|=wa.Important),l?t.setStyle(s,a,c,p):s.style.setProperty(a,c,E?"important":"")}}}(a,p,Vt($i(),s),c,l))}function y(t,n,s,a,c,l){const p=null===n;let E;for(;c>0;){const D=t[c],P=Array.isArray(D),B=P?D[1]:D,Y=null===B;let fe=s[c+1];fe===wn&&(fe=Y?Ze:void 0);let Te=Y?il(fe,a):B===a?fe:void 0;if(P&&!b(Te)&&(Te=il(D,a)),b(Te)&&(E=Te,p))return E;const Xe=t[c+1];c=p?zs(Xe):Za(Xe)}if(null!==n){let D=l?n.residualClasses:n.residualStyles;null!=D&&(E=il(D,a))}return E}function b(t){return void 0!==t}function z(t,n){return 0!=(t.flags&(n?16:32))}function se(t,n=""){const s=tt(),a=_n(),c=t+20,l=a.firstCreatePass?Ca(a,c,1,n,null):a.data[c],p=s[c]=function Il(t,n){return U(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Yu(a,s,p,l),as(l,!1)}function _e(t){return Ve("",t,""),_e}function Ve(t,n,s){const a=tt(),c=function sc(t,n,s,a){return Es(t,Fs(),s)?n+Le(s)+a:wn}(a,t,n,s);return c!==wn&&ba(a,$i(),c),Ve}const Jl=void 0;var aE=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let oh={};function fy(t){const n=function uE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Gv(n);if(s)return s;const a=n.split("-")[0];if(s=Gv(a),s)return s;if("en"===a)return aE;throw new Error(`Missing locale data for the locale "${t}".`)}function $v(t){return fy(t)[vn.PluralCase]}function Gv(t){return t in oh||(oh[t]=oe.ng&&oe.ng.common&&oe.ng.common.locales&&oe.ng.common.locales[t]),oh[t]}var vn=(()=>((vn=vn||{})[vn.LocaleId=0]="LocaleId",vn[vn.DayPeriodsFormat=1]="DayPeriodsFormat",vn[vn.DayPeriodsStandalone=2]="DayPeriodsStandalone",vn[vn.DaysFormat=3]="DaysFormat",vn[vn.DaysStandalone=4]="DaysStandalone",vn[vn.MonthsFormat=5]="MonthsFormat",vn[vn.MonthsStandalone=6]="MonthsStandalone",vn[vn.Eras=7]="Eras",vn[vn.FirstDayOfWeek=8]="FirstDayOfWeek",vn[vn.WeekendRange=9]="WeekendRange",vn[vn.DateFormat=10]="DateFormat",vn[vn.TimeFormat=11]="TimeFormat",vn[vn.DateTimeFormat=12]="DateTimeFormat",vn[vn.NumberSymbols=13]="NumberSymbols",vn[vn.NumberFormats=14]="NumberFormats",vn[vn.CurrencyCode=15]="CurrencyCode",vn[vn.CurrencySymbol=16]="CurrencySymbol",vn[vn.CurrencyName=17]="CurrencyName",vn[vn.Currencies=18]="Currencies",vn[vn.Directionality=19]="Directionality",vn[vn.PluralCase=20]="PluralCase",vn[vn.ExtraData=21]="ExtraData",vn))();const Rg="en-US";let Hv=Rg;function my(t,n,s,a,c){if(t=be(t),Array.isArray(t))for(let l=0;l<t.length;l++)my(t[l],n,s,a,c);else{const l=_n(),p=tt();let E=Au(t)?t:be(t.provide),D=Fd(t);const P=Mr(),B=1048575&P.providerIndexes,Y=P.directiveStart,fe=P.providerIndexes>>20;if(Au(t)||!t.multi){const Te=new lr(D,c,el),Xe=vy(E,n,c?B:B+fe,Y);-1===Xe?(m(Xr(P,p),l,E),yy(l,t,n.length),n.push(E),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),s.push(Te),p.push(Te)):(s[Xe]=Te,p[Xe]=Te)}else{const Te=vy(E,n,B+fe,Y),Xe=vy(E,n,B,B+fe),vt=Te>=0&&s[Te],At=Xe>=0&&s[Xe];if(c&&!At||!c&&!vt){m(Xr(P,p),l,E);const zt=function ow(t,n,s,a,c){const l=new lr(t,s,el);return l.multi=[],l.index=n,l.componentProviders=0,p_(l,c,a&&!s),l}(c?sw:iw,s.length,c,a,D);!c&&At&&(s[Xe].providerFactory=zt),yy(l,t,n.length,0),n.push(E),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),s.push(zt),p.push(zt)}else yy(l,t,Te>-1?Te:Xe,p_(s[c?Xe:Te],D,!c&&a));!c&&a&&At&&s[Xe].componentProviders++}}}function yy(t,n,s,a){const c=Au(n),l=function Cf(t){return!!t.useClass}(n);if(c||l){const D=(l?be(n.useClass):n).prototype.ngOnDestroy;if(D){const P=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const B=P.indexOf(s);-1===B?P.push(s,[a,D]):P[B+1].push(a,D)}else P.push(s,D)}}}function p_(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function vy(t,n,s,a){for(let c=s;c<a;c++)if(n[c]===t)return c;return-1}function iw(t,n,s,a){return _y(this.multi,[])}function sw(t,n,s,a){const c=this.multi;let l;if(this.providerFactory){const p=this.providerFactory.componentProviders,E=Wt(s,s[1],this.providerFactory.index,a);l=E.slice(0,p),_y(c,l);for(let D=p;D<E.length;D++)l.push(E[D])}else l=[],_y(c,l);return l}function _y(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function g_(t,n=[]){return s=>{s.providersResolver=(a,c)=>function rw(t,n,s){const a=_n();if(a.firstCreatePass){const c=Gr(t);my(s,a.data,a.blueprint,c,!0),my(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class m_{}class cw{resolveComponentFactory(n){throw function uw(t){const n=Error(`No component factory found for ${xe(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let np=(()=>{class t{}return t.NULL=new cw,t})();function lw(){return uh(Mr(),tt())}function uh(t,n){return new rp(Qt(t,n))}let rp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=lw,t})();function dw(t){return t instanceof rp?t.nativeElement:t}class v_{}let hw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function pw(){const t=tt(),s=jn(Mr().index,t);return function fw(t){return t[11]}(yr(s)?s:t)}(),t})(),gw=(()=>{class t{}return t.\u0275prov=tn({token:t,providedIn:"root",factory:()=>null}),t})();class __{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const E_=new __("13.1.3"),Ey={};function Lg(t,n,s,a,c=!1){for(;null!==s;){const l=n[s.index];if(null!==l&&a.push(ae(l)),Cr(l))for(let E=10;E<l.length;E++){const D=l[E],P=D[1].firstChild;null!==P&&Lg(D[1],D,P,a)}const p=s.type;if(8&p)Lg(t,n,s.child,a);else if(32&p){const E=ad(s,n);let D;for(;D=E();)a.push(D)}else if(16&p){const E=Tl(n,s);if(Array.isArray(E))a.push(...E);else{const D=Ri(n[16]);Lg(D[1],D,E,a,!0)}}s=c?s.projectionNext:s.next}return a}class ip{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Lg(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Cr(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(dd(n,a),ho(s,a))}this._attachedToViewContainer=!1}Mh(this._lView[1],this._lView)}onDestroy(n){bd(this._lView[1],this._lView,null,n)}markForCheck(){hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ym(t,n,s){Oa(!0);try{Bl(t,n,s)}finally{Oa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new $e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ep(t,n){vu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new $e(902,"");this._appRef=n}}class mw extends ip{constructor(n){super(n),this._view=n}detectChanges(){Od(this._view)}checkNoChanges(){!function vm(t){Oa(!0);try{Od(t)}finally{Oa(!1)}}(this._view)}get context(){return null}}class w_ extends np{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=mr(n);return new wy(s,this.ngModule)}}function I_(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const vw=new Yr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dh});class wy extends m_{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function Rp(t){return t.map(im).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return I_(this.componentDef.inputs)}get outputs(){return I_(this.componentDef.outputs)}create(n,s,a,c){const l=(c=c||this.ngModule)?function _w(t,n){return{get:(s,a,c)=>{const l=t.get(s,Ey,c);return l!==Ey||a===Ey?l:n.get(s,a,c)}}}(n,c.injector):n,p=l.get(v_,O),E=l.get(gw,null),D=p.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",B=a?function nf(t,n,s){if(U(t))return t.selectRootElement(n,s===Xn.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(D,a,this.componentDef.encapsulation):qa(p.createRenderer(null,this.componentDef),P,function yw(t){const n=t.toLowerCase();return"svg"===n?vi:"math"===n?"http://www.w3.org/1998/MathML/":null}(P)),Y=this.componentDef.onPush?576:528,fe=function cg(t,n){return{components:[],scheduler:t||Dh,clean:_m,playerHandler:n||null,flags:0}}(),Te=Fc(0,null,null,1,0,null,null,null,null,null),Xe=Du(null,Te,fe,Y,null,null,p,D,E,l);let vt,At;jo(Xe);try{const zt=function ag(t,n,s,a,c,l){const p=s[1];s[20]=t;const D=Ca(p,20,2,"#host",null),P=D.mergedAttrs=n.hostAttrs;null!==P&&(Rd(D,P,!0),null!==t&&(Bt(c,t,P),null!==D.classes&&Ka(c,t,D.classes),null!==D.styles&&Lh(c,t,D.styles)));const B=a.createRenderer(t,n),Y=Du(s,tc(n),null,n.onPush?64:16,s[20],D,a,B,l||null,null);return p.firstCreatePass&&(m(Xr(D,s),p,n.type),Ad(p,D),Zp(D,s.length,1)),xd(s,Y),s[20]=Y}(B,this.componentDef,Xe,p,D);if(B)if(a)Bt(D,B,["ng-version",E_.full]);else{const{attrs:it,classes:ln}=function Iu(t){const n=[],s=[];let a=1,c=2;for(;a<t.length;){let l=t[a];if("string"==typeof l)2===c?""!==l&&n.push(l,t[++a]):8===c&&s.push(l);else{if(!Ko(c))break;c=l}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);it&&Bt(D,B,it),ln&&ln.length>0&&Ka(D,B,ln.join(" "))}if(At=Yn(Te,20),void 0!==s){const it=At.projection=[];for(let ln=0;ln<this.ngContentSelectors.length;ln++){const hr=s[ln];it.push(null!=hr?Array.from(hr):null)}}vt=function ug(t,n,s,a,c){const l=s[1],p=function qp(t,n,s){const a=Mr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Sd(t,a,n,Xu(t,n,1,null),s));const c=Wt(n,t,a.directiveStart,a);Ss(c,n);const l=Qt(a,n);return l&&Ss(l,n),c}(l,s,n);if(a.components.push(p),t[8]=p,c&&c.forEach(D=>D(p,n)),n.contentQueries){const D=Mr();n.contentQueries(1,p,D.directiveStart)}const E=Mr();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Vs(E.index),Td(s[1],E,0,E.directiveStart,E.directiveEnd,n),af(n,p)),p}(zt,this.componentDef,Xe,fe,[xm]),Fl(Te,Xe,null)}finally{ta()}return new ww(this.componentType,vt,uh(At,Xe),Xe,At)}}class ww extends class aw{}{constructor(n,s,a,c,l){super(),this.location=a,this._rootLView=c,this._tNode=l,this.instance=s,this.hostView=this.changeDetectorRef=new mw(c),this.componentType=n}get injector(){return new Qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ch{}class D_{}const lh=new Map;class T_ extends ch{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w_(this);const a=Nt(n);this._bootstrapComponents=yo(a.bootstrap),this._r3Injector=kd(n,s,[{provide:ch,useValue:this},{provide:np,useValue:this.componentFactoryResolver}],xe(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Ro.THROW_IF_NOT_FOUND,a=nt.Default){return n===Ro||n===ch||n===$l?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Iy extends D_{constructor(n){super(),this.moduleType=n,null!==Nt(n)&&function Dw(t){const n=new Set;!function s(a){const c=Nt(a,!0),l=c.id;null!==l&&(function C_(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${xe(n)} vs ${xe(n.name)}`)}(l,lh.get(l),a),lh.set(l,a));const p=yo(c.imports);for(const E of p)n.has(E)||(n.add(E),s(E))}(t)}(n)}create(n){return new T_(this.moduleType,n)}}function A_(t,n,s,a){return function S_(t,n,s,a,c,l){const p=n+s;return Es(t,p,c)?No(t,p+1,l?a.call(l,c):a(c)):sp(t,p+1)}(tt(),qr(),t,n,s,a)}function sp(t,n){const s=t[n];return s===wn?void 0:s}function x_(t,n,s,a,c,l,p,E){const D=n+s;return function Wd(t,n,s,a,c){const l=ic(t,n,s,a);return Es(t,n+2,c)||l}(t,D,c,l,p)?No(t,D+3,E?a.call(E,c,l,p):a(c,l,p)):sp(t,D+3)}function N_(t,n){const s=_n();let a;const c=t+20;s.firstCreatePass?(a=function Nw(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}}(n,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const l=a.factory||(a.factory=kr(a.type)),p=pn(el);try{const E=Wo(!1),D=l();return Wo(E),function km(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,tt(),c,D),D}finally{pn(p)}}function P_(t,n,s,a){const c=t+20,l=tt(),p=cn(l,c);return op(l,c)?function M_(t,n,s,a,c,l,p){const E=n+s;return ic(t,E,c,l)?No(t,E+2,p?a.call(p,c,l):a(c,l)):sp(t,E+2)}(l,qr(),n,p.transform,s,a,p):p.transform(s,a)}function k_(t,n,s,a,c){const l=t+20,p=tt(),E=cn(p,l);return op(p,l)?x_(p,qr(),n,E.transform,s,a,c,E):E.transform(s,a,c)}function op(t,n){return t[1].data[n].pure}function Dy(t){return n=>{setTimeout(t,void 0,n)}}const Ou=class Lw extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var c,l,p;let E=n,D=s||(()=>null),P=a;if(n&&"object"==typeof n){const Y=n;E=null===(c=Y.next)||void 0===c?void 0:c.bind(Y),D=null===(l=Y.error)||void 0===l?void 0:l.bind(Y),P=null===(p=Y.complete)||void 0===p?void 0:p.bind(Y)}this.__isAsync&&(D=Dy(D),E&&(E=Dy(E)),P&&(P=Dy(P)));const B=super.subscribe({next:E,error:D,complete:P});return n instanceof k.w0&&n.add(B),B}};function Vw(){return this._results[Su()]()}class Cy{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Su(),a=Cy.prototype;a[s]||(a[s]=Vw)}get changes(){return this._changes||(this._changes=new Ou)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const c=Ti(n);(this._changesDetected=!function rl(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],l=n[a];if(s&&(c=s(c),l=s(l)),l!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ap=(()=>{class t{}return t.__NG_ELEMENT_ID__=jw,t})();const Uw=ap,Bw=class extends Uw{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=Du(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(a[19]=l.createEmbeddedView(s)),Fl(s,a,n),new ip(a)}};function jw(){return Vg(Mr(),tt())}function Vg(t,n){return 4&t.type?new Bw(n,t,uh(t,n)):null}let Ug=(()=>{class t{}return t.__NG_ELEMENT_ID__=$w,t})();function $w(){return V_(Mr(),tt())}const Gw=Ug,F_=class extends Gw{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return uh(this._hostTNode,this._hostLView)}get injector(){return new Qn(this._hostTNode,this._hostLView)}get parentInjector(){const n=v(this._hostTNode,this._hostLView);if(ct(n)){const s=Zs(n,this._hostLView),a=Fr(n);return new Qn(s[1].data[a+8],s)}return new Qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=L_(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const c=n.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(n,s,a,c,l){const p=n&&!function Qs(t){return"function"==typeof t}(n);let E;if(p)E=s;else{const Y=s||{};E=Y.index,a=Y.injector,c=Y.projectableNodes,l=Y.ngModuleRef}const D=p?n:new wy(mr(n)),P=a||this.parentInjector;if(!l&&null==D.ngModule&&P){const Y=P.get(ch,null);Y&&(l=Y)}const B=D.create(P,c,void 0,l);return this.insert(B.hostView,E),B}insert(n,s){const a=n._lView,c=a[1];if(function Bi(t){return Cr(t[3])}(a)){const B=this.indexOf(n);if(-1!==B)this.detach(B);else{const Y=a[3],fe=new F_(Y,Y[6],Y[3]);fe.detach(fe.indexOf(n))}}const l=this._adjustIndex(s),p=this._lContainer;!function Sh(t,n,s,a){const c=10+a,l=s.length;a>0&&(s[c-1][4]=n),a<l-10?(n[4]=s[c],Hr(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const p=n[17];null!==p&&s!==p&&function wp(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(p,n);const E=n[19];null!==E&&E.insertView(t),n[2]|=128}(c,a,p,l);const E=pd(l,p),D=a[11],P=xc(D,p[7]);return null!==P&&function Dl(t,n,s,a,c,l){a[0]=c,a[6]=n,vu(t,a,s,1,c,l)}(c,p[6],D,a,P,E),n.attachToViewContainerRef(),Hr(by(p),l,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=L_(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=dd(this._lContainer,s);a&&(ho(by(this._lContainer),s),Mh(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=dd(this._lContainer,s);return a&&null!=ho(by(this._lContainer),s)?new ip(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function L_(t){return t[8]}function by(t){return t[8]||(t[8]=[])}function V_(t,n){let s;const a=n[t.index];if(Cr(a))s=a;else{let c;if(8&t.type)c=ae(a);else{const l=n[11];c=l.createComment("");const p=Qt(t,n);Zu(l,xc(l,p),c,function Oh(t,n){return U(t)?t.nextSibling(n):n.nextSibling}(l,p),!1)}n[t.index]=s=nc(a,n,c,t),xd(n,s)}return new F_(s,t,n)}class Ty{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ay{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let l=0;l<a;l++){const p=s.getByIndex(l);c.push(this.queries[p.indexInDeclarationView].clone())}return new Ay(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==q_(n,s).matches&&this.queries[s].setDirty()}}class U_{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class Sy{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,l=this.getByIndex(a).embeddedTView(n,c);l&&(l.indexInDeclarationView=a,null!==s?s.push(l):s=[l])}return null!==s?new Sy(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class My{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new My(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const l=a[c];this.matchTNodeWithReadOption(n,s,Ww(s,l)),this.matchTNodeWithReadOption(n,s,Mt(s,n,l,!1,!1))}else a===ap?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Mt(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===rp||c===Ug||c===ap&&4&s.type)this.addMatch(s.index,-2);else{const l=Mt(s,n,c,!1,!1);null!==l&&this.addMatch(s.index,l)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function Ww(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function Kw(t,n,s,a){return-1===s?function qw(t,n){return 11&t.type?uh(t,n):4&t.type?Vg(t,n):null}(n,t):-2===s?function Zw(t,n,s){return s===rp?uh(n,t):s===ap?Vg(n,t):s===Ug?V_(n,t):void 0}(t,n,a):Wt(t,t[1],s,n)}function B_(t,n,s,a){const c=n[19].queries[a];if(null===c.matches){const l=t.data,p=s.matches,E=[];for(let D=0;D<p.length;D+=2){const P=p[D];E.push(P<0?null:Kw(n,l[P],p[D+1],s.metadata.read))}c.matches=E}return c.matches}function xy(t,n,s,a){const c=t.queries.getByIndex(s),l=c.matches;if(null!==l){const p=B_(t,n,c,s);for(let E=0;E<l.length;E+=2){const D=l[E];if(D>0)a.push(p[E/2]);else{const P=l[E+1],B=n[-D];for(let Y=10;Y<B.length;Y++){const fe=B[Y];fe[17]===fe[3]&&xy(fe[1],fe,P,a)}if(null!==B[9]){const Y=B[9];for(let fe=0;fe<Y.length;fe++){const Te=Y[fe];xy(Te[1],Te,P,a)}}}}}return a}function j_(t){const n=tt(),s=_n(),a=Na();Ls(a+1);const c=q_(s,a);if(t.dirty&&Wn(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const l=c.crossesNgTemplate?xy(s,n,a,[]):B_(s,n,c,a);t.reset(l,dw),t.notifyOnChanges()}return!0}return!1}function $_(t,n,s){const a=_n();a.firstCreatePass&&(W_(a,new U_(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),z_(a,tt(),n)}function G_(t,n,s,a){const c=_n();if(c.firstCreatePass){const l=Mr();W_(c,new U_(n,s,a),l.index),function Qw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}z_(c,tt(),s)}function H_(){return function Yw(t,n){return t[19].queries[n].queryList}(tt(),Na())}function z_(t,n,s){const a=new Cy(4==(4&s));bd(t,n,a,a.destroy),null===n[19]&&(n[19]=new Ay),n[19].queries.push(new Ty(a))}function W_(t,n,s){null===t.queries&&(t.queries=new Sy),t.queries.track(new My(n,s))}function q_(t,n){return t.queries.getByIndex(n)}function $g(...t){}const Fy=new Yr("Application Initializer");let hh=(()=>{class t{constructor(s){this.appInits=s,this.resolve=$g,this.reject=$g,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const l=this.appInits[c]();if(tl(l))s.push(l);else if(ac(l)){const p=new Promise((E,D)=>{l.subscribe({complete:E,error:D})});s.push(p)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Ct(Fy,8))},t.\u0275prov=tn({token:t,factory:t.\u0275fac}),t})();const d0=new Yr("AppId"),mI={provide:d0,useFactory:function gI(){return`${Ly()}${Ly()}${Ly()}`},deps:[]};function Ly(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h0=new Yr("Platform Initializer"),f0=new Yr("Platform ID"),p0=new Yr("appBootstrapListener");let g0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=tn({token:t,factory:t.\u0275fac}),t})();const Gg=new Yr("LocaleId"),m0=new Yr("DefaultCurrencyCode");class yI{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Vy=(()=>{class t{compileModuleSync(s){return new Iy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),l=yo(Nt(s).declarations).reduce((p,E)=>{const D=mr(E);return D&&p.push(new wy(D)),p},[]);return new yI(a,l)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=tn({token:t,factory:t.\u0275fac}),t})();const _I=(()=>Promise.resolve(0))();function Uy(t){"undefined"==typeof Zone?_I.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Yo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ou(!1),this.onMicrotaskEmpty=new Ou(!1),this.onStable=new Ou(!1),this.onError=new Ou(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function EI(){let t=oe.requestAnimationFrame,n=oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function DI(t){const n=()=>{!function II(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jy(t),t.isCheckStableRunning=!0,By(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,l,p,E)=>{try{return y0(t),s.invokeTask(c,l,p,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),v0(t)}},onInvoke:(s,a,c,l,p,E,D)=>{try{return y0(t),s.invoke(c,l,p,E,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),v0(t)}},onHasTask:(s,a,c,l)=>{s.hasTask(c,l),a===c&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,jy(t),By(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(s,a,c,l)=>(s.handleError(c,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,c){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+c,n,wI,$g,$g);try{return l.runTask(p,s,a)}finally{l.cancelTask(p)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const wI={};function By(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function y0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function v0(t){t._nesting--,By(t)}class CI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ou,this.onMicrotaskEmpty=new Ou,this.onStable=new Ou,this.onError=new Ou}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,c){return n.apply(s,a)}}let _0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yo.assertNotInAngularZone(),Uy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let l=-1;a&&a>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:l,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(Ct(Yo))},t.\u0275prov=tn({token:t,factory:t.\u0275fac}),t})(),E0=(()=>{class t{constructor(){this._applications=new Map,$y.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return $y.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=tn({token:t,factory:t.\u0275fac}),t})();class bI{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function TI(t){$y=t}let eu,$y=new bI;const w0=new Yr("AllowMultipleToken");class MI{constructor(n,s){this.name=n,this.token=s}}function I0(t,n,s=[]){const a=`Platform: ${n}`,c=new Yr(a);return(l=[])=>{let p=D0();if(!p||p.injector.get(w0,!1))if(t)t(s.concat(l).concat({provide:c,useValue:!0}));else{const E=s.concat(l).concat({provide:c,useValue:!0},{provide:Gl,useValue:"platform"});!function xI(t){if(eu&&!eu.destroyed&&!eu.injector.get(w0,!1))throw new $e(400,"");eu=t.get(C0);const n=t.get(h0,null);n&&n.forEach(s=>s())}(Ro.create({providers:E,name:a}))}return function OI(t){const n=D0();if(!n)throw new $e(401,"");return n}()}}function D0(){return eu&&!eu.destroyed?eu:null}let C0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const E=function RI(t,n){let s;return s="noop"===t?new CI:("zone.js"===t?void 0:t)||new Yo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),D=[{provide:Yo,useValue:E}];return E.run(()=>{const P=Ro.create({providers:D,parent:this.injector,name:s.moduleType.name}),B=s.create(P),Y=B.injector.get(qi,null);if(!Y)throw new $e(402,"");return E.runOutsideAngular(()=>{const fe=E.onError.subscribe({next:Te=>{Y.handleError(Te)}});B.onDestroy(()=>{Gy(this._modules,B),fe.unsubscribe()})}),function NI(t,n,s){try{const a=s();return tl(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(Y,E,()=>{const fe=B.injector.get(hh);return fe.runInitializers(),fe.donePromise.then(()=>(function hE(t){jt(t,"Expected localeId to be defined"),"string"==typeof t&&(Hv=t.toLowerCase().replace(/_/g,"-"))}(B.injector.get(Gg,Rg)||Rg),this._moduleDoBootstrap(B),B))})})}bootstrapModule(s,a=[]){const c=b0({},a);return function AI(t,n,s){const a=new Iy(s);return Promise.resolve(a)}(0,0,s).then(l=>this.bootstrapModuleFactory(l,c))}_moduleDoBootstrap(s){const a=s.injector.get(cp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new $e(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Ct(Ro))},t.\u0275prov=tn({token:t,factory:t.\u0275fac}),t})();function b0(t,n){return Array.isArray(n)?n.reduce(b0,t):Object.assign(Object.assign({},t),n)}let cp=(()=>{class t{constructor(s,a,c,l,p){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=l,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new ue.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),D=new ue.y(P=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Yo.assertNotInAngularZone(),Uy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Yo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{B.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,me.T)(E,D.pipe(function Me(t={}){const{connector:n=(()=>new g.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return l=>{let p=null,E=null,D=null,P=0,B=!1,Y=!1;const fe=()=>{null==E||E.unsubscribe(),E=null},Te=()=>{fe(),p=D=null,B=Y=!1},Xe=()=>{const vt=p;Te(),null==vt||vt.unsubscribe()};return(0,ce.e)((vt,At)=>{P++,!Y&&!B&&fe();const zt=D=null!=D?D:n();At.add(()=>{P--,0===P&&!Y&&!B&&(E=Z(Xe,c))}),zt.subscribe(At),p||(p=new Ce.Hp({next:it=>zt.next(it),error:it=>{Y=!0,fe(),E=Z(Te,s,it),zt.error(it)},complete:()=>{B=!0,fe(),E=Z(Te,a),zt.complete()}}),(0,he.D)(vt).subscribe(p))})(l)}}()))}bootstrap(s,a){if(!this._initStatus.done)throw new $e(405,"");let c;c=s instanceof m_?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const l=function SI(t){return t.isBoundToModule}(c)?void 0:this._injector.get(ch),E=c.create(Ro.NULL,[],a||c.selector,l),D=E.location.nativeElement,P=E.injector.get(_0,null),B=P&&E.injector.get(E0);return P&&B&&B.registerApplication(D,P),E.onDestroy(()=>{this.detachView(E.hostView),Gy(this.components,E),B&&B.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new $e(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Gy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(p0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Ct(Yo),Ct(Ro),Ct(qi),Ct(np),Ct(hh))},t.\u0275prov=tn({token:t,factory:t.\u0275fac}),t})();function Gy(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let A0=!0;function kI(){A0=!1}let FI=(()=>{class t{}return t.__NG_ELEMENT_ID__=LI,t})();function LI(t){return function VI(t,n,s){if(Rr(t)&&!s){const a=jn(t.index,n);return new ip(a,a)}return 47&t.type?new ip(n[16],n):null}(Mr(),tt(),16==(16&t))}class P0{constructor(){}supports(n){return rc(n)}create(n){return new HI(n)}}const GI=(t,n)=>n;class HI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||GI}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,c=0,l=null;for(;s||a;){const p=!a||s&&s.currentIndex<F0(a,c,l)?s:a,E=F0(p,c,l),D=p.currentIndex;if(p===a)c--,a=a._nextRemoved;else if(s=s._next,null==p.previousIndex)c++;else{l||(l=[]);const P=E-c,B=D-c;if(P!=B){for(let fe=0;fe<P;fe++){const Te=fe<l.length?l[fe]:l[fe]=0,Xe=Te+fe;B<=Xe&&Xe<P&&(l[fe]=Te+1)}l[p.previousIndex]=B-P}}E!==D&&n(p,E,D)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!rc(n))throw new $e(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,l,p,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let E=0;E<this.length;E++)l=n[E],p=this._trackByFn(E,l),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,l,p,E)),Object.is(s.item,l)||this._addIdentityChange(s,l)):(s=this._mismatch(s,l,p,E),a=!0),s=s._next}else c=0,function Rf(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Su()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,E=>{p=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,E,p,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,p,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,c){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,l,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,l,c)):n=this._addAfter(new zI(s,a),l,c),n}_verifyReinsertion(n,s,a,c){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==l?n=this._reinsertAfter(l,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,l=n._nextRemoved;return null===c?this._removalsHead=l:c._nextRemoved=l,null===l?this._removalsTail=c:l._prevRemoved=c,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new k0),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class zI{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class k0{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new WI,this.map.set(s,a)),a.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function F0(t,n,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+n+c}class L0{constructor(){}supports(n){return n instanceof Map||zd(n)}create(){return new qI}}class qI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||zd(n)))throw new $e(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const l=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,l)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const l=c._prev,p=c._next;return l&&(l._next=p),p&&(p._prev=l),c._next=null,c._prev=null,c}const a=new KI(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class KI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function V0(){return new zg([new P0])}let zg=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||V0()),deps:[[t,new So,new ms]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new $e(901,"")}}return t.\u0275prov=tn({token:t,providedIn:"root",factory:V0}),t})();function U0(){return new Wg([new L0])}let Wg=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||U0()),deps:[[t,new So,new ms]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new $e(901,"")}}return t.\u0275prov=tn({token:t,providedIn:"root",factory:U0}),t})();const ZI=[new L0],QI=new zg([new P0]),JI=new Wg(ZI),XI=I0(null,"core",[{provide:f0,useValue:"unknown"},{provide:C0,deps:[Ro]},{provide:E0,deps:[]},{provide:g0,deps:[]}]),iD=[{provide:cp,useClass:cp,deps:[Yo,Ro,qi,np,hh]},{provide:vw,deps:[Yo],useFactory:function sD(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:hh,useClass:hh,deps:[[new ms,Fy]]},{provide:Vy,useClass:Vy,deps:[]},mI,{provide:zg,useFactory:function eD(){return QI},deps:[]},{provide:Wg,useFactory:function tD(){return JI},deps:[]},{provide:Gg,useFactory:function nD(t){return t||function rD(){return"undefined"!=typeof $localize&&$localize.locale||Rg}()},deps:[[new $s(Gg),new ms,new So]]},{provide:m0,useValue:"USD"}];let oD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Ct(cp))},t.\u0275mod=sn({type:t}),t.\u0275inj=xr({providers:iD}),t})()},2382:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Fj:()=>Re,qu:()=>Ji,NI:()=>Ht,u:()=>ds,sg:()=>Vi,u5:()=>vr,wO:()=>Ge,qQ:()=>ai,JJ:()=>an,JL:()=>pn,wV:()=>Di,UX:()=>Bi,Q7:()=>x,kI:()=>ee,_Y:()=>Ar});var g=F(4893),k=F(9808),ue=F(8306),me=F(4742),he=F(8421),Pe=F(3269),Ce=F(5403),ce=F(3268),Me=F(1810),X=F(8996),Ae=F(4004);let xe=(()=>{class M{constructor(C,H){this._renderer=C,this._elementRef=H,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(C,H){this._renderer.setProperty(this._elementRef.nativeElement,C,H)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return M.\u0275fac=function(C){return new(C||M)(g.Y36(g.Qsj),g.Y36(g.SBq))},M.\u0275dir=g.lG2({type:M}),M})(),ke=(()=>{class M extends xe{}return M.\u0275fac=function(){let S;return function(H){return(S||(S=g.n5z(M)))(H||M)}}(),M.\u0275dir=g.lG2({type:M,features:[g.qOj]}),M})();const rt=new g.OlP("NgValueAccessor"),ot={provide:rt,useExisting:(0,g.Gpc)(()=>Re),multi:!0},$e=new g.OlP("CompositionEventMode");let Re=(()=>{class M extends xe{constructor(C,H,He){super(C,H),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qe(){const M=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(C){this.setProperty("value",null==C?"":C)}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return M.\u0275fac=function(C){return new(C||M)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36($e,8))},M.\u0275dir=g.lG2({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,H){1&C&&g.NdJ("input",function(Rt){return H._handleInput(Rt.target.value)})("blur",function(){return H.onTouched()})("compositionstart",function(){return H._compositionStart()})("compositionend",function(Rt){return H._compositionEnd(Rt.target.value)})},features:[g._Bn([ot]),g.qOj]}),M})();function Le(M){return null==M||0===M.length}function Ye(M){return null!=M&&"number"==typeof M.length}const Tt=new g.OlP("NgValidators"),Be=new g.OlP("NgAsyncValidators"),Yt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ee{static min(S){return re(S)}static max(S){return function ie(M){return S=>{if(Le(S.value)||Le(M))return null;const C=parseFloat(S.value);return!isNaN(C)&&C>M?{max:{max:M,actual:S.value}}:null}}(S)}static required(S){return ye(S)}static requiredTrue(S){return function Oe(M){return!0===M.value?null:{required:!0}}(S)}static email(S){return function te(M){return Le(M.value)||Yt.test(M.value)?null:{email:!0}}(S)}static minLength(S){return gt(S)}static maxLength(S){return function Dt(M){return S=>Ye(S.value)&&S.value.length>M?{maxlength:{requiredLength:M,actualLength:S.value.length}}:null}(S)}static pattern(S){return function An(M){if(!M)return dt;let S,C;return"string"==typeof M?(C="","^"!==M.charAt(0)&&(C+="^"),C+=M,"$"!==M.charAt(M.length-1)&&(C+="$"),S=new RegExp(C)):(C=M.toString(),S=M),H=>{if(Le(H.value))return null;const He=H.value;return S.test(He)?null:{pattern:{requiredPattern:C,actualValue:He}}}}(S)}static nullValidator(S){return null}static compose(S){return fn(S)}static composeAsync(S){return br(S)}}function re(M){return S=>{if(Le(S.value)||Le(M))return null;const C=parseFloat(S.value);return!isNaN(C)&&C<M?{min:{min:M,actual:S.value}}:null}}function ye(M){return Le(M.value)?{required:!0}:null}function gt(M){return S=>Le(S.value)||!Ye(S.value)?null:S.value.length<M?{minlength:{requiredLength:M,actualLength:S.value.length}}:null}function dt(M){return null}function Zt(M){return null!=M}function Dn(M){const S=(0,g.QGY)(M)?(0,X.D)(M):M;return(0,g.CqO)(S),S}function qt(M){let S={};return M.forEach(C=>{S=null!=C?Object.assign(Object.assign({},S),C):S}),0===Object.keys(S).length?null:S}function Cn(M,S){return S.map(C=>C(M))}function Lt(M){return M.map(S=>function jt(M){return!M.validate}(S)?S:C=>S.validate(C))}function fn(M){if(!M)return null;const S=M.filter(Zt);return 0==S.length?null:function(C){return qt(Cn(C,S))}}function Fn(M){return null!=M?fn(Lt(M)):null}function br(M){if(!M)return null;const S=M.filter(Zt);return 0==S.length?null:function(C){return function Z(...M){const S=(0,Pe.jO)(M),{args:C,keys:H}=(0,me.D)(M),He=new ue.y(Rt=>{const{length:ur}=C;if(!ur)return void Rt.complete();const En=new Array(ur);let tt=ur,_n=ur;for(let hs=0;hs<ur;hs++){let Mr=!1;(0,he.Xf)(C[hs]).subscribe(new Ce.Q(Rt,Ns=>{Mr||(Mr=!0,_n--),En[hs]=Ns},()=>tt--,void 0,()=>{(!tt||!Mr)&&(_n||Rt.next(H?(0,Me.n)(H,En):En),Rt.complete())}))}});return S?He.pipe((0,ce.Z)(S)):He}(Cn(C,S).map(Dn)).pipe((0,Ae.U)(qt))}}function tn(M){return null!=M?br(Lt(M)):null}function Ln(M,S){return null===M?[S]:Array.isArray(M)?[...M,S]:[M,S]}function xr(M){return M._rawValidators}function Ir(M){return M._rawAsyncValidators}function Nr(M){return M?Array.isArray(M)?M:[M]:[]}function Jn(M,S){return Array.isArray(M)?M.includes(S):M===S}function Lr(M,S){const C=Nr(S);return Nr(M).forEach(He=>{Jn(C,He)||C.push(He)}),C}function fr(M,S){return Nr(S).filter(C=>!Jn(M,C))}class Qr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Fn(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,C){return!!this.control&&this.control.hasError(S,C)}getError(S,C){return this.control?this.control.getError(S,C):null}}class Sn extends Qr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class In extends Qr{get formDirective(){return null}get path(){return null}}class Kt{constructor(S){this._cd=S}is(S){var C,H,He;return"submitted"===S?!!(null===(C=this._cd)||void 0===C?void 0:C.submitted):!!(null===(He=null===(H=this._cd)||void 0===H?void 0:H.control)||void 0===He?void 0:He[S])}}let an=(()=>{class M extends Kt{constructor(C){super(C)}}return M.\u0275fac=function(C){return new(C||M)(g.Y36(Sn,2))},M.\u0275dir=g.lG2({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,H){2&C&&g.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))},features:[g.qOj]}),M})(),pn=(()=>{class M extends Kt{constructor(C){super(C)}}return M.\u0275fac=function(C){return new(C||M)(g.Y36(In,10))},M.\u0275dir=g.lG2({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,H){2&C&&g.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))("ng-submitted",H.is("submitted"))},features:[g.qOj]}),M})();function gn(M,S){Ut(M,S),S.valueAccessor.writeValue(M.value),function Vr(M,S){S.valueAccessor.registerOnChange(C=>{M._pendingValue=C,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&ar(M,S)})}(M,S),function si(M,S){const C=(H,He)=>{S.valueAccessor.writeValue(H),He&&S.viewToModelUpdate(H)};M.registerOnChange(C),S._registerOnDestroy(()=>{M._unregisterOnChange(C)})}(M,S),function wi(M,S){S.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&ar(M,S),"submit"!==M.updateOn&&M.markAsTouched()})}(M,S),function Gn(M,S){if(S.valueAccessor.setDisabledState){const C=H=>{S.valueAccessor.setDisabledState(H)};M.registerOnDisabledChange(C),S._registerOnDestroy(()=>{M._unregisterOnDisabledChange(C)})}}(M,S)}function On(M,S,C=!0){const H=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(H),S.valueAccessor.registerOnTouched(H)),dn(M,S),M&&(S._invokeOnDestroyCallbacks(),M._registerOnCollectionChange(()=>{}))}function Vn(M,S){M.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(S)})}function Ut(M,S){const C=xr(M);null!==S.validator?M.setValidators(Ln(C,S.validator)):"function"==typeof C&&M.setValidators([C]);const H=Ir(M);null!==S.asyncValidator?M.setAsyncValidators(Ln(H,S.asyncValidator)):"function"==typeof H&&M.setAsyncValidators([H]);const He=()=>M.updateValueAndValidity();Vn(S._rawValidators,He),Vn(S._rawAsyncValidators,He)}function dn(M,S){let C=!1;if(null!==M){if(null!==S.validator){const He=xr(M);if(Array.isArray(He)&&He.length>0){const Rt=He.filter(ur=>ur!==S.validator);Rt.length!==He.length&&(C=!0,M.setValidators(Rt))}}if(null!==S.asyncValidator){const He=Ir(M);if(Array.isArray(He)&&He.length>0){const Rt=He.filter(ur=>ur!==S.asyncValidator);Rt.length!==He.length&&(C=!0,M.setAsyncValidators(Rt))}}}const H=()=>{};return Vn(S._rawValidators,H),Vn(S._rawAsyncValidators,H),C}function ar(M,S){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}function ht(M,S){const C=M.indexOf(S);C>-1&&M.splice(C,1)}const Hn="VALID",mn="INVALID",Dr="PENDING",Zn="DISABLED";function ki(M){return(Mn(M)?M.validators:M)||null}function er(M){return Array.isArray(M)?Fn(M):M||null}function _t(M,S){return(Mn(S)?S.asyncValidators:M)||null}function rn(M){return Array.isArray(M)?tn(M):M||null}function Mn(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}const zn=M=>M instanceof Ht,tr=M=>M instanceof $r,_r=M=>M instanceof kn;function Or(M){return zn(M)?M.value:M.getRawValue()}function Un(M,S){const C=tr(M),H=M.controls;if(!(C?Object.keys(H):H).length)throw new g.vHH(1e3,"");if(!H[S])throw new g.vHH(1001,"")}function gi(M,S){tr(M),M._forEachChild((H,He)=>{if(void 0===S[He])throw new g.vHH(1002,"")})}class Jr{constructor(S,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=S,this._rawAsyncValidators=C,this._composedValidatorFn=er(this._rawValidators),this._composedAsyncValidatorFn=rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===Hn}get invalid(){return this.status===mn}get pending(){return this.status==Dr}get disabled(){return this.status===Zn}get enabled(){return this.status!==Zn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._rawValidators=S,this._composedValidatorFn=er(S)}setAsyncValidators(S){this._rawAsyncValidators=S,this._composedAsyncValidatorFn=rn(S)}addValidators(S){this.setValidators(Lr(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(Lr(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(fr(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(fr(S,this._rawAsyncValidators))}hasValidator(S){return Jn(this._rawValidators,S)}hasAsyncValidator(S){return Jn(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=Dr,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const C=this._parentMarkedDirty(S.onlySelf);this.status=Zn,this.errors=null,this._forEachChild(H=>{H.disable(Object.assign(Object.assign({},S),{onlySelf:!0}))}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},S),{skipPristineCheck:C})),this._onDisabledChange.forEach(H=>H(!0))}enable(S={}){const C=this._parentMarkedDirty(S.onlySelf);this.status=Hn,this._forEachChild(H=>{H.enable(Object.assign(Object.assign({},S),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},S),{skipPristineCheck:C})),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hn||this.status===Dr)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zn:Hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=Dr,this._hasOwnPendingAsyncValidator=!0;const C=Dn(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,C={}){this.errors=S,this._updateControlsErrors(!1!==C.emitEvent)}get(S){return function yn(M,S,C){if(null==S||(Array.isArray(S)||(S=S.split(C)),Array.isArray(S)&&0===S.length))return null;let H=M;return S.forEach(He=>{H=tr(H)?H.controls.hasOwnProperty(He)?H.controls[He]:null:_r(H)&&H.at(He)||null}),H}(this,S,".")}getError(S,C){const H=C?this.get(C):this;return H&&H.errors?H.errors[S]:null}hasError(S,C){return!!this.getError(S,C)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Zn:this.errors?mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dr)?Dr:this._anyControlsHaveStatus(mn)?mn:Hn}_anyControlsHaveStatus(S){return this._anyControls(C=>C.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_isBoxedValue(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){Mn(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ht extends Jr{constructor(S=null,C,H){super(ki(C),_t(H,C)),this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(S,C={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(S,C={}){this.setValue(S,C)}reset(S=null,C={}){this._applyFormState(S),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){ht(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){ht(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){this._isBoxedValue(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}}class $r extends Jr{constructor(S,C,H){super(ki(C),_t(H,C)),this.controls=S,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,C){return this.controls[S]?this.controls[S]:(this.controls[S]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(S,C,H={}){this.registerControl(S,C),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(S,C={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(S,C,H={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],C&&this.registerControl(S,C),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,C={}){gi(this,S),Object.keys(S).forEach(H=>{Un(this,H),this.controls[H].setValue(S[H],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(S,C={}){null!=S&&(Object.keys(S).forEach(H=>{this.controls[H]&&this.controls[H].patchValue(S[H],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(S={},C={}){this._forEachChild((H,He)=>{H.reset(S[He],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(S,C,H)=>(S[H]=Or(C),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(C,H)=>!!H._syncPendingControls()||C);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(C=>{const H=this.controls[C];H&&S(H,C)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const C of Object.keys(this.controls)){const H=this.controls[C];if(this.contains(C)&&S(H))return!0}return!1}_reduceValue(){return this._reduceChildren({},(S,C,H)=>((C.enabled||this.disabled)&&(S[H]=C.value),S))}_reduceChildren(S,C){let H=S;return this._forEachChild((He,Rt)=>{H=C(H,He,Rt)}),H}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class kn extends Jr{constructor(S,C,H){super(ki(C),_t(H,C)),this.controls=S,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[S]}push(S,C={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}insert(S,C,H={}){this.controls.splice(S,0,C),this._registerControl(C),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(S,C={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),this.updateValueAndValidity({emitEvent:C.emitEvent})}setControl(S,C,H={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),C&&(this.controls.splice(S,0,C),this._registerControl(C)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,C={}){gi(this,S),S.forEach((H,He)=>{Un(this,He),this.at(He).setValue(H,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(S,C={}){null!=S&&(S.forEach((H,He)=>{this.at(He)&&this.at(He).patchValue(H,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(S=[],C={}){this._forEachChild((H,He)=>{H.reset(S[He],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this.controls.map(S=>Or(S))}clear(S={}){this.controls.length<1||(this._forEachChild(C=>C._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_syncPendingControls(){let S=this.controls.reduce((C,H)=>!!H._syncPendingControls()||C,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((C,H)=>{S(C,H)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(C=>C.enabled&&S(C))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}}let Ar=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275dir=g.lG2({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})();const Gr={provide:rt,useExisting:(0,g.Gpc)(()=>Di),multi:!0};let Di=(()=>{class M extends ke{writeValue(C){this.setProperty("value",null==C?"":C)}registerOnChange(C){this.onChange=H=>{C(""==H?null:parseFloat(H))}}}return M.\u0275fac=function(){let S;return function(H){return(S||(S=g.n5z(M)))(H||M)}}(),M.\u0275dir=g.lG2({type:M,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(C,H){1&C&&g.NdJ("input",function(Rt){return H.onChange(Rt.target.value)})("blur",function(){return H.onTouched()})},features:[g._Bn([Gr]),g.qOj]}),M})(),ts=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=g.oAB({type:M}),M.\u0275inj=g.cJS({}),M})();const Os=new g.OlP("NgModelWithFormControlWarning"),cs={provide:In,useExisting:(0,g.Gpc)(()=>Vi)};let Vi=(()=>{class M extends In{constructor(C,H){super(),this.validators=C,this.asyncValidators=H,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(C),this._setAsyncValidators(H)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const H=this.form.get(C.path);return gn(H,C),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),H}getControl(C){return this.form.get(C.path)}removeControl(C){On(C.control||null,C,!1),ht(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,H){this.form.get(C.path).setValue(H)}onSubmit(C){return this.submitted=!0,function mr(M,S){M._syncPendingControls(),S.forEach(C=>{const H=C.control;"submit"===H.updateOn&&H._pendingChange&&(C.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(C),!1}onReset(){this.resetForm()}resetForm(C){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const H=C.control,He=this.form.get(C.path);H!==He&&(On(H||null,C),zn(He)&&(gn(He,C),C.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const H=this.form.get(C.path);(function pr(M,S){Ut(M,S)})(H,C),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const H=this.form.get(C.path);H&&function sn(M,S){return dn(M,S)}(H,C)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ut(this.form,this),this._oldForm&&dn(this._oldForm,this)}_checkFormPresent(){}}return M.\u0275fac=function(C){return new(C||M)(g.Y36(Tt,10),g.Y36(Be,10))},M.\u0275dir=g.lG2({type:M,selectors:[["","formGroup",""]],hostBindings:function(C,H){1&C&&g.NdJ("submit",function(Rt){return H.onSubmit(Rt)})("reset",function(){return H.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([cs]),g.qOj,g.TTD]}),M})();const Qi={provide:Sn,useExisting:(0,g.Gpc)(()=>ds)};let ds=(()=>{class M extends Sn{constructor(C,H,He,Rt,ur){super(),this._ngModelWarningConfig=ur,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(H),this._setAsyncValidators(He),this.valueAccessor=function Et(M,S){if(!S)return null;let C,H,He;return Array.isArray(S),S.forEach(Rt=>{Rt.constructor===Re?C=Rt:function Pi(M){return Object.getPrototypeOf(M.constructor)===ke}(Rt)?H=Rt:He=Rt}),He||H||C||null}(0,Rt)}set isDisabled(C){}ngOnChanges(C){this._added||this._setUpControl(),function gr(M,S){if(!M.hasOwnProperty("model"))return!1;const C=M.model;return!!C.isFirstChange()||!Object.is(S,C.currentValue)}(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return function St(M,S){return[...S.path,M]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return M._ngModelWarningSentOnce=!1,M.\u0275fac=function(C){return new(C||M)(g.Y36(In,13),g.Y36(Tt,10),g.Y36(Be,10),g.Y36(rt,10),g.Y36(Os,8))},M.\u0275dir=g.lG2({type:M,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Qi]),g.qOj,g.TTD]}),M})();let Bn=(()=>{class M{constructor(){this._validator=dt}ngOnChanges(C){if(this.inputName in C){const H=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(H),this._validator=this._enabled?this.createValidator(H):dt,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275dir=g.lG2({type:M,features:[g.TTD]}),M})();const Eo={provide:Tt,useExisting:(0,g.Gpc)(()=>ai),multi:!0};let ai=(()=>{class M extends Bn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=C=>function Tn(M){return"number"==typeof M?M:parseFloat(M)}(C),this.createValidator=C=>re(C)}}return M.\u0275fac=function(){let S;return function(H){return(S||(S=g.n5z(M)))(H||M)}}(),M.\u0275dir=g.lG2({type:M,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(C,H){2&C&&g.uIk("min",H._enabled?H.min:null)},inputs:{min:"min"},features:[g._Bn([Eo]),g.qOj]}),M})();const os={provide:Tt,useExisting:(0,g.Gpc)(()=>x),multi:!0};let x=(()=>{class M{constructor(){this._required=!1}get required(){return this._required}set required(C){this._required=null!=C&&!1!==C&&"false"!=`${C}`,this._onChange&&this._onChange()}validate(C){return this.required?ye(C):null}registerOnValidatorChange(C){this._onChange=C}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275dir=g.lG2({type:M,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,H){2&C&&g.uIk("required",H.required?"":null)},inputs:{required:"required"},features:[g._Bn([os])]}),M})();const ae={provide:Tt,useExisting:(0,g.Gpc)(()=>Ge),multi:!0};let Ge=(()=>{class M extends Bn{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=C=>function Pt(M){return"number"==typeof M?M:parseInt(M,10)}(C),this.createValidator=C=>gt(C)}}return M.\u0275fac=function(){let S;return function(H){return(S||(S=g.n5z(M)))(H||M)}}(),M.\u0275dir=g.lG2({type:M,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(C,H){2&C&&g.uIk("minlength",H._enabled?H.minlength:null)},inputs:{minlength:"minlength"},features:[g._Bn([ae]),g.qOj]}),M})(),Wn=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=g.oAB({type:M}),M.\u0275inj=g.cJS({imports:[[ts]]}),M})(),vr=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=g.oAB({type:M}),M.\u0275inj=g.cJS({imports:[Wn]}),M})(),Bi=(()=>{class M{static withConfig(C){return{ngModule:M,providers:[{provide:Os,useValue:C.warnOnNgModelWithFormControl}]}}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=g.oAB({type:M}),M.\u0275inj=g.cJS({imports:[Wn]}),M})(),Ji=(()=>{class M{group(C,H=null){const He=this._reduceControls(C);let En,Rt=null,ur=null;return null!=H&&(function Sr(M){return void 0!==M.asyncValidators||void 0!==M.validators||void 0!==M.updateOn}(H)?(Rt=null!=H.validators?H.validators:null,ur=null!=H.asyncValidators?H.asyncValidators:null,En=null!=H.updateOn?H.updateOn:void 0):(Rt=null!=H.validator?H.validator:null,ur=null!=H.asyncValidator?H.asyncValidator:null)),new $r(He,{asyncValidators:ur,updateOn:En,validators:Rt})}control(C,H,He){return new Ht(C,H,He)}array(C,H,He){const Rt=C.map(ur=>this._createControl(ur));return new kn(Rt,H,He)}_reduceControls(C){const H={};return Object.keys(C).forEach(He=>{H[He]=this._createControl(C[He])}),H}_createControl(C){return zn(C)||tr(C)||_r(C)?C:Array.isArray(C)?this.control(C[0],C.length>1?C[1]:null,C.length>2?C[2]:null):this.control(C)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac,providedIn:Bi}),M})()},5332:(Ft,Ue,F)=>{"use strict";F.d(Ue,{F0:()=>qn,rH:()=>La,yS:()=>Gi,Bz:()=>ze,lC:()=>vi});var g=F(4893),k=F(8306),ue=F(4742),me=F(8996),he=F(4671),Pe=F(3268),Ce=F(3269),ce=F(1810),Me=F(5403),Z=F(9672);function xe(w,v,m){w?(0,Z.f)(m,w,v):v()}const rt=(0,F(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var Je=F(9646),be=F(1135),ot=F(7272),qe=F(9770),$e=F(515),Re=F(4033),Le=F(7579),Ye=F(4482);function Be(w,v,m,A,N){return(V,J)=>{let le=m,We=v,xt=0;V.subscribe(new Me.Q(J,Mt=>{const Wt=xt++;We=le?w(We,Mt,Wt):(le=!0,Mt),A&&J.next(We)},N&&(()=>{le&&J.next(We),J.complete()})))}}function Yt(w,v){return(0,Ye.e)(Be(w,v,arguments.length>=2,!0))}var ee=F(8421);function re(w){return(0,Ye.e)((v,m)=>{let V,A=null,N=!1;A=v.subscribe(new Me.Q(m,void 0,void 0,J=>{V=(0,ee.Xf)(w(J,re(w)(v))),A?(A.unsubscribe(),A=null,V.subscribe(m)):N=!0})),N&&(A.unsubscribe(),A=null,V.subscribe(m))})}var ie=F(5577),ye=F(576);function Oe(w,v){return(0,ye.m)(v)?(0,ie.z)(w,v,1):(0,ie.z)(w,1)}var te=F(9300);function gt(w){return w<=0?()=>$e.E:(0,Ye.e)((v,m)=>{let A=[];v.subscribe(new Me.Q(m,N=>{A.push(N),w<A.length&&A.shift()},()=>{for(const N of A)m.next(N);m.complete()},void 0,()=>{A=null}))})}function Dt(w=An){return(0,Ye.e)((v,m)=>{let A=!1;v.subscribe(new Me.Q(m,N=>{A=!0,m.next(N)},()=>A?m.complete():m.error(w())))})}function An(){return new rt}function dt(w){return(0,Ye.e)((v,m)=>{let A=!1;v.subscribe(new Me.Q(m,N=>{A=!0,m.next(N)},()=>{A||m.next(w),m.complete()}))})}var Dn=F(5698);function qt(w,v){const m=arguments.length>=2;return A=>A.pipe(w?(0,te.h)((N,V)=>w(N,V,A)):he.y,(0,Dn.q)(1),m?dt(v):Dt(()=>new rt))}var jt=F(4004),Lt=F(3900),fn=F(8505),Fn=F(8343),br=F(8189),tn=F(9808);class Ln{constructor(v,m){this.id=v,this.url=m}}class xr extends Ln{constructor(v,m,A="imperative",N=null){super(v,m),this.navigationTrigger=A,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ir extends Ln{constructor(v,m,A){super(v,m),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nr extends Ln{constructor(v,m,A){super(v,m),this.reason=A}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jn extends Ln{constructor(v,m,A){super(v,m),this.error=A}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lr extends Ln{constructor(v,m,A,N){super(v,m),this.urlAfterRedirects=A,this.state=N}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr extends Ln{constructor(v,m,A,N){super(v,m),this.urlAfterRedirects=A,this.state=N}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends Ln{constructor(v,m,A,N,V){super(v,m),this.urlAfterRedirects=A,this.state=N,this.shouldActivate=V}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sn extends Ln{constructor(v,m,A,N){super(v,m),this.urlAfterRedirects=A,this.state=N}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In extends Ln{constructor(v,m,A,N){super(v,m),this.urlAfterRedirects=A,this.state=N}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nt{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bn{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(v,m,A){this.routerEvent=v,this.position=m,this.anchor=A}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const et="primary";class bt{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m[0]:m}return null}getAll(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Tr(w){return new bt(w)}const Wr="ngNavigationCancelingError";function Xn(w){const v=Error("NavigationCancelingError: "+w);return v[Wr]=!0,v}function or(w,v,m){const A=m.path.split("/");if(A.length>w.length||"full"===m.pathMatch&&(v.hasChildren()||A.length<w.length))return null;const N={};for(let V=0;V<A.length;V++){const J=A[V],le=w[V];if(J.startsWith(":"))N[J.substring(1)]=le;else if(J!==le.path)return null}return{consumed:w.slice(0,A.length),posParams:N}}function de(w,v){const m=w?Object.keys(w):void 0,A=v?Object.keys(v):void 0;if(!m||!A||m.length!=A.length)return!1;let N;for(let V=0;V<m.length;V++)if(N=m[V],!oe(w[N],v[N]))return!1;return!0}function oe(w,v){if(Array.isArray(w)&&Array.isArray(v)){if(w.length!==v.length)return!1;const m=[...w].sort(),A=[...v].sort();return m.every((N,V)=>A[V]===N)}return w===v}function ve(w){return Array.prototype.concat.apply([],w)}function je(w){return w.length>0?w[w.length-1]:null}function Ze(w,v){for(const m in w)w.hasOwnProperty(m)&&v(w[m],m)}function St(w){return(0,g.CqO)(w)?w:(0,g.QGY)(w)?(0,me.D)(Promise.resolve(w)):(0,Je.of)(w)}const On={exact:function dn(w,v,m){if(!gr(w.segments,v.segments)||!si(w.segments,v.segments,m)||w.numberOfChildren!==v.numberOfChildren)return!1;for(const A in v.children)if(!w.children[A]||!dn(w.children[A],v.children[A],m))return!1;return!0},subset:wi},Vn={exact:function Ut(w,v){return de(w,v)},subset:function Vr(w,v){return Object.keys(v).length<=Object.keys(w).length&&Object.keys(v).every(m=>oe(w[m],v[m]))},ignored:()=>!0};function Gn(w,v,m){return On[m.paths](w.root,v.root,m.matrixParams)&&Vn[m.queryParams](w.queryParams,v.queryParams)&&!("exact"===m.fragment&&w.fragment!==v.fragment)}function wi(w,v,m){return ar(w,v,v.segments,m)}function ar(w,v,m,A){if(w.segments.length>m.length){const N=w.segments.slice(0,m.length);return!(!gr(N,m)||v.hasChildren()||!si(N,m,A))}if(w.segments.length===m.length){if(!gr(w.segments,m)||!si(w.segments,m,A))return!1;for(const N in v.children)if(!w.children[N]||!wi(w.children[N],v.children[N],A))return!1;return!0}{const N=m.slice(0,w.segments.length),V=m.slice(w.segments.length);return!!(gr(w.segments,N)&&si(w.segments,N,A)&&w.children[et])&&ar(w.children[et],v,V,A)}}function si(w,v,m){return v.every((A,N)=>Vn[m](w[N].parameters,A.parameters))}class pr{constructor(v,m,A){this.root=v,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return ht.serialize(this)}}class sn{constructor(v,m){this.segments=v,this.children=m,this.parent=null,Ze(m,(A,N)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nt(this)}}class Ii{constructor(v,m){this.path=v,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Tr(this.parameters)),this._parameterMap}toString(){return er(this)}}function gr(w,v){return w.length===v.length&&w.every((m,A)=>m.path===v[A].path)}class mr{}class Et{parse(v){const m=new gi(v);return new pr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(v){const m=`/${un(v.root,!0)}`,A=function rn(w){const v=Object.keys(w).map(m=>{const A=w[m];return Array.isArray(A)?A.map(N=>`${mn(m)}=${mn(N)}`).join("&"):`${mn(m)}=${mn(A)}`}).filter(m=>!!m);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${m}${A}${"string"==typeof v.fragment?`#${function Dr(w){return encodeURI(w)}(v.fragment)}`:""}`}}const ht=new Et;function Nt(w){return w.segments.map(v=>er(v)).join("/")}function un(w,v){if(!w.hasChildren())return Nt(w);if(v){const m=w.children[et]?un(w.children[et],!1):"",A=[];return Ze(w.children,(N,V)=>{V!==et&&A.push(`${V}:${un(N,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function Pi(w,v){let m=[];return Ze(w.children,(A,N)=>{N===et&&(m=m.concat(v(A,N)))}),Ze(w.children,(A,N)=>{N!==et&&(m=m.concat(v(A,N)))}),m}(w,(A,N)=>N===et?[un(w.children[et],!1)]:[`${N}:${un(A,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[et]?`${Nt(w)}/${m[0]}`:`${Nt(w)}/(${m.join("//")})`}}function Hn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mn(w){return Hn(w).replace(/%3B/gi,";")}function Zn(w){return Hn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yn(w){return decodeURIComponent(w)}function ki(w){return yn(w.replace(/\+/g,"%20"))}function er(w){return`${Zn(w.path)}${function _t(w){return Object.keys(w).map(v=>`;${Zn(v)}=${Zn(w[v])}`).join("")}(w.parameters)}`}const Mn=/^[^\/()?;=#]+/;function zn(w){const v=w.match(Mn);return v?v[0]:""}const tr=/^[^=?&#]+/,Or=/^[^&#]+/;class gi{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(v.length>0||Object.keys(m).length>0)&&(A[et]=new sn(v,m)),A}parseSegment(){const v=zn(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new Ii(yn(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const m=zn(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const N=zn(this.remaining);N&&(A=N,this.capture(A))}v[yn(m)]=yn(A)}parseQueryParam(v){const m=function _r(w){const v=w.match(tr);return v?v[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const J=function Un(w){const v=w.match(Or);return v?v[0]:""}(this.remaining);J&&(A=J,this.capture(A))}const N=ki(m),V=ki(A);if(v.hasOwnProperty(N)){let J=v[N];Array.isArray(J)||(J=[J],v[N]=J),J.push(V)}else v[N]=V}parseParens(v){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=zn(this.remaining),N=this.remaining[A.length];if("/"!==N&&")"!==N&&";"!==N)throw new Error(`Cannot parse url '${this.url}'`);let V;A.indexOf(":")>-1?(V=A.substr(0,A.indexOf(":")),this.capture(V),this.capture(":")):v&&(V=et);const J=this.parseChildren();m[V]=1===Object.keys(J).length?J[et]:new sn([],J),this.consumeOptional("//")}return m}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class Jr{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const m=this.pathFromRoot(v);return m.length>1?m[m.length-2]:null}children(v){const m=Ht(v,this._root);return m?m.children.map(A=>A.value):[]}firstChild(v){const m=Ht(v,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(v){const m=$r(v,this._root);return m.length<2?[]:m[m.length-2].children.map(N=>N.value).filter(N=>N!==v)}pathFromRoot(v){return $r(v,this._root).map(m=>m.value)}}function Ht(w,v){if(w===v.value)return v;for(const m of v.children){const A=Ht(w,m);if(A)return A}return null}function $r(w,v){if(w===v.value)return[v];for(const m of v.children){const A=$r(w,m);if(A.length)return A.unshift(v),A}return[]}class kn{constructor(v,m){this.value=v,this.children=m}toString(){return`TreeNode(${this.value})`}}function Ee(w){const v={};return w&&w.children.forEach(m=>v[m.value.outlet]=m),v}class pe extends Jr{constructor(v,m){super(v),this.snapshot=m,yr(this,v)}toString(){return this.snapshot.toString()}}function Ie(w,v){const m=function Qe(w,v){const J=new nr([],{},{},"",{},et,v,null,w.root,-1,{});return new hn("",new kn(J,[]))}(w,v),A=new be.X([new Ii("",{})]),N=new be.X({}),V=new be.X({}),J=new be.X({}),le=new be.X(""),We=new ut(A,N,J,le,V,et,v,m.root);return We.snapshot=m.root,new pe(new kn(We,[]),m)}class ut{constructor(v,m,A,N,V,J,le,We){this.url=v,this.params=m,this.queryParams=A,this.fragment=N,this.data=V,this.outlet=J,this.component=le,this._futureSnapshot=We}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(v=>Tr(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(v=>Tr(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function It(w,v="emptyOnly"){const m=w.pathFromRoot;let A=0;if("always"!==v)for(A=m.length-1;A>=1;){const N=m[A],V=m[A-1];if(N.routeConfig&&""===N.routeConfig.path)A--;else{if(V.component)break;A--}}return function Gt(w){return w.reduce((v,m)=>({params:Object.assign(Object.assign({},v.params),m.params),data:Object.assign(Object.assign({},v.data),m.data),resolve:Object.assign(Object.assign({},v.resolve),m._resolvedData)}),{params:{},data:{},resolve:{}})}(m.slice(A))}class nr{constructor(v,m,A,N,V,J,le,We,xt,Mt,Wt){this.url=v,this.params=m,this.queryParams=A,this.fragment=N,this.data=V,this.outlet=J,this.component=le,this.routeConfig=We,this._urlSegment=xt,this._lastPathIndex=Mt,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hn extends Jr{constructor(v,m){super(m),this.url=v,yr(this,m)}toString(){return Cr(this._root)}}function yr(w,v){v.value._routerState=w,v.children.forEach(m=>yr(w,m))}function Cr(w){const v=w.children.length>0?` { ${w.children.map(Cr).join(", ")} } `:"";return`${w.value}${v}`}function Pr(w){if(w.snapshot){const v=w.snapshot,m=w._futureSnapshot;w.snapshot=m,de(v.queryParams,m.queryParams)||w.queryParams.next(m.queryParams),v.fragment!==m.fragment&&w.fragment.next(m.fragment),de(v.params,m.params)||w.params.next(m.params),function Ei(w,v){if(w.length!==v.length)return!1;for(let m=0;m<w.length;++m)if(!de(w[m],v[m]))return!1;return!0}(v.url,m.url)||w.url.next(m.url),de(v.data,m.data)||w.data.next(m.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Rr(w,v){const m=de(w.params,v.params)&&function pi(w,v){return gr(w,v)&&w.every((m,A)=>de(m.parameters,v[A].parameters))}(w.url,v.url);return m&&!(!w.parent!=!v.parent)&&(!w.parent||Rr(w.parent,v.parent))}function Gr(w,v,m){if(m&&w.shouldReuseRoute(v.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=v.value;const N=function Di(w,v,m){return v.children.map(A=>{for(const N of m.children)if(w.shouldReuseRoute(A.value,N.value.snapshot))return Gr(w,A,N);return Gr(w,A)})}(w,v,m);return new kn(A,N)}{if(w.shouldAttach(v.value)){const V=w.retrieve(v.value);if(null!==V){const J=V.route;return J.value._futureSnapshot=v.value,J.children=v.children.map(le=>Gr(w,le)),J}}const A=function Ci(w){return new ut(new be.X(w.url),new be.X(w.params),new be.X(w.queryParams),new be.X(w.fragment),new be.X(w.data),w.outlet,w.component,w)}(v.value),N=v.children.map(V=>Gr(w,V));return new kn(A,N)}}function ts(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function ns(w){return"object"==typeof w&&null!=w&&w.outlets}function rs(w,v,m,A,N){let V={};return A&&Ze(A,(J,le)=>{V[le]=Array.isArray(J)?J.map(We=>`${We}`):`${J}`}),new pr(m.root===w?v:Fi(m.root,w,v),V,N)}function Fi(w,v,m){const A={};return Ze(w.children,(N,V)=>{A[V]=N===v?m:Fi(N,v,m)}),new sn(w.segments,A)}class is{constructor(v,m,A){if(this.isAbsolute=v,this.numberOfDoubleDots=m,this.commands=A,v&&A.length>0&&ts(A[0]))throw new Error("Root segment cannot have matrix parameters");const N=A.find(ns);if(N&&N!==je(A))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ss{constructor(v,m,A){this.segmentGroup=v,this.processChildren=m,this.index=A}}function Cs(w,v,m){if(w||(w=new sn([],{})),0===w.segments.length&&w.hasChildren())return mi(w,v,m);const A=function ls(w,v,m){let A=0,N=v;const V={match:!1,pathIndex:0,commandIndex:0};for(;N<w.segments.length;){if(A>=m.length)return V;const J=w.segments[N],le=m[A];if(ns(le))break;const We=`${le}`,xt=A<m.length-1?m[A+1]:null;if(N>0&&void 0===We)break;if(We&&xt&&"object"==typeof xt&&void 0===xt.outlets){if(!ds(We,xt,J))return V;A+=2}else{if(!ds(We,{},J))return V;A++}N++}return{match:!0,pathIndex:N,commandIndex:A}}(w,v,m),N=m.slice(A.commandIndex);if(A.match&&A.pathIndex<w.segments.length){const V=new sn(w.segments.slice(0,A.pathIndex),{});return V.children[et]=new sn(w.segments.slice(A.pathIndex),w.children),mi(V,0,N)}return A.match&&0===N.length?new sn(w.segments,{}):A.match&&!w.hasChildren()?Ur(w,v,m):A.match?mi(w,0,N):Ur(w,v,m)}function mi(w,v,m){if(0===m.length)return new sn(w.segments,{});{const A=function Vi(w){return ns(w[0])?w[0].outlets:{[et]:w}}(m),N={};return Ze(A,(V,J)=>{"string"==typeof V&&(V=[V]),null!==V&&(N[J]=Cs(w.children[J],v,V))}),Ze(w.children,(V,J)=>{void 0===A[J]&&(N[J]=V)}),new sn(w.segments,N)}}function Ur(w,v,m){const A=w.segments.slice(0,v);let N=0;for(;N<m.length;){const V=m[N];if(ns(V)){const We=bi(V.outlets);return new sn(A,We)}if(0===N&&ts(m[0])){A.push(new Ii(w.segments[v].path,Qi(m[0]))),N++;continue}const J=ns(V)?V.outlets[et]:`${V}`,le=N<m.length-1?m[N+1]:null;J&&le&&ts(le)?(A.push(new Ii(J,Qi(le))),N+=2):(A.push(new Ii(J,{})),N++)}return new sn(A,{})}function bi(w){const v={};return Ze(w,(m,A)=>{"string"==typeof m&&(m=[m]),null!==m&&(v[A]=Ur(new sn([],{}),0,m))}),v}function Qi(w){const v={};return Ze(w,(m,A)=>v[A]=`${m}`),v}function ds(w,v,m){return w==m.path&&de(v,m.parameters)}class oi{constructor(v,m,A,N){this.routeReuseStrategy=v,this.futureState=m,this.currState=A,this.forwardEvent=N}activate(v){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,v),Pr(this.futureState.root),this.activateChildRoutes(m,A,v)}deactivateChildRoutes(v,m,A){const N=Ee(m);v.children.forEach(V=>{const J=V.value.outlet;this.deactivateRoutes(V,N[J],A),delete N[J]}),Ze(N,(V,J)=>{this.deactivateRouteAndItsChildren(V,A)})}deactivateRoutes(v,m,A){const N=v.value,V=m?m.value:null;if(N===V)if(N.component){const J=A.getContext(N.outlet);J&&this.deactivateChildRoutes(v,m,J.children)}else this.deactivateChildRoutes(v,m,A);else V&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(v,m){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,m):this.deactivateRouteAndOutlet(v,m)}detachAndStoreRouteSubtree(v,m){const A=m.getContext(v.value.outlet),N=A&&v.value.component?A.children:m,V=Ee(v);for(const J of Object.keys(V))this.deactivateRouteAndItsChildren(V[J],N);if(A&&A.outlet){const J=A.outlet.detach(),le=A.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:J,route:v,contexts:le})}}deactivateRouteAndOutlet(v,m){const A=m.getContext(v.value.outlet),N=A&&v.value.component?A.children:m,V=Ee(v);for(const J of Object.keys(V))this.deactivateRouteAndItsChildren(V[J],N);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(v,m,A){const N=Ee(m);v.children.forEach(V=>{this.activateRoutes(V,N[V.value.outlet],A),this.forwardEvent(new sr(V.value.snapshot))}),v.children.length&&this.forwardEvent(new an(v.value.snapshot))}activateRoutes(v,m,A){const N=v.value,V=m?m.value:null;if(Pr(N),N===V)if(N.component){const J=A.getOrCreateContext(N.outlet);this.activateChildRoutes(v,m,J.children)}else this.activateChildRoutes(v,m,A);else if(N.component){const J=A.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const le=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),J.children.onOutletReAttached(le.contexts),J.attachRef=le.componentRef,J.route=le.route.value,J.outlet&&J.outlet.attach(le.componentRef,le.route.value),Pr(le.route.value),this.activateChildRoutes(v,null,J.children)}else{const le=function Rs(w){for(let v=w.parent;v;v=v.parent){const m=v.routeConfig;if(m&&m._loadedConfig)return m._loadedConfig;if(m&&m.component)return null}return null}(N.snapshot),We=le?le.module.componentFactoryResolver:null;J.attachRef=null,J.route=N,J.resolver=We,J.outlet&&J.outlet.activateWith(N,We),this.activateChildRoutes(v,null,J.children)}}else this.activateChildRoutes(v,null,A)}}class kr{constructor(v,m){this.routes=v,this.module=m}}function yi(w){return"function"==typeof w}function K(w){return w instanceof pr}const Pt=Symbol("INITIAL_VALUE");function Tn(){return(0,Lt.w)(w=>function X(...w){const v=(0,Ce.yG)(w),m=(0,Ce.jO)(w),{args:A,keys:N}=(0,ue.D)(w);if(0===A.length)return(0,me.D)([],v);const V=new k.y(function Ae(w,v,m=he.y){return A=>{xe(v,()=>{const{length:N}=w,V=new Array(N);let J=N,le=N;for(let We=0;We<N;We++)xe(v,()=>{const xt=(0,me.D)(w[We],v);let Mt=!1;xt.subscribe(new Me.Q(A,Wt=>{V[We]=Wt,Mt||(Mt=!0,le--),le||A.next(m(V.slice()))},()=>{--J||A.complete()}))},A)},A)}}(A,v,N?J=>(0,ce.n)(N,J):he.y));return m?V.pipe((0,Pe.Z)(m)):V}(w.map(v=>v.pipe((0,Dn.q)(1),function Tt(...w){const v=(0,Ce.yG)(w);return(0,Ye.e)((m,A)=>{(v?(0,ot.z)(w,m,v):(0,ot.z)(w,m)).subscribe(A)})}(Pt)))).pipe(Yt((v,m)=>{let A=!1;return m.reduce((N,V,J)=>N!==Pt?N:(V===Pt&&(A=!0),A||!1!==V&&J!==m.length-1&&!K(V)?N:V),v)},Pt),(0,te.h)(v=>v!==Pt),(0,jt.U)(v=>K(v)?v:!0===v),(0,Dn.q)(1)))}class Bn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Er,this.attachRef=null}}class Er{constructor(){this.contexts=new Map}onChildOutletCreated(v,m){const A=this.getOrCreateContext(v);A.outlet=m,this.contexts.set(v,A)}onChildOutletDestroyed(v){const m=this.getContext(v);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let m=this.getContext(v);return m||(m=new Bn,this.contexts.set(v,m)),m}getContext(v){return this.contexts.get(v)||null}}let vi=(()=>{class w{constructor(m,A,N,V,J){this.parentContexts=m,this.location=A,this.resolver=N,this.changeDetector=J,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=V||et,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=m;const J=(A=A||this.resolver).resolveComponentFactory(m._futureSnapshot.routeConfig.component),le=this.parentContexts.getOrCreateContext(this.name).children,We=new Eo(m,le,this.location.injector);this.activated=this.location.createComponent(J,this.location.length,We),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(m){return new(m||w)(g.Y36(Er),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},w.\u0275dir=g.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),w})();class Eo{constructor(v,m,A){this.route=v,this.childContexts=m,this.parent=A}get(v,m){return v===ut?this.route:v===Er?this.childContexts:this.parent.get(v,m)}}let ai=(()=>{class w{}return w.\u0275fac=function(m){return new(m||w)},w.\u0275cmp=g.Xpm({type:w,selectors:[["ng-component"]],decls:1,vars:0,template:function(m,A){1&m&&g._UZ(0,"router-outlet")},directives:[vi],encapsulation:2}),w})();function os(w,v=""){for(let m=0;m<w.length;m++){const A=w[m];ui(A,x(v,A))}}function ui(w,v){w.children&&os(w.children,v)}function x(w,v){return v?w||v.path?w&&!v.path?`${w}/`:!w&&v.path?v.path:`${w}/${v.path}`:"":w}function U(w){const v=w.children&&w.children.map(U),m=v?Object.assign(Object.assign({},w),{children:v}):Object.assign({},w);return!m.component&&(v||m.loadChildren)&&m.outlet&&m.outlet!==et&&(m.component=ai),m}function O(w){return w.outlet||et}function W(w,v){const m=w.filter(A=>O(A)===v);return m.push(...w.filter(A=>O(A)!==v)),m}const ae={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ge(w,v,m){var A;if(""===v.path)return"full"===v.pathMatch&&(w.hasChildren()||m.length>0)?Object.assign({},ae):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const V=(v.matcher||or)(m,w,v);if(!V)return Object.assign({},ae);const J={};Ze(V.posParams,(We,xt)=>{J[xt]=We.path});const le=V.consumed.length>0?Object.assign(Object.assign({},J),V.consumed[V.consumed.length-1].parameters):J;return{matched:!0,consumedSegments:V.consumed,lastChild:V.consumed.length,parameters:le,positionalParamSegments:null!==(A=V.posParams)&&void 0!==A?A:{}}}function st(w,v,m,A,N="corrected"){if(m.length>0&&function rr(w,v,m){return m.some(A=>cn(w,v,A)&&O(A)!==et)}(w,m,A)){const J=new sn(v,function Qt(w,v,m,A){const N={};N[et]=A,A._sourceSegment=w,A._segmentIndexShift=v.length;for(const V of m)if(""===V.path&&O(V)!==et){const J=new sn([],{});J._sourceSegment=w,J._segmentIndexShift=v.length,N[O(V)]=J}return N}(w,v,A,new sn(m,w.children)));return J._sourceSegment=w,J._segmentIndexShift=v.length,{segmentGroup:J,slicedSegments:[]}}if(0===m.length&&function Yn(w,v,m){return m.some(A=>cn(w,v,A))}(w,m,A)){const J=new sn(w.segments,function Vt(w,v,m,A,N,V){const J={};for(const le of A)if(cn(w,m,le)&&!N[O(le)]){const We=new sn([],{});We._sourceSegment=w,We._segmentIndexShift="legacy"===V?w.segments.length:v.length,J[O(le)]=We}return Object.assign(Object.assign({},N),J)}(w,v,m,A,w.children,N));return J._sourceSegment=w,J._segmentIndexShift=v.length,{segmentGroup:J,slicedSegments:m}}const V=new sn(w.segments,w.children);return V._sourceSegment=w,V._segmentIndexShift=v.length,{segmentGroup:V,slicedSegments:m}}function cn(w,v,m){return(!(w.hasChildren()||v.length>0)||"full"!==m.pathMatch)&&""===m.path}function jn(w,v,m,A){return!!(O(w)===A||A!==et&&cn(v,m,w))&&("**"===w.path||Ge(v,w,m).matched)}function Wn(w,v,m){return 0===v.length&&!w.children[m]}class vr{constructor(v){this.segmentGroup=v||null}}class Bi{constructor(v){this.urlTree=v}}function Sr(w){return new k.y(v=>v.error(new vr(w)))}function Ji(w){return new k.y(v=>v.error(new Bi(w)))}function ci(w){return new k.y(v=>v.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w}'`)))}class C{constructor(v,m,A,N,V){this.configLoader=m,this.urlSerializer=A,this.urlTree=N,this.config=V,this.allowRedirects=!0,this.ngModule=v.get(g.h0i)}apply(){const v=st(this.urlTree.root,[],[],this.config).segmentGroup,m=new sn(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,m,et).pipe((0,jt.U)(V=>this.createUrlTree(He(V),this.urlTree.queryParams,this.urlTree.fragment))).pipe(re(V=>{if(V instanceof Bi)return this.allowRedirects=!1,this.match(V.urlTree);throw V instanceof vr?this.noMatchError(V):V}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,et).pipe((0,jt.U)(N=>this.createUrlTree(He(N),v.queryParams,v.fragment))).pipe(re(N=>{throw N instanceof vr?this.noMatchError(N):N}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,m,A){const N=v.segments.length>0?new sn([],{[et]:v}):v;return new pr(N,m,A)}expandSegmentGroup(v,m,A,N){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(v,m,A).pipe((0,jt.U)(V=>new sn([],V))):this.expandSegment(v,A,m,A.segments,N,!0)}expandChildren(v,m,A){const N=[];for(const V of Object.keys(A.children))"primary"===V?N.unshift(V):N.push(V);return(0,me.D)(N).pipe(Oe(V=>{const J=A.children[V],le=W(m,V);return this.expandSegmentGroup(v,le,J,V).pipe((0,jt.U)(We=>({segment:We,outlet:V})))}),Yt((V,J)=>(V[J.outlet]=J.segment,V),{}),function Zt(w,v){const m=arguments.length>=2;return A=>A.pipe(w?(0,te.h)((N,V)=>w(N,V,A)):he.y,gt(1),m?dt(v):Dt(()=>new rt))}())}expandSegment(v,m,A,N,V,J){return(0,me.D)(A).pipe(Oe(le=>this.expandSegmentAgainstRoute(v,m,A,le,N,V,J).pipe(re(xt=>{if(xt instanceof vr)return(0,Je.of)(null);throw xt}))),qt(le=>!!le),re((le,We)=>{if(le instanceof rt||"EmptyError"===le.name){if(Wn(m,N,V))return(0,Je.of)(new sn([],{}));throw new vr(m)}throw le}))}expandSegmentAgainstRoute(v,m,A,N,V,J,le){return jn(N,m,V,J)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(v,m,N,V,J):le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,m,A,N,V,J):Sr(m):Sr(m)}expandSegmentAgainstRouteUsingRedirect(v,m,A,N,V,J){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,A,N,J):this.expandRegularSegmentAgainstRouteUsingRedirect(v,m,A,N,V,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,m,A,N){const V=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Ji(V):this.lineralizeSegments(A,V).pipe((0,ie.z)(J=>{const le=new sn(J,{});return this.expandSegment(v,le,m,J,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,m,A,N,V,J){const{matched:le,consumedSegments:We,lastChild:xt,positionalParamSegments:Mt}=Ge(m,N,V);if(!le)return Sr(m);const Wt=this.applyRedirectCommands(We,N.redirectTo,Mt);return N.redirectTo.startsWith("/")?Ji(Wt):this.lineralizeSegments(N,Wt).pipe((0,ie.z)(on=>this.expandSegment(v,m,A,on.concat(V.slice(xt)),J,!1)))}matchSegmentAgainstRoute(v,m,A,N,V){if("**"===A.path)return A.loadChildren?(A._loadedConfig?(0,Je.of)(A._loadedConfig):this.configLoader.load(v.injector,A)).pipe((0,jt.U)(on=>(A._loadedConfig=on,new sn(N,{})))):(0,Je.of)(new sn(N,{}));const{matched:J,consumedSegments:le,lastChild:We}=Ge(m,A,N);if(!J)return Sr(m);const xt=N.slice(We);return this.getChildConfig(v,A,N).pipe((0,ie.z)(Wt=>{const on=Wt.module,Kn=Wt.routes,{segmentGroup:Ys,slicedSegments:Qn}=st(m,le,xt,Kn),ps=new sn(Ys.segments,Ys.children);if(0===Qn.length&&ps.hasChildren())return this.expandChildren(on,Kn,ps).pipe((0,jt.U)(Hi=>new sn(le,Hi)));if(0===Kn.length&&0===Qn.length)return(0,Je.of)(new sn(le,{}));const _i=O(A)===V;return this.expandSegment(on,ps,Kn,Qn,_i?et:V,!0).pipe((0,jt.U)(Zr=>new sn(le.concat(Zr.segments),Zr.children)))}))}getChildConfig(v,m,A){return m.children?(0,Je.of)(new kr(m.children,v)):m.loadChildren?void 0!==m._loadedConfig?(0,Je.of)(m._loadedConfig):this.runCanLoadGuards(v.injector,m,A).pipe((0,ie.z)(N=>N?this.configLoader.load(v.injector,m).pipe((0,jt.U)(V=>(m._loadedConfig=V,V))):function M(w){return new k.y(v=>v.error(Xn(`Cannot load children because the guard of the route "path: '${w.path}'" returned false`)))}(m))):(0,Je.of)(new kr([],v))}runCanLoadGuards(v,m,A){const N=m.canLoad;if(!N||0===N.length)return(0,Je.of)(!0);const V=N.map(J=>{const le=v.get(J);let We;if(function $(w){return w&&yi(w.canLoad)}(le))We=le.canLoad(m,A);else{if(!yi(le))throw new Error("Invalid CanLoad guard");We=le(m,A)}return St(We)});return(0,Je.of)(V).pipe(Tn(),(0,fn.b)(J=>{if(!K(J))return;const le=Xn(`Redirecting to "${this.urlSerializer.serialize(J)}"`);throw le.url=J,le}),(0,jt.U)(J=>!0===J))}lineralizeSegments(v,m){let A=[],N=m.root;for(;;){if(A=A.concat(N.segments),0===N.numberOfChildren)return(0,Je.of)(A);if(N.numberOfChildren>1||!N.children[et])return ci(v.redirectTo);N=N.children[et]}}applyRedirectCommands(v,m,A){return this.applyRedirectCreatreUrlTree(m,this.urlSerializer.parse(m),v,A)}applyRedirectCreatreUrlTree(v,m,A,N){const V=this.createSegmentGroup(v,m.root,A,N);return new pr(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(v,m){const A={};return Ze(v,(N,V)=>{if("string"==typeof N&&N.startsWith(":")){const le=N.substring(1);A[V]=m[le]}else A[V]=N}),A}createSegmentGroup(v,m,A,N){const V=this.createSegments(v,m.segments,A,N);let J={};return Ze(m.children,(le,We)=>{J[We]=this.createSegmentGroup(v,le,A,N)}),new sn(V,J)}createSegments(v,m,A,N){return m.map(V=>V.path.startsWith(":")?this.findPosParam(v,V,N):this.findOrReturn(V,A))}findPosParam(v,m,A){const N=A[m.path.substring(1)];if(!N)throw new Error(`Cannot redirect to '${v}'. Cannot find '${m.path}'.`);return N}findOrReturn(v,m){let A=0;for(const N of m){if(N.path===v.path)return m.splice(A),N;A++}return v}}function He(w){const v={};for(const A of Object.keys(w.children)){const V=He(w.children[A]);(V.segments.length>0||V.hasChildren())&&(v[A]=V)}return function H(w){if(1===w.numberOfChildren&&w.children[et]){const v=w.children[et];return new sn(w.segments.concat(v.segments),v.children)}return w}(new sn(w.segments,v))}class ur{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class En{constructor(v,m){this.component=v,this.route=m}}function tt(w,v,m){const A=w._root;return Ns(A,v?v._root:null,m,[A.value])}function hs(w,v,m){const A=function Mr(w){if(!w)return null;for(let v=w.parent;v;v=v.parent){const m=v.routeConfig;if(m&&m._loadedConfig)return m._loadedConfig}return null}(v);return(A?A.module.injector:m).get(w)}function Ns(w,v,m,A,N={canDeactivateChecks:[],canActivateChecks:[]}){const V=Ee(v);return w.children.forEach(J=>{(function ko(w,v,m,A,N={canDeactivateChecks:[],canActivateChecks:[]}){const V=w.value,J=v?v.value:null,le=m?m.getContext(w.value.outlet):null;if(J&&V.routeConfig===J.routeConfig){const We=function as(w,v,m){if("function"==typeof m)return m(w,v);switch(m){case"pathParamsChange":return!gr(w.url,v.url);case"pathParamsOrQueryParamsChange":return!gr(w.url,v.url)||!de(w.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rr(w,v)||!de(w.queryParams,v.queryParams);default:return!Rr(w,v)}}(J,V,V.routeConfig.runGuardsAndResolvers);We?N.canActivateChecks.push(new ur(A)):(V.data=J.data,V._resolvedData=J._resolvedData),Ns(w,v,V.component?le?le.children:null:m,A,N),We&&le&&le.outlet&&le.outlet.isActivated&&N.canDeactivateChecks.push(new En(le.outlet.component,J))}else J&&io(v,le,N),N.canActivateChecks.push(new ur(A)),Ns(w,null,V.component?le?le.children:null:m,A,N)})(J,V[J.value.outlet],m,A.concat([J.value]),N),delete V[J.value.outlet]}),Ze(V,(J,le)=>io(J,m.getContext(le),N)),N}function io(w,v,m){const A=Ee(w),N=w.value;Ze(A,(V,J)=>{io(V,N.component?v?v.children.getContext(J):null:v,m)}),m.canDeactivateChecks.push(new En(N.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,N))}class Fs{}function ji(w){return new k.y(v=>v.error(w))}class so{constructor(v,m,A,N,V,J){this.rootComponentType=v,this.config=m,this.urlTree=A,this.url=N,this.paramsInheritanceStrategy=V,this.relativeLinkResolution=J}recognize(){const v=st(this.urlTree.root,[],[],this.config.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution).segmentGroup,m=this.processSegmentGroup(this.config,v,et);if(null===m)return null;const A=new nr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},et,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new kn(A,m),V=new hn(this.url,N);return this.inheritParamsAndData(V._root),V}inheritParamsAndData(v){const m=v.value,A=It(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),v.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(v,m,A){return 0===m.segments.length&&m.hasChildren()?this.processChildren(v,m):this.processSegment(v,m,m.segments,A)}processChildren(v,m){const A=[];for(const V of Object.keys(m.children)){const J=m.children[V],le=W(v,V),We=this.processSegmentGroup(le,J,V);if(null===We)return null;A.push(...We)}const N=oo(A);return function Vo(w){w.sort((v,m)=>v.value.outlet===et?-1:m.value.outlet===et?1:v.value.outlet.localeCompare(m.value.outlet))}(N),N}processSegment(v,m,A,N){for(const V of v){const J=this.processSegmentAgainstRoute(V,m,A,N);if(null!==J)return J}return Wn(m,A,N)?[]:null}processSegmentAgainstRoute(v,m,A,N){if(v.redirectTo||!jn(v,m,A,N))return null;let V,J=[],le=[];if("**"===v.path){const Kn=A.length>0?je(A).parameters:{};V=new nr(A,Kn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qs(v),O(v),v.component,v,Ls(m),Bo(m)+A.length,jo(v))}else{const Kn=Ge(m,v,A);if(!Kn.matched)return null;J=Kn.consumedSegments,le=A.slice(Kn.lastChild),V=new nr(J,Kn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qs(v),O(v),v.component,v,Ls(m),Bo(m)+J.length,jo(v))}const We=function Ra(w){return w.children?w.children:w.loadChildren?w._loadedConfig.routes:[]}(v),{segmentGroup:xt,slicedSegments:Mt}=st(m,J,le,We.filter(Kn=>void 0===Kn.redirectTo),this.relativeLinkResolution);if(0===Mt.length&&xt.hasChildren()){const Kn=this.processChildren(We,xt);return null===Kn?null:[new kn(V,Kn)]}if(0===We.length&&0===Mt.length)return[new kn(V,[])];const Wt=O(v)===N,on=this.processSegment(We,xt,Mt,Wt?et:N);return null===on?null:[new kn(V,on)]}}function Uo(w){const v=w.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function oo(w){const v=[],m=new Set;for(const A of w){if(!Uo(A)){v.push(A);continue}const N=v.find(V=>A.value.routeConfig===V.value.routeConfig);void 0!==N?(N.children.push(...A.children),m.add(N)):v.push(A)}for(const A of m){const N=oo(A.children);v.push(new kn(A.value,N))}return v.filter(A=>!m.has(A))}function Ls(w){let v=w;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Bo(w){let v=w,m=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,m+=v._segmentIndexShift?v._segmentIndexShift:0;return m-1}function qs(w){return w.data||{}}function jo(w){return w.resolve||{}}function Go(w){return(0,Lt.w)(v=>{const m=w(v);return m?(0,me.D)(m).pipe((0,jt.U)(()=>v)):(0,Je.of)(v)})}class Vs extends class $i{shouldDetach(v){return!1}store(v,m){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,m){return v.routeConfig===m.routeConfig}}{}const Rn=new g.OlP("ROUTES");class tu{constructor(v,m,A,N){this.injector=v,this.compiler=m,this.onLoadStartListener=A,this.onLoadEndListener=N}load(v,m){if(m._loader$)return m._loader$;this.onLoadStartListener&&this.onLoadStartListener(m);const N=this.loadModuleFactory(m.loadChildren).pipe((0,jt.U)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m);const J=V.create(v);return new kr(ve(J.injector.get(Rn,void 0,g.XFs.Self|g.XFs.Optional)).map(U),J)}),re(V=>{throw m._loader$=void 0,V}));return m._loader$=new Re.c(N,()=>new Le.x).pipe((0,Fn.x)()),m._loader$}loadModuleFactory(v){return St(v()).pipe((0,ie.z)(m=>m instanceof g.YKP?(0,Je.of)(m):(0,me.D)(this.compiler.compileModuleAsync(m))))}}class fs{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,m){return v}}function ao(w){throw w}function ka(w,v,m){return v.parse("/")}function Fa(w,v){return(0,Je.of)(null)}const na={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ho={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qn=(()=>{class w{constructor(m,A,N,V,J,le,We){this.rootComponentType=m,this.urlSerializer=A,this.rootContexts=N,this.location=V,this.config=We,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le.x,this.errorHandler=ao,this.malformedUriErrorHandler=ka,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fa,afterPreactivation:Fa},this.urlHandlingStrategy=new fs,this.routeReuseStrategy=new Vs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=J.get(g.h0i),this.console=J.get(g.c2e);const Wt=J.get(g.R0b);this.isNgZoneEnabled=Wt instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(We),this.currentUrlTree=function gn(){return new pr(new sn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tu(J,le,on=>this.triggerEvent(new Kt(on)),on=>this.triggerEvent(new nt(on))),this.routerState=Ie(this.currentUrlTree,this.rootComponentType),this.transitions=new be.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var m;return null===(m=this.location.getState())||void 0===m?void 0:m.\u0275routerPageId}setupNavigations(m){const A=this.events;return m.pipe((0,te.h)(N=>0!==N.id),(0,jt.U)(N=>Object.assign(Object.assign({},N),{extractedUrl:this.urlHandlingStrategy.extract(N.rawUrl)})),(0,Lt.w)(N=>{let V=!1,J=!1;return(0,Je.of)(N).pipe((0,fn.b)(le=>{this.currentNavigation={id:le.id,initialUrl:le.currentRawUrl,extractedUrl:le.extractedUrl,trigger:le.source,extras:le.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Lt.w)(le=>{const We=this.browserUrlTree.toString(),xt=!this.navigated||le.extractedUrl.toString()!==We||We!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||xt)&&this.urlHandlingStrategy.shouldProcessUrl(le.rawUrl))return Ts(le.source)&&(this.browserUrlTree=le.extractedUrl),(0,Je.of)(le).pipe((0,Lt.w)(Wt=>{const on=this.transitions.getValue();return A.next(new xr(Wt.id,this.serializeUrl(Wt.extractedUrl),Wt.source,Wt.restoredState)),on!==this.transitions.getValue()?$e.E:Promise.resolve(Wt)}),function Rt(w,v,m,A){return(0,Lt.w)(N=>function S(w,v,m,A,N){return new C(w,v,m,A,N).apply()}(w,v,m,N.extractedUrl,A).pipe((0,jt.U)(V=>Object.assign(Object.assign({},N),{urlAfterRedirects:V}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fn.b)(Wt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Wt.urlAfterRedirects})}),function $o(w,v,m,A,N){return(0,ie.z)(V=>function Xo(w,v,m,A,N="emptyOnly",V="legacy"){try{const J=new so(w,v,m,A,N,V).recognize();return null===J?ji(new Fs):(0,Je.of)(J)}catch(J){return ji(J)}}(w,v,V.urlAfterRedirects,m(V.urlAfterRedirects),A,N).pipe((0,jt.U)(J=>Object.assign(Object.assign({},V),{targetSnapshot:J}))))}(this.rootComponentType,this.config,Wt=>this.serializeUrl(Wt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fn.b)(Wt=>{if("eager"===this.urlUpdateStrategy){if(!Wt.extras.skipLocationChange){const Kn=this.urlHandlingStrategy.merge(Wt.urlAfterRedirects,Wt.rawUrl);this.setBrowserUrl(Kn,Wt)}this.browserUrlTree=Wt.urlAfterRedirects}const on=new Lr(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);A.next(on)}));if(xt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:on,extractedUrl:Kn,source:Ys,restoredState:Qn,extras:ps}=le,_i=new xr(on,this.serializeUrl(Kn),Ys,Qn);A.next(_i);const ir=Ie(Kn,this.rootComponentType).snapshot;return(0,Je.of)(Object.assign(Object.assign({},le),{targetSnapshot:ir,urlAfterRedirects:Kn,extras:Object.assign(Object.assign({},ps),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=le.rawUrl,le.resolve(null),$e.E}),Go(le=>{const{targetSnapshot:We,id:xt,extractedUrl:Mt,rawUrl:Wt,extras:{skipLocationChange:on,replaceUrl:Kn}}=le;return this.hooks.beforePreactivation(We,{navigationId:xt,appliedUrlTree:Mt,rawUrlTree:Wt,skipLocationChange:!!on,replaceUrl:!!Kn})}),(0,fn.b)(le=>{const We=new fr(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(le.urlAfterRedirects),le.targetSnapshot);this.triggerEvent(We)}),(0,jt.U)(le=>Object.assign(Object.assign({},le),{guards:tt(le.targetSnapshot,le.currentSnapshot,this.rootContexts)})),function Fo(w,v){return(0,ie.z)(m=>{const{targetSnapshot:A,currentSnapshot:N,guards:{canActivateChecks:V,canDeactivateChecks:J}}=m;return 0===J.length&&0===V.length?(0,Je.of)(Object.assign(Object.assign({},m),{guardsResult:!0})):function Jo(w,v,m,A){return(0,me.D)(w).pipe((0,ie.z)(N=>function Lo(w,v,m,A,N){const V=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,Je.of)(!0);const J=V.map(le=>{const We=hs(le,v,N);let xt;if(function wt(w){return w&&yi(w.canDeactivate)}(We))xt=St(We.canDeactivate(w,v,m,A));else{if(!yi(We))throw new Error("Invalid CanDeactivate guard");xt=St(We(w,v,m,A))}return xt.pipe(qt())});return(0,Je.of)(J).pipe(Tn())}(N.component,N.route,m,v,A)),qt(N=>!0!==N,!0))}(J,A,N,w).pipe((0,ie.z)(le=>le&&function Q(w){return"boolean"==typeof w}(le)?function Ps(w,v,m,A){return(0,me.D)(v).pipe(Oe(N=>(0,ot.z)(function Oa(w,v){return null!==w&&v&&v(new bn(w)),(0,Je.of)(!0)}(N.route.parent,A),function ks(w,v){return null!==w&&v&&v(new pn(w)),(0,Je.of)(!0)}(N.route,A),function Xi(w,v,m){const A=v[v.length-1],V=v.slice(0,v.length-1).reverse().map(J=>function _n(w){const v=w.routeConfig?w.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:w,guards:v}:null}(J)).filter(J=>null!==J).map(J=>(0,qe.P)(()=>{const le=J.guards.map(We=>{const xt=hs(We,J.node,m);let Mt;if(function Se(w){return w&&yi(w.canActivateChild)}(xt))Mt=St(xt.canActivateChild(A,w));else{if(!yi(xt))throw new Error("Invalid CanActivateChild guard");Mt=St(xt(A,w))}return Mt.pipe(qt())});return(0,Je.of)(le).pipe(Tn())}));return(0,Je.of)(V).pipe(Tn())}(w,N.path,m),function qr(w,v,m){const A=v.routeConfig?v.routeConfig.canActivate:null;if(!A||0===A.length)return(0,Je.of)(!0);const N=A.map(V=>(0,qe.P)(()=>{const J=hs(V,v,m);let le;if(function ge(w){return w&&yi(w.canActivate)}(J))le=St(J.canActivate(v,w));else{if(!yi(J))throw new Error("Invalid CanActivate guard");le=St(J(v,w))}return le.pipe(qt())}));return(0,Je.of)(N).pipe(Tn())}(w,N.route,m))),qt(N=>!0!==N,!0))}(A,V,w,v):(0,Je.of)(le)),(0,jt.U)(le=>Object.assign(Object.assign({},m),{guardsResult:le})))})}(this.ngModule.injector,le=>this.triggerEvent(le)),(0,fn.b)(le=>{if(K(le.guardsResult)){const xt=Xn(`Redirecting to "${this.serializeUrl(le.guardsResult)}"`);throw xt.url=le.guardsResult,xt}const We=new Qr(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(le.urlAfterRedirects),le.targetSnapshot,!!le.guardsResult);this.triggerEvent(We)}),(0,te.h)(le=>!!le.guardsResult||(this.restoreHistory(le),this.cancelNavigationTransition(le,""),!1)),Go(le=>{if(le.guards.canActivateChecks.length)return(0,Je.of)(le).pipe((0,fn.b)(We=>{const xt=new Sn(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);this.triggerEvent(xt)}),(0,Lt.w)(We=>{let xt=!1;return(0,Je.of)(We).pipe(function Pa(w,v){return(0,ie.z)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:N}}=m;if(!N.length)return(0,Je.of)(m);let V=0;return(0,me.D)(N).pipe(Oe(J=>function ea(w,v,m,A){return function bs(w,v,m,A){const N=Object.keys(w);if(0===N.length)return(0,Je.of)({});const V={};return(0,me.D)(N).pipe((0,ie.z)(J=>function ta(w,v,m,A){const N=hs(w,v,A);return St(N.resolve?N.resolve(v,m):N(v,m))}(w[J],v,m,A).pipe((0,fn.b)(le=>{V[J]=le}))),gt(1),(0,ie.z)(()=>Object.keys(V).length===N.length?(0,Je.of)(V):$e.E))}(w._resolve,w,v,A).pipe((0,jt.U)(V=>(w._resolvedData=V,w.data=Object.assign(Object.assign({},w.data),It(w,m).resolve),null)))}(J.route,A,w,v)),(0,fn.b)(()=>V++),gt(1),(0,ie.z)(J=>V===N.length?(0,Je.of)(m):$e.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fn.b)({next:()=>xt=!0,complete:()=>{xt||(this.restoreHistory(We),this.cancelNavigationTransition(We,"At least one route resolver didn't emit any value."))}}))}),(0,fn.b)(We=>{const xt=new In(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);this.triggerEvent(xt)}))}),Go(le=>{const{targetSnapshot:We,id:xt,extractedUrl:Mt,rawUrl:Wt,extras:{skipLocationChange:on,replaceUrl:Kn}}=le;return this.hooks.afterPreactivation(We,{navigationId:xt,appliedUrlTree:Mt,rawUrlTree:Wt,skipLocationChange:!!on,replaceUrl:!!Kn})}),(0,jt.U)(le=>{const We=function Ar(w,v,m){const A=Gr(w,v._root,m?m._root:void 0);return new pe(A,v)}(this.routeReuseStrategy,le.targetSnapshot,le.currentRouterState);return Object.assign(Object.assign({},le),{targetRouterState:We})}),(0,fn.b)(le=>{this.currentUrlTree=le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(le.urlAfterRedirects,le.rawUrl),this.routerState=le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,le),this.browserUrlTree=le.urlAfterRedirects)}),((w,v,m)=>(0,jt.U)(A=>(new oi(v,A.targetRouterState,A.currentRouterState,m).activate(w),A)))(this.rootContexts,this.routeReuseStrategy,le=>this.triggerEvent(le)),(0,fn.b)({next(){V=!0},complete(){V=!0}}),function Cn(w){return(0,Ye.e)((v,m)=>{try{v.subscribe(m)}finally{m.add(w)}})}(()=>{var le;V||J||this.cancelNavigationTransition(N,`Navigation ID ${N.id} is not equal to the current navigation id ${this.navigationId}`),(null===(le=this.currentNavigation)||void 0===le?void 0:le.id)===N.id&&(this.currentNavigation=null)}),re(le=>{if(J=!0,function ii(w){return w&&w[Wr]}(le)){const We=K(le.url);We||(this.navigated=!0,this.restoreHistory(N,!0));const xt=new Nr(N.id,this.serializeUrl(N.extractedUrl),le.message);A.next(xt),We?setTimeout(()=>{const Mt=this.urlHandlingStrategy.merge(le.url,this.rawUrlTree),Wt={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ts(N.source)};this.scheduleNavigation(Mt,"imperative",null,Wt,{resolve:N.resolve,reject:N.reject,promise:N.promise})},0):N.resolve(!1)}else{this.restoreHistory(N,!0);const We=new Jn(N.id,this.serializeUrl(N.extractedUrl),le);A.next(We);try{N.resolve(this.errorHandler(le))}catch(xt){N.reject(xt)}}return $e.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),m))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{var N;const V={replaceUrl:!0},J=(null===(N=m.state)||void 0===N?void 0:N.navigationId)?m.state:null;if(J){const We=Object.assign({},J);delete We.navigationId,delete We.\u0275routerPageId,0!==Object.keys(We).length&&(V.state=We)}const le=this.parseUrl(m.url);this.scheduleNavigation(le,A,J,V)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){os(m),this.config=m.map(U),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,A={}){const{relativeTo:N,queryParams:V,fragment:J,queryParamsHandling:le,preserveFragment:We}=A,xt=N||this.routerState.root,Mt=We?this.currentUrlTree.fragment:J;let Wt=null;switch(le){case"merge":Wt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),V);break;case"preserve":Wt=this.currentUrlTree.queryParams;break;default:Wt=V||null}return null!==Wt&&(Wt=this.removeEmptyProps(Wt)),function Ds(w,v,m,A,N){if(0===m.length)return rs(v.root,v.root,v,A,N);const V=function Os(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new is(!0,0,w);let v=0,m=!1;const A=w.reduce((N,V,J)=>{if("object"==typeof V&&null!=V){if(V.outlets){const le={};return Ze(V.outlets,(We,xt)=>{le[xt]="string"==typeof We?We.split("/"):We}),[...N,{outlets:le}]}if(V.segmentPath)return[...N,V.segmentPath]}return"string"!=typeof V?[...N,V]:0===J?(V.split("/").forEach((le,We)=>{0==We&&"."===le||(0==We&&""===le?m=!0:".."===le?v++:""!=le&&N.push(le))}),N):[...N,V]},[]);return new is(m,v,A)}(m);if(V.toRoot())return rs(v.root,new sn([],{}),v,A,N);const J=function Li(w,v,m){if(w.isAbsolute)return new ss(v.root,!0,0);if(-1===m.snapshot._lastPathIndex){const V=m.snapshot._urlSegment;return new ss(V,V===v.root,0)}const A=ts(w.commands[0])?0:1;return function cs(w,v,m){let A=w,N=v,V=m;for(;V>N;){if(V-=N,A=A.parent,!A)throw new Error("Invalid number of '../'");N=A.segments.length}return new ss(A,!1,N-V)}(m.snapshot._urlSegment,m.snapshot._lastPathIndex+A,w.numberOfDoubleDots)}(V,v,w),le=J.processChildren?mi(J.segmentGroup,J.index,V.commands):Cs(J.segmentGroup,J.index,V.commands);return rs(J.segmentGroup,le,v,A,N)}(xt,this.currentUrlTree,m,Wt,null!=Mt?Mt:null)}navigateByUrl(m,A={skipLocationChange:!1}){const N=K(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(V,"imperative",null,A)}navigate(m,A={skipLocationChange:!1}){return function wo(w){for(let v=0;v<w.length;v++){const m=w[v];if(null==m)throw new Error(`The requested path contains ${m} segment at index ${v}`)}}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(N){A=this.malformedUriErrorHandler(N,this.urlSerializer,m)}return A}isActive(m,A){let N;if(N=!0===A?Object.assign({},na):!1===A?Object.assign({},Ho):A,K(m))return Gn(this.currentUrlTree,m,N);const V=this.parseUrl(m);return Gn(this.currentUrlTree,V,N)}removeEmptyProps(m){return Object.keys(m).reduce((A,N)=>{const V=m[N];return null!=V&&(A[N]=V),A},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new Ir(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,A,N,V,J){var le,We,xt;if(this.disposed)return Promise.resolve(!1);const Mt=this.transitions.value,Wt=Ts(A)&&Mt&&!Ts(Mt.source),on=Mt.rawUrl.toString()===m.toString(),Kn=Mt.id===(null===(le=this.currentNavigation)||void 0===le?void 0:le.id);if(Wt&&on&&Kn)return Promise.resolve(!0);let Qn,ps,_i;J?(Qn=J.resolve,ps=J.reject,_i=J.promise):_i=new Promise((Hi,Co)=>{Qn=Hi,ps=Co});const ir=++this.navigationId;let Zr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(N=this.location.getState()),Zr=N&&N.\u0275routerPageId?N.\u0275routerPageId:V.replaceUrl||V.skipLocationChange?null!==(We=this.browserPageId)&&void 0!==We?We:0:(null!==(xt=this.browserPageId)&&void 0!==xt?xt:0)+1):Zr=0,this.setTransition({id:ir,targetPageId:Zr,source:A,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:V,resolve:Qn,reject:ps,promise:_i,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_i.catch(Hi=>Promise.reject(Hi))}setBrowserUrl(m,A){const N=this.urlSerializer.serialize(m),V=Object.assign(Object.assign({},A.extras.state),this.generateNgRouterState(A.id,A.targetPageId));this.location.isCurrentPathEqualTo(N)||A.extras.replaceUrl?this.location.replaceState(N,"",V):this.location.go(N,"",V)}restoreHistory(m,A=!1){var N,V;if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(N=this.currentNavigation)||void 0===N?void 0:N.finalUrl)||0===J?this.currentUrlTree===(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)&&0===J&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(J)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,A){const N=new Nr(m.id,this.serializeUrl(m.extractedUrl),A);this.triggerEvent(N),m.resolve(!1)}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}}return w.\u0275fac=function(m){g.$Z()},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac}),w})();function Ts(w){return"imperative"!==w}let La=(()=>{class w{constructor(m,A,N,V,J){this.router=m,this.route=A,this.tabIndexAttribute=N,this.renderer=V,this.el=J,this.commands=null,this.onChanges=new Le.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){if(null!=this.tabIndexAttribute)return;const A=this.renderer,N=this.el.nativeElement;null!==m?A.setAttribute(N,"tabindex",m):A.removeAttribute(N,"tabindex")}ngOnChanges(m){this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const m={skipLocationChange:lr(this.skipLocationChange),replaceUrl:lr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:lr(this.preserveFragment)})}}return w.\u0275fac=function(m){return new(m||w)(g.Y36(qn),g.Y36(ut),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},w.\u0275dir=g.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(m,A){1&m&&g.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),w})(),Gi=(()=>{class w{constructor(m,A,N){this.router=m,this.route=A,this.locationStrategy=N,this.commands=null,this.href=null,this.onChanges=new Le.x,this.subscription=m.events.subscribe(V=>{V instanceof Ir&&this.updateTargetUrlAndHref()})}set routerLink(m){this.commands=null!=m?Array.isArray(m)?m:[m]:null}ngOnChanges(m){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(m,A,N,V,J){if(0!==m||A||N||V||J||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const le={skipLocationChange:lr(this.skipLocationChange),replaceUrl:lr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,le),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:lr(this.preserveFragment)})}}return w.\u0275fac=function(m){return new(m||w)(g.Y36(qn),g.Y36(ut),g.Y36(tn.S$))},w.\u0275dir=g.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(m,A){1&m&&g.NdJ("click",function(V){return A.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&m&&g.uIk("target",A.target)("href",A.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),w})();function lr(w){return""===w||!!w}class Ks{}class yt{preload(v,m){return(0,Je.of)(null)}}let Kr=(()=>{class w{constructor(m,A,N,V){this.router=m,this.injector=N,this.preloadingStrategy=V,this.loader=new tu(N,A,We=>m.triggerEvent(new Kt(We)),We=>m.triggerEvent(new nt(We)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,te.h)(m=>m instanceof Ir),Oe(()=>this.preload())).subscribe(()=>{})}preload(){const m=this.injector.get(g.h0i);return this.processRoutes(m,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const N=[];for(const V of A)if(V.loadChildren&&!V.canLoad&&V._loadedConfig){const J=V._loadedConfig;N.push(this.processRoutes(J.module,J.routes))}else V.loadChildren&&!V.canLoad?N.push(this.preloadConfig(m,V)):V.children&&N.push(this.processRoutes(m,V.children));return(0,me.D)(N).pipe((0,br.J)(),(0,jt.U)(V=>{}))}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>(A._loadedConfig?(0,Je.of)(A._loadedConfig):this.loader.load(m.injector,A)).pipe((0,ie.z)(V=>(A._loadedConfig=V,this.processRoutes(V.module,V.routes)))))}}return w.\u0275fac=function(m){return new(m||w)(g.LFG(qn),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Ks))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac}),w})(),li=(()=>{class w{constructor(m,A,N={}){this.router=m,this.viewportScroller=A,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Ir&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof nn&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.router.triggerEvent(new nn(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(m){g.$Z()},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac}),w})();const Bt=new g.OlP("ROUTER_CONFIGURATION"),en=new g.OlP("ROUTER_FORROOT_GUARD"),Va=[tn.Ye,{provide:mr,useClass:Et},{provide:qn,useFactory:function zo(w,v,m,A,N,V,J={},le,We){const xt=new qn(null,w,v,m,A,N,ve(V));return le&&(xt.urlHandlingStrategy=le),We&&(xt.routeReuseStrategy=We),function Wo(w,v){w.errorHandler&&(v.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(v.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(v.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(v.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(v.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(v.canceledNavigationResolution=w.canceledNavigationResolution)}(J,xt),J.enableTracing&&xt.events.subscribe(Mt=>{var Wt,on;null===(Wt=console.group)||void 0===Wt||Wt.call(console,`Router Event: ${Mt.constructor.name}`),console.log(Mt.toString()),console.log(Mt),null===(on=console.groupEnd)||void 0===on||on.call(console)}),xt},deps:[mr,Er,tn.Ye,g.zs3,g.Sil,Rn,Bt,[class dc{},new g.FiY],[class Ru{},new g.FiY]]},Er,{provide:ut,useFactory:function hc(w){return w.routerState.root},deps:[qn]},Kr,yt,class Nu{preload(v,m){return m().pipe(re(()=>(0,Je.of)(null)))}},{provide:Bt,useValue:{enableTracing:!1}}];function ft(){return new g.PXZ("Router",qn)}let ze=(()=>{class w{constructor(m,A){}static forRoot(m,A){return{ngModule:w,providers:[Va,Zs(m),{provide:en,useFactory:Do,deps:[[qn,new g.FiY,new g.tp0]]},{provide:Bt,useValue:A||{}},{provide:tn.S$,useFactory:Fr,deps:[tn.lw,[new g.tBr(tn.mr),new g.FiY],Bt]},{provide:li,useFactory:ct,deps:[qn,tn.EM,Bt]},{provide:Ks,useExisting:A&&A.preloadingStrategy?A.preloadingStrategy:yt},{provide:g.PXZ,multi:!0,useFactory:ft},[uo,{provide:g.ip1,multi:!0,useFactory:ra,deps:[uo]},{provide:ia,useFactory:co,deps:[uo]},{provide:g.tb,multi:!0,useExisting:ia}]]}}static forChild(m){return{ngModule:w,providers:[Zs(m)]}}}return w.\u0275fac=function(m){return new(m||w)(g.LFG(en,8),g.LFG(qn,8))},w.\u0275mod=g.oAB({type:w}),w.\u0275inj=g.cJS({}),w})();function ct(w,v,m){return m.scrollOffset&&v.setOffset(m.scrollOffset),new li(w,v,m)}function Fr(w,v,m={}){return m.useHash?new tn.Do(w,v):new tn.b0(w,v)}function Do(w){return"guarded"}function Zs(w){return[{provide:g.deG,multi:!0,useValue:w},{provide:Rn,multi:!0,useValue:w}]}let uo=(()=>{class w{constructor(m){this.injector=m,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le.x}appInitializer(){return this.injector.get(tn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let A=null;const N=new Promise(le=>A=le),V=this.injector.get(qn),J=this.injector.get(Bt);return"disabled"===J.initialNavigation?(V.setUpLocationChangeListener(),A(!0)):"enabled"===J.initialNavigation||"enabledBlocking"===J.initialNavigation?(V.hooks.afterPreactivation=()=>this.initNavigation?(0,Je.of)(null):(this.initNavigation=!0,A(!0),this.resultOfPreactivationDone),V.initialNavigation()):A(!0),N})}bootstrapListener(m){const A=this.injector.get(Bt),N=this.injector.get(Kr),V=this.injector.get(li),J=this.injector.get(qn),le=this.injector.get(g.z2F);m===le.components[0]&&(("enabledNonBlocking"===A.initialNavigation||void 0===A.initialNavigation)&&J.initialNavigation(),N.setUpPreloading(),V.init(),J.resetRootComponentType(le.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return w.\u0275fac=function(m){return new(m||w)(g.LFG(g.zs3))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac}),w})();function ra(w){return w.appInitializer.bind(w)}function co(w){return w.bootstrapListener.bind(w)}const ia=new g.OlP("Router Initializer")},9681:(Ft,Ue,F)=>{"use strict";F.d(Ue,{C6:()=>Nr,Jn:()=>Ln,KN:()=>fr,Mq:()=>Ir,Xd:()=>Cn,ZF:()=>xr,qX:()=>jt});var g=F(4859),k=F(1877),ue=F(2090);class me{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(bn=>{if(function he(Kt){const nt=Kt.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(bn)){const an=bn.getImmediate();return`${an.library}/${an.version}`}return null}).filter(bn=>bn).join(" ")}}const Pe="@firebase/app",ce=new k.Yd("@firebase/app"),Dt="[DEFAULT]",An={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,Zt=new Map;function Dn(Kt,nt){try{Kt.container.addComponent(nt)}catch(bn){ce.debug(`Component ${nt.name} failed to register with FirebaseApp ${Kt.name}`,bn)}}function Cn(Kt){const nt=Kt.name;if(Zt.has(nt))return ce.debug(`There were multiple attempts to register component ${nt}.`),!1;Zt.set(nt,Kt);for(const bn of dt.values())Dn(bn,Kt);return!0}function jt(Kt,nt){return Kt.container.getProvider(nt)}const br=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class tn{constructor(nt,bn,an){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},bn),this._name=bn.name,this._automaticDataCollectionEnabled=bn.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Ln="9.6.7";function xr(Kt,nt={}){"object"!=typeof nt&&(nt={name:nt});const bn=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},nt),an=bn.name;if("string"!=typeof an||!an)throw br.create("bad-app-name",{appName:String(an)});const pn=dt.get(an);if(pn){if((0,ue.vZ)(Kt,pn.options)&&(0,ue.vZ)(bn,pn.config))return pn;throw br.create("duplicate-app",{appName:an})}const sr=new g.H0(an);for(const et of Zt.values())sr.addComponent(et);const nn=new tn(Kt,bn,sr);return dt.set(an,nn),nn}function Ir(Kt=Dt){const nt=dt.get(Kt);if(!nt)throw br.create("no-app",{appName:Kt});return nt}function Nr(){return Array.from(dt.values())}function fr(Kt,nt,bn){var an;let pn=null!==(an=An[Kt])&&void 0!==an?an:Kt;bn&&(pn+=`-${bn}`);const sr=pn.match(/\s|\//),nn=nt.match(/\s|\//);if(sr||nn){const et=[`Unable to register library "${pn}" with version "${nt}":`];return sr&&et.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),sr&&nn&&et.push("and"),nn&&et.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void ce.warn(et.join(" "))}Cn(new g.wA(`${pn}-version`,()=>({library:pn,version:nt}),"VERSION"))}!function In(Kt){Cn(new g.wA("platform-logger",nt=>new me(nt),"PRIVATE")),fr(Pe,"0.7.17",Kt),fr(Pe,"0.7.17","esm2017"),fr("fire-js","")}("")},4859:(Ft,Ue,F)=>{"use strict";F.d(Ue,{H0:()=>ce,wA:()=>ue});var g=F(5861),k=F(2090);class ue{constructor(Z,X,Ae){this.name=Z,this.instanceFactory=X,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const me="[DEFAULT]";class he{constructor(Z,X){this.name=Z,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const X=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(X)){const Ae=new k.BH;if(this.instancesDeferred.set(X,Ae),this.isInitialized(X)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:X});xe&&Ae.resolve(xe)}catch(xe){}}return this.instancesDeferred.get(X).promise}getImmediate(Z){var X;const Ae=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),xe=null!==(X=null==Z?void 0:Z.optional)&&void 0!==X&&X;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(ke){if(xe)return null;throw ke}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function Ce(Me){return"EAGER"===Me.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:me})}catch(X){}for(const[X,Ae]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(X);try{const ke=this.getOrInitializeService({instanceIdentifier:xe});Ae.resolve(ke)}catch(ke){}}}}clearInstance(Z=me){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,g.Z)(function*(){const X=Array.from(Z.instances.values());yield Promise.all([...X.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...X.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=me){return this.instances.has(Z)}getOptions(Z=me){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:X={}}=Z,Ae=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:Ae,options:X});for(const[ke,rt]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(ke)&&rt.resolve(xe);return xe}onInit(Z,X){var Ae;const xe=this.normalizeInstanceIdentifier(X),ke=null!==(Ae=this.onInitCallbacks.get(xe))&&void 0!==Ae?Ae:new Set;ke.add(Z),this.onInitCallbacks.set(xe,ke);const rt=this.instances.get(xe);return rt&&Z(rt,xe),()=>{ke.delete(Z)}}invokeOnInitCallbacks(Z,X){const Ae=this.onInitCallbacks.get(X);if(Ae)for(const xe of Ae)try{xe(Z,X)}catch(ke){}}getOrInitializeService({instanceIdentifier:Z,options:X={}}){let Ae=this.instances.get(Z);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=Z,Me===me?void 0:Me),options:X}),this.instances.set(Z,Ae),this.instancesOptions.set(Z,X),this.invokeOnInitCallbacks(Ae,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,Ae)}catch(xe){}var Me;return Ae||null}normalizeInstanceIdentifier(Z=me){return this.component?this.component.multipleInstances?Z:me:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const X=this.getProvider(Z.name);if(X.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);X.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const X=new he(Z,this);return this.providers.set(Z,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(Ft,Ue,F)=>{"use strict";F.d(Ue,{Yd:()=>Ce,in:()=>k});const g=[];var k=(()=>{return(Z=k||(k={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",k;var Z})();const ue={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},me=k.INFO,he={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Pe=(Z,X,...Ae)=>{if(X<Z.logLevel)return;const xe=(new Date).toISOString(),ke=he[X];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[ke](`[${xe}]  ${Z.name}:`,...Ae)};class Ce{constructor(X){this.name=X,this._logLevel=me,this._logHandler=Pe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in k))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?ue[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...X),this._logHandler(this,k.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...X),this._logHandler(this,k.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,k.INFO,...X),this._logHandler(this,k.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,k.WARN,...X),this._logHandler(this,k.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...X),this._logHandler(this,k.ERROR,...X)}}},5861:(Ft,Ue,F)=>{"use strict";function g(ue,me,he,Pe,Ce,ce,Me){try{var Z=ue[ce](Me),X=Z.value}catch(Ae){return void he(Ae)}Z.done?me(X):Promise.resolve(X).then(Pe,Ce)}function k(ue){return function(){var me=this,he=arguments;return new Promise(function(Pe,Ce){var ce=ue.apply(me,he);function Me(X){g(ce,Pe,Ce,Me,Z,"next",X)}function Z(X){g(ce,Pe,Ce,Me,Z,"throw",X)}Me(void 0)})}}F.d(Ue,{Z:()=>k})}},Ft=>{Ft(Ft.s=340)}]);