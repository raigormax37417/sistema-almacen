"use strict";(self.webpackChunksistema_almacen=self.webpackChunksistema_almacen||[]).push([[897],{6897:(q,d,a)=>{a.r(d),a.d(d,{AuthModule:()=>I});var r=a(2382),u=a(9808),e=a(4893),m=a(5332),c=a(7556);function x(t,s){if(1&t&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij("",o.fullNameError," ")}}function v(t,s){if(1&t&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij("",o.emailError," ")}}function w(t,s){if(1&t&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij("",o.passwordError," ")}}function b(t,s){if(1&t&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij("",o.passwordConfirmError," ")}}const g=function(t){return{"border-red-500 border":t}};let C=(()=>{class t{constructor(o,n,i){this.fb=o,this.router=n,this.authService=i,this.fullNameError="",this.emailError="",this.passwordError="",this.passwordConfirmError="",this.validationMessages={required:"Campo requerido",email:"No se reconoce como email v\xe1lido",pattern:"Debe usar su email institucional",minlength:"El campo no cumple con el m\xednimo de caracteres",maxlength:"El campo excede el m\xe1ximo de caracteres"},this.signUpForm=o.group({fullName:["",[r.kI.required,r.kI.minLength(5),r.kI.maxLength(120)]],email:["",[r.kI.required,r.kI.minLength(5),r.kI.maxLength(200),r.kI.email,r.kI.pattern("^[A-Za-z0-9._%+-]+@voaxaca.tecnm.mx$")]],password:["",[r.kI.required,r.kI.minLength(5),r.kI.maxLength(120)]],confirmPassword:["",[r.kI.required,r.kI.minLength(5),r.kI.maxLength(120)]]})}ngOnInit(){let o=this.signUpForm.get("fullName"),n=this.signUpForm.get("email"),i=this.signUpForm.get("password"),l=this.signUpForm.get("confirmPassword");o.valueChanges.subscribe(p=>this.fullNameError=this.setMessage(o)),n.valueChanges.subscribe(p=>this.emailError=this.setMessage(n)),i.valueChanges.subscribe(p=>this.passwordError=this.setMessage(i)),l.valueChanges.subscribe(p=>this.passwordConfirmError=this.setMessage(l))}register(){var o;let n=this.signUpForm.get("fullName"),i=this.signUpForm.get("password"),l=this.signUpForm.get("confirmPassword");if(""==(null==i?void 0:i.value)||(null==i?void 0:i.value)!=(null==l?void 0:l.value)||this.signUpForm.invalid)return alert("datos pls");let p={email:null===(o=this.signUpForm.get("email"))||void 0===o?void 0:o.value,password:null==i?void 0:i.value,displayName:n.value};this.authService.signUp(p).then(f=>{f||alert(f)})}setMessage(o){return(o.touched||o.dirty)&&o.errors?Object.keys(o.errors).map(n=>this.validationMessages[n]).join(". "):""}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(m.F0),e.Y36(c.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sign-up"]],decls:16,vars:17,consts:[[1,"h-full","mt-10",3,"formGroup","ngSubmit"],[1,"text-xl","text-center","text-violet-900","text-bold"],["id","logo",1,"flex","items-center","justify-center","my-5"],["src","","alt","",1,"min-h-[6rem]","bg-gray-300","w-[6rem]","rounded-full"],[1,"flex","flex-col","items-center","mt-10"],["id","full-name","type","text","placeholder","Nombre Completo","minlength","10","formControlName","fullName","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-2","mt-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]",3,"ngClass"],["class","text-red-500 text-xs italic",4,"ngIf"],["id","email","type","email","placeholder","Correo Institucional","formControlName","email","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-2","mt-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]",3,"ngClass"],["id","password","type","password","placeholder","Contrase\xf1a","minlength","6","formControlName","password","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-2","mt-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]",3,"ngClass"],["id","confirmPassword","type","password","placeholder","Confirmar Contrase\xf1a","minlength","6","formControlName","confirmPassword","required","",1,"shadow","appearance-none","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-2","mt-4","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]",3,"ngClass"],[1,"rounded-full","bg-violet-400","my-4","px-4","py-2","text-neutral-50","font-bold","hover:bg-violet-700"],[1,"text-red-500","text-xs","italic"]],template:function(o,n){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.register()}),e.TgZ(1,"h2",1),e._uU(2,"Crear cuenta"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"input",5),e.YNc(7,x,2,1,"p",6),e._UZ(8,"input",7),e.YNc(9,v,2,1,"p",6),e._UZ(10,"input",8),e.YNc(11,w,2,1,"p",6),e._UZ(12,"input",9),e.YNc(13,b,2,1,"p",6),e.TgZ(14,"button",10),e._uU(15,"Continuar"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.Q6J("formGroup",n.signUpForm),e.xp6(6),e.Q6J("ngClass",e.VKq(9,g,n.fullNameError)),e.xp6(1),e.Q6J("ngIf",n.fullNameError),e.xp6(1),e.Q6J("ngClass",e.VKq(11,g,n.emailError)),e.xp6(1),e.Q6J("ngIf",n.emailError),e.xp6(1),e.Q6J("ngClass",e.VKq(13,g,n.passwordError)),e.xp6(1),e.Q6J("ngIf",n.passwordError),e.xp6(1),e.Q6J("ngClass",e.VKq(15,g,n.passwordConfirmError)),e.xp6(1),e.Q6J("ngIf",n.passwordConfirmError))},directives:[r._Y,r.JL,r.sg,r.Fj,r.wO,r.JJ,r.u,r.Q7,u.mk,u.O5],styles:[""]}),t})();function _(t,s){if(1&t&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.emailError)}}function Z(t,s){if(1&t&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij("",o.passwordError," ")}}const h=function(t){return{"border-red-500":t}},y=[{path:"",children:[{path:"login",component:(()=>{class t{constructor(o,n,i){this.fb=o,this.router=n,this.authService=i,this.emailError="",this.passwordError="",this.validationMessages={required:"Campo requerido",email:"No se reconoce como email v\xe1lido",pattern:"Debe usar su email institucional",minlength:"El campo no cumple con el m\xednimo de caracteres",maxlength:"El campo excede el m\xe1ximo de caracteres"},this.loginForm=this.fb.group({email:new r.NI("",[r.kI.required,r.kI.minLength(5),r.kI.email,r.kI.pattern("^[A-Za-z0-9._%+-]+@voaxaca.tecnm.mx$")]),password:new r.NI("",[r.kI.required,r.kI.minLength(5)])})}ngOnInit(){let o=this.loginForm.get("email"),n=this.loginForm.get("password");o&&o.valueChanges.subscribe(i=>this.emailError=this.setMessage(o)),n&&n.valueChanges.subscribe(i=>this.passwordError=this.setMessage(n))}login(){var o,n;if(this.loginForm.invalid)return alert("credenciales pls");let i={email:null===(o=this.loginForm.get("email"))||void 0===o?void 0:o.value,password:null===(n=this.loginForm.get("password"))||void 0===n?void 0:n.value};this.authService.loginEmail(i),this.authService.redirectUrl?this.router.navigateByUrl(this.authService.redirectUrl):this.router.navigate(["auth"])}googleLogin(){this.authService.loginGoogle()}forgotPassword(){}setMessage(o){return(o.touched||o.dirty)&&o.errors?Object.keys(o.errors).map(n=>this.validationMessages[n]).join(". "):""}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(m.F0),e.Y36(c.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-log-in"]],decls:27,vars:9,consts:[[1,"text-xl","text-center","text-violet-900","text-bold"],["id","logo",1,"flex","items-center","justify-center","my-5"],["src","","alt","",1,"min-h-[6rem]","bg-gray-300","w-[6rem]","rounded-full"],[1,"text-violet-900",3,"formGroup","submit"],[1,"mb-4","flex","flex-col","items-center"],["for","username",1,"block","text-sm","font-bold","mb-2"],["required","","id","username","type","text","placeholder","Correo institucional","formControlName","email",1,"shadow","appearance-none","border","rounded","bg-gray-300","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]",3,"ngClass"],["class","text-red-500 text-xs italic",4,"ngIf"],[1,"mb-6","flex","flex-col","items-center"],["for","password",1,"block","text-violet-900","text-sm","font-bold","mb-2"],["required","","id","password","type","password","placeholder","******","formControlName","password",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","bg-gray-300","text-gray-700","mb-3","leading-tight","focus:outline-none","focus:shadow-outline","max-w-[75%]",3,"ngClass"],[1,"mb-6","flex","flex-col","justify-center","items-center"],["href","#",1,"my-2",3,"onclick"],["href","#","routerLink","/auth/signup",1,"my-2"],[1,"rounded-full","cursor-pointer","flex","justify-center","items-center","bg-gray-200","my-2","px-5","py-2","text-violet-500","font-bold","hover:bg-blue-700","hover:text-neutral-50",3,"routerLink","click"],["src","assets/img/google_btn.svg","alt","","srcset","",1,"rounded","mr-4"],[1,"rounded-full","bg-violet-400","my-2","px-4","cursor-pointer","py-2","text-neutral-50","font-bold","hover:bg-violet-700"],[1,"text-red-500","text-xs","italic"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"Bienvenido!"),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"form",3),e.NdJ("submit",function(){return n.login()}),e.TgZ(5,"div",4),e.TgZ(6,"label",5),e._uU(7," Correo Institucional "),e.qZA(),e._UZ(8,"input",6),e.YNc(9,_,2,1,"p",7),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12," Contrase\xf1a "),e.qZA(),e._UZ(13,"input",10),e.YNc(14,Z,2,1,"p",7),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"a",12),e.NdJ("onclick",function(){return n.forgotPassword()}),e._uU(17,"\xbfOlvidaste tu contrase\xf1a?"),e.qZA(),e.TgZ(18,"a",13),e._uU(19,"\xbfNo tienes una cuenta? "),e.TgZ(20,"strong"),e._uU(21,"Crear Cuenta"),e.qZA(),e.qZA(),e.TgZ(22,"a",14),e.NdJ("click",function(){return n.googleLogin()}),e._UZ(23,"img",15),e._uU(24,"Entrar con Google"),e.qZA(),e.TgZ(25,"button",16),e._uU(26,"Iniciar sesi\xf3n"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(4),e.Q6J("formGroup",n.loginForm),e.xp6(4),e.Q6J("ngClass",e.VKq(5,h,n.emailError)),e.xp6(1),e.Q6J("ngIf",n.emailError),e.xp6(4),e.Q6J("ngClass",e.VKq(7,h,n.passwordError)),e.xp6(1),e.Q6J("ngIf",n.passwordError))},directives:[r._Y,r.JL,r.sg,r.Fj,r.Q7,r.JJ,r.u,u.mk,u.O5,m.yS],styles:[""]}),t})()},{path:"signup",component:C},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let U=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(y)],m.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,U,r.UX]]}),t})()}}]);