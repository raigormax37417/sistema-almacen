(self.webpackChunksistema_almacen=self.webpackChunksistema_almacen||[]).push([[721],{5876:(N,s,l)=>{const i=l(532),e=l(7554),t=l(179),o=l(1036);function a(u,h,g,E,B){const C=[].slice.call(arguments,1),p=C.length,S="function"==typeof C[p-1];if(!S&&!i())throw new Error("Callback required as last argument");if(!S){if(p<1)throw new Error("Too few arguments provided");return 1===p?(g=h,h=E=void 0):2===p&&!h.getContext&&(E=g,g=h,h=void 0),new Promise(function(I,F){try{const v=e.create(g,E);I(u(v,h,E))}catch(v){F(v)}})}if(p<2)throw new Error("Too few arguments provided");2===p?(B=g,g=h,h=E=void 0):3===p&&(h.getContext&&void 0===B?(B=E,E=void 0):(B=E,E=g,g=h,h=void 0));try{const I=e.create(g,E);B(null,u(I,h,E))}catch(I){B(I)}}s.rT=a.bind(null,t.render),s.hz=a.bind(null,t.renderToDataURL),s.toString=a.bind(null,function(u,h,g){return o.render(u,g)})},532:N=>{N.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(N,s,l)=>{const r=l(4860).getSymbolSize;s.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,o=r(e),a=145===o?26:2*Math.ceil((o-13)/(2*t-2)),u=[o-7];for(let h=1;h<t-1;h++)u[h]=u[h-1]-a;return u.push(6),u.reverse()},s.getPositions=function(e){const t=[],o=s.getRowColCoords(e),a=o.length;for(let u=0;u<a;u++)for(let h=0;h<a;h++)0===u&&0===h||0===u&&h===a-1||u===a-1&&0===h||t.push([o[u],o[h]]);return t}},812:(N,s,l)=>{const r=l(6906),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(t){this.mode=r.ALPHANUMERIC,this.data=t}e.getBitsLength=function(o){return 11*Math.floor(o/2)+o%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(o){let a;for(a=0;a+2<=this.data.length;a+=2){let u=45*i.indexOf(this.data[a]);u+=i.indexOf(this.data[a+1]),o.put(u,11)}this.data.length%2&&o.put(i.indexOf(this.data[a]),6)},N.exports=e},3044:N=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(l){const r=Math.floor(l/8);return 1==(this.buffer[r]>>>7-l%8&1)},put:function(l,r){for(let i=0;i<r;i++)this.putBit(1==(l>>>r-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(l){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),l&&(this.buffer[r]|=128>>>this.length%8),this.length++}},N.exports=s},1973:N=>{function s(l){if(!l||l<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=l,this.data=new Uint8Array(l*l),this.reservedBit=new Uint8Array(l*l)}s.prototype.set=function(l,r,i,e){const t=l*this.size+r;this.data[t]=i,e&&(this.reservedBit[t]=!0)},s.prototype.get=function(l,r){return this.data[l*this.size+r]},s.prototype.xor=function(l,r,i){this.data[l*this.size+r]^=i},s.prototype.isReserved=function(l,r){return this.reservedBit[l*this.size+r]},N.exports=s},1824:(N,s,l)=>{const r=l(8419),i=l(6906);function e(t){this.mode=i.BYTE,this.data=new Uint8Array(r(t))}e.getBitsLength=function(o){return 8*o},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let o=0,a=this.data.length;o<a;o++)t.put(this.data[o],8)},N.exports=e},6194:(N,s,l)=>{const r=l(9020),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];s.getBlocksCount=function(o,a){switch(a){case r.L:return i[4*(o-1)+0];case r.M:return i[4*(o-1)+1];case r.Q:return i[4*(o-1)+2];case r.H:return i[4*(o-1)+3];default:return}},s.getTotalCodewordsCount=function(o,a){switch(a){case r.L:return e[4*(o-1)+0];case r.M:return e[4*(o-1)+1];case r.Q:return e[4*(o-1)+2];case r.H:return e[4*(o-1)+3];default:return}}},9020:(N,s)=>{s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2},s.isValid=function(i){return i&&void 0!==i.bit&&i.bit>=0&&i.bit<4},s.from=function(i,e){if(s.isValid(i))return i;try{return function l(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+r)}}(i)}catch(t){return e}}},9172:(N,s,l)=>{const r=l(4860).getSymbolSize;s.getPositions=function(t){const o=r(t);return[[0,0],[o-7,0],[0,o-7]]}},611:(N,s,l)=>{const r=l(4860),t=r.getBCHDigit(1335);s.getEncodedBits=function(a,u){const h=a.bit<<3|u;let g=h<<10;for(;r.getBCHDigit(g)-t>=0;)g^=1335<<r.getBCHDigit(g)-t;return 21522^(h<<10|g)}},7794:(N,s)=>{const l=new Uint8Array(512),r=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)l[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)l[t]=l[t-255]})(),s.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},s.exp=function(e){return l[e]},s.mul=function(e,t){return 0===e||0===t?0:l[r[e]+r[t]]}},8043:(N,s,l)=>{const r=l(6906),i=l(4860);function e(t){this.mode=r.KANJI,this.data=t}e.getBitsLength=function(o){return 13*o},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){let o;for(o=0;o<this.data.length;o++){let a=i.toSJIS(this.data[o]);if(a>=33088&&a<=40956)a-=33088;else{if(!(a>=57408&&a<=60351))throw new Error("Invalid SJIS character: "+this.data[o]+"\nMake sure your charset is UTF-8");a-=49472}a=192*(a>>>8&255)+(255&a),t.put(a,13)}},N.exports=e},7135:(N,s)=>{s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(i,e,t){switch(i){case s.Patterns.PATTERN000:return(e+t)%2==0;case s.Patterns.PATTERN001:return e%2==0;case s.Patterns.PATTERN010:return t%3==0;case s.Patterns.PATTERN011:return(e+t)%3==0;case s.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2==0;case s.Patterns.PATTERN101:return e*t%2+e*t%3==0;case s.Patterns.PATTERN110:return(e*t%2+e*t%3)%2==0;case s.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}}s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){const t=e.size;let o=0,a=0,u=0,h=null,g=null;for(let E=0;E<t;E++){a=u=0,h=g=null;for(let B=0;B<t;B++){let C=e.get(E,B);C===h?a++:(a>=5&&(o+=a-5+3),h=C,a=1),C=e.get(B,E),C===g?u++:(u>=5&&(o+=u-5+3),g=C,u=1)}a>=5&&(o+=a-5+3),u>=5&&(o+=u-5+3)}return o},s.getPenaltyN2=function(e){const t=e.size;let o=0;for(let a=0;a<t-1;a++)for(let u=0;u<t-1;u++){const h=e.get(a,u)+e.get(a,u+1)+e.get(a+1,u)+e.get(a+1,u+1);(4===h||0===h)&&o++}return 3*o},s.getPenaltyN3=function(e){const t=e.size;let o=0,a=0,u=0;for(let h=0;h<t;h++){a=u=0;for(let g=0;g<t;g++)a=a<<1&2047|e.get(h,g),g>=10&&(1488===a||93===a)&&o++,u=u<<1&2047|e.get(g,h),g>=10&&(1488===u||93===u)&&o++}return 40*o},s.getPenaltyN4=function(e){let t=0;const o=e.data.length;for(let u=0;u<o;u++)t+=e.data[u];return 10*Math.abs(Math.ceil(100*t/o/5)-10)},s.applyMask=function(e,t){const o=t.size;for(let a=0;a<o;a++)for(let u=0;u<o;u++)t.isReserved(u,a)||t.xor(u,a,r(e,u,a))},s.getBestMask=function(e,t){const o=Object.keys(s.Patterns).length;let a=0,u=1/0;for(let h=0;h<o;h++){t(h),s.applyMask(h,e);const g=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(h,e),g<u&&(u=g,a=h)}return a}},6906:(N,s,l)=>{const r=l(2316),i=l(4677);s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!r.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},s.getBestModeForData=function(o){return i.testNumeric(o)?s.NUMERIC:i.testAlphanumeric(o)?s.ALPHANUMERIC:i.testKanji(o)?s.KANJI:s.BYTE},s.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},s.isValid=function(o){return o&&o.bit&&o.ccBits},s.from=function(o,a){if(s.isValid(o))return o;try{return function e(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+t)}}(o)}catch(u){return a}}},6002:(N,s,l)=>{const r=l(6906);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let o,a,u;for(o=0;o+3<=this.data.length;o+=3)a=this.data.substr(o,3),u=parseInt(a,10),t.put(u,10);const h=this.data.length-o;h>0&&(a=this.data.substr(o),u=parseInt(a,10),t.put(u,3*h+1))},N.exports=i},7793:(N,s,l)=>{const r=l(7794);s.mul=function(e,t){const o=new Uint8Array(e.length+t.length-1);for(let a=0;a<e.length;a++)for(let u=0;u<t.length;u++)o[a+u]^=r.mul(e[a],t[u]);return o},s.mod=function(e,t){let o=new Uint8Array(e);for(;o.length-t.length>=0;){const a=o[0];for(let h=0;h<t.length;h++)o[h]^=r.mul(t[h],a);let u=0;for(;u<o.length&&0===o[u];)u++;o=o.slice(u)}return o},s.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let o=0;o<e;o++)t=s.mul(t,new Uint8Array([1,r.exp(o)]));return t}},7554:(N,s,l)=>{const r=l(4860),i=l(9020),e=l(3044),t=l(1973),o=l(3012),a=l(9172),u=l(7135),h=l(6194),g=l(8098),E=l(6602),B=l(611),C=l(6906),p=l(9465);function x(y,L,T){const w=y.size,R=B.getEncodedBits(L,T);let c,f;for(c=0;c<15;c++)f=1==(R>>c&1),y.set(c<6?c:c<8?c+1:w-15+c,8,f,!0),y.set(8,c<8?w-c-1:c<9?15-c-1+1:15-c-1,f,!0);y.set(w-8,8,1,!0)}function U(y,L,T,w){let R;if(Array.isArray(y))R=p.fromArray(y);else{if("string"!=typeof y)throw new Error("Invalid data");{let m=L;if(!m){const A=p.rawSplit(y);m=E.getBestVersionForData(A,T)}R=p.fromString(y,m||40)}}const c=E.getBestVersionForData(R,T);if(!c)throw new Error("The amount of data is too big to be stored in a QR Code");if(L){if(L<c)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+c+".\n")}else L=c;const f=function b(y,L,T){const w=new e;T.forEach(function(d){w.put(d.mode.bit,4),w.put(d.getLength(),C.getCharCountIndicator(d.mode,y)),d.write(w)});const f=8*(r.getSymbolTotalCodewords(y)-h.getTotalCodewordsCount(y,L));for(w.getLengthInBits()+4<=f&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(0);const n=(f-w.getLengthInBits())/8;for(let d=0;d<n;d++)w.put(d%2?17:236,8);return function P(y,L,T){const w=r.getSymbolTotalCodewords(L),c=w-h.getTotalCodewordsCount(L,T),f=h.getBlocksCount(L,T),d=f-w%f,m=Math.floor(w/f),A=Math.floor(c/f),D=A+1,Z=m-A,Q=new g(Z);let z=0;const O=new Array(f),Y=new Array(f);let q=0;const j=new Uint8Array(y.buffer);for(let H=0;H<f;H++){const V=H<d?A:D;O[H]=j.slice(z,z+V),Y[H]=Q.encode(O[H]),z+=V,q=Math.max(q,V)}const J=new Uint8Array(w);let k,_,G=0;for(k=0;k<q;k++)for(_=0;_<f;_++)k<O[_].length&&(J[G++]=O[_][k]);for(k=0;k<Z;k++)for(_=0;_<f;_++)J[G++]=Y[_][k];return J}(w,y,L)}(L,T,R),n=r.getSymbolSize(L),d=new t(n);return function S(y,L){const T=y.size,w=a.getPositions(L);for(let R=0;R<w.length;R++){const c=w[R][0],f=w[R][1];for(let n=-1;n<=7;n++)if(!(c+n<=-1||T<=c+n))for(let d=-1;d<=7;d++)f+d<=-1||T<=f+d||y.set(c+n,f+d,n>=0&&n<=6&&(0===d||6===d)||d>=0&&d<=6&&(0===n||6===n)||n>=2&&n<=4&&d>=2&&d<=4,!0)}}(d,L),function I(y){const L=y.size;for(let T=8;T<L-8;T++){const w=T%2==0;y.set(T,6,w,!0),y.set(6,T,w,!0)}}(d),function F(y,L){const T=o.getPositions(L);for(let w=0;w<T.length;w++){const R=T[w][0],c=T[w][1];for(let f=-2;f<=2;f++)for(let n=-2;n<=2;n++)y.set(R+f,c+n,-2===f||2===f||-2===n||2===n||0===f&&0===n,!0)}}(d,L),x(d,T,0),L>=7&&function v(y,L){const T=y.size,w=E.getEncodedBits(L);let R,c,f;for(let n=0;n<18;n++)R=Math.floor(n/3),c=n%3+T-8-3,f=1==(w>>n&1),y.set(R,c,f,!0),y.set(c,R,f,!0)}(d,L),function M(y,L){const T=y.size;let w=-1,R=T-1,c=7,f=0;for(let n=T-1;n>0;n-=2)for(6===n&&n--;;){for(let d=0;d<2;d++)if(!y.isReserved(R,n-d)){let m=!1;f<L.length&&(m=1==(L[f]>>>c&1)),y.set(R,n-d,m),c--,-1===c&&(f++,c=7)}if(R+=w,R<0||T<=R){R-=w,w=-w;break}}}(d,f),isNaN(w)&&(w=u.getBestMask(d,x.bind(null,d,T))),u.applyMask(w,d),x(d,T,w),{modules:d,version:L,errorCorrectionLevel:T,maskPattern:w,segments:R}}s.create=function(L,T){if(void 0===L||""===L)throw new Error("No input text");let R,c,w=i.M;return void 0!==T&&(w=i.from(T.errorCorrectionLevel,i.M),R=E.from(T.version),c=u.from(T.maskPattern),T.toSJISFunc&&r.setToSJISFunction(T.toSJISFunc)),U(L,R,w,c)}},8098:(N,s,l)=>{const r=l(7793);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(t.length+this.degree);o.set(t);const a=r.mod(o,this.genPoly),u=this.degree-a.length;if(u>0){const h=new Uint8Array(this.degree);return h.set(a,u),h}return a},N.exports=i},4677:(N,s)=>{const l="[0-9]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+")(?:.|[\r\n]))+";s.KANJI=new RegExp(i,"g"),s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),s.BYTE=new RegExp(e,"g"),s.NUMERIC=new RegExp(l,"g"),s.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const t=new RegExp("^"+i+"$"),o=new RegExp("^"+l+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");s.testKanji=function(h){return t.test(h)},s.testNumeric=function(h){return o.test(h)},s.testAlphanumeric=function(h){return a.test(h)}},9465:(N,s,l)=>{const r=l(6906),i=l(6002),e=l(812),t=l(1824),o=l(8043),a=l(4677),u=l(4860),h=l(4901);function g(v){return unescape(encodeURIComponent(v)).length}function E(v,x,M){const b=[];let P;for(;null!==(P=v.exec(M));)b.push({data:P[0],index:P.index,mode:x,length:P[0].length});return b}function B(v){const x=E(a.NUMERIC,r.NUMERIC,v),M=E(a.ALPHANUMERIC,r.ALPHANUMERIC,v);let b,P;return u.isKanjiModeEnabled()?(b=E(a.BYTE,r.BYTE,v),P=E(a.KANJI,r.KANJI,v)):(b=E(a.BYTE_KANJI,r.BYTE,v),P=[]),x.concat(M,b,P).sort(function(y,L){return y.index-L.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function C(v,x){switch(x){case r.NUMERIC:return i.getBitsLength(v);case r.ALPHANUMERIC:return e.getBitsLength(v);case r.KANJI:return o.getBitsLength(v);case r.BYTE:return t.getBitsLength(v)}}function F(v,x){let M;const b=r.getBestModeForData(v);if(M=r.from(x,b),M!==r.BYTE&&M.bit<b.bit)throw new Error('"'+v+'" cannot be encoded with mode '+r.toString(M)+".\n Suggested mode is: "+r.toString(b));switch(M===r.KANJI&&!u.isKanjiModeEnabled()&&(M=r.BYTE),M){case r.NUMERIC:return new i(v);case r.ALPHANUMERIC:return new e(v);case r.KANJI:return new o(v);case r.BYTE:return new t(v)}}s.fromArray=function(x){return x.reduce(function(M,b){return"string"==typeof b?M.push(F(b,null)):b.data&&M.push(F(b.data,b.mode)),M},[])},s.fromString=function(x,M){const P=function S(v){const x=[];for(let M=0;M<v.length;M++){const b=v[M];switch(b.mode){case r.NUMERIC:x.push([b,{data:b.data,mode:r.ALPHANUMERIC,length:b.length},{data:b.data,mode:r.BYTE,length:b.length}]);break;case r.ALPHANUMERIC:x.push([b,{data:b.data,mode:r.BYTE,length:b.length}]);break;case r.KANJI:x.push([b,{data:b.data,mode:r.BYTE,length:g(b.data)}]);break;case r.BYTE:x.push([{data:b.data,mode:r.BYTE,length:g(b.data)}])}}return x}(B(x,u.isKanjiModeEnabled())),U=function I(v,x){const M={},b={start:{}};let P=["start"];for(let U=0;U<v.length;U++){const y=v[U],L=[];for(let T=0;T<y.length;T++){const w=y[T],R=""+U+T;L.push(R),M[R]={node:w,lastCount:0},b[R]={};for(let c=0;c<P.length;c++){const f=P[c];M[f]&&M[f].node.mode===w.mode?(b[f][R]=C(M[f].lastCount+w.length,w.mode)-C(M[f].lastCount,w.mode),M[f].lastCount+=w.length):(M[f]&&(M[f].lastCount=w.length),b[f][R]=C(w.length,w.mode)+4+r.getCharCountIndicator(w.mode,x))}}P=L}for(let U=0;U<P.length;U++)b[P[U]].end=0;return{map:b,table:M}}(P,M),y=h.find_path(U.map,"start","end"),L=[];for(let T=1;T<y.length-1;T++)L.push(U.table[y[T]].node);return s.fromArray(function p(v){return v.reduce(function(x,M){const b=x.length-1>=0?x[x.length-1]:null;return b&&b.mode===M.mode?(x[x.length-1].data+=M.data,x):(x.push(M),x)},[])}(L))},s.rawSplit=function(x){return s.fromArray(B(x,u.isKanjiModeEnabled()))}},4860:(N,s)=>{let l;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];s.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},s.getSymbolTotalCodewords=function(e){return r[e]},s.getBCHDigit=function(i){let e=0;for(;0!==i;)e++,i>>>=1;return e},s.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');l=e},s.isKanjiModeEnabled=function(){return void 0!==l},s.toSJIS=function(e){return l(e)}},2316:(N,s)=>{s.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},6602:(N,s,l)=>{const r=l(4860),i=l(6194),e=l(9020),t=l(6906),o=l(2316),u=r.getBCHDigit(7973);function g(C,p){return t.getCharCountIndicator(C,p)+4}function E(C,p){let S=0;return C.forEach(function(I){S+=g(I.mode,p)+I.getBitsLength()}),S}s.from=function(p,S){return o.isValid(p)?parseInt(p,10):S},s.getCapacity=function(p,S,I){if(!o.isValid(p))throw new Error("Invalid QR Code version");void 0===I&&(I=t.BYTE);const x=8*(r.getSymbolTotalCodewords(p)-i.getTotalCodewordsCount(p,S));if(I===t.MIXED)return x;const M=x-g(I,p);switch(I){case t.NUMERIC:return Math.floor(M/10*3);case t.ALPHANUMERIC:return Math.floor(M/11*2);case t.KANJI:return Math.floor(M/13);default:return Math.floor(M/8)}},s.getBestVersionForData=function(p,S){let I;const F=e.from(S,e.M);if(Array.isArray(p)){if(p.length>1)return function B(C,p){for(let S=1;S<=40;S++)if(E(C,S)<=s.getCapacity(S,p,t.MIXED))return S}(p,F);if(0===p.length)return 1;I=p[0]}else I=p;return function h(C,p,S){for(let I=1;I<=40;I++)if(p<=s.getCapacity(I,S,C))return I}(I.mode,I.getLength(),F)},s.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let S=p<<12;for(;r.getBCHDigit(S)-u>=0;)S^=7973<<r.getBCHDigit(S)-u;return p<<12|S}},179:(N,s,l)=>{const r=l(714);s.render=function(o,a,u){let h=u,g=a;void 0===h&&(!a||!a.getContext)&&(h=a,a=void 0),a||(g=function e(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),h=r.getOptions(h);const E=r.getImageWidth(o.modules.size,h),B=g.getContext("2d"),C=B.createImageData(E,E);return r.qrToImageData(C.data,o,h),function i(t,o,a){t.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}(B,g,E),B.putImageData(C,0,0),g},s.renderToDataURL=function(o,a,u){let h=u;return void 0===h&&(!a||!a.getContext)&&(h=a,a=void 0),h||(h={}),s.render(o,a,h).toDataURL(h.type||"image/png",(h.rendererOpts||{}).quality)}},1036:(N,s,l)=>{const r=l(714);function i(o,a){const u=o.a/255,h=a+'="'+o.hex+'"';return u<1?h+" "+a+'-opacity="'+u.toFixed(2).slice(1)+'"':h}function e(o,a,u){let h=o+a;return void 0!==u&&(h+=" "+u),h}s.render=function(a,u,h){const g=r.getOptions(u),E=a.modules.size,B=a.modules.data,C=E+2*g.margin,p=g.color.light.a?"<path "+i(g.color.light,"fill")+' d="M0 0h'+C+"v"+C+'H0z"/>':"",S="<path "+i(g.color.dark,"stroke")+' d="'+function t(o,a,u){let h="",g=0,E=!1,B=0;for(let C=0;C<o.length;C++){const p=Math.floor(C%a),S=Math.floor(C/a);!p&&!E&&(E=!0),o[C]?(B++,C>0&&p>0&&o[C-1]||(h+=E?e("M",p+u,.5+S+u):e("m",g,0),g=0,E=!1),p+1<a&&o[C+1]||(h+=e("h",B),B=0)):g++}return h}(B,E,g.margin)+'"/>',v='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+'viewBox="0 0 '+C+" "+C+'" shape-rendering="crispEdges">'+p+S+"</svg>\n";return"function"==typeof h&&h(null,v),v}},714:(N,s)=>{function l(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let i=r.slice().replace("#","").split("");if(i.length<3||5===i.length||i.length>8)throw new Error("Invalid hex color: "+r);(3===i.length||4===i.length)&&(i=Array.prototype.concat.apply([],i.map(function(t){return[t,t]}))),6===i.length&&i.push("F","F");const e=parseInt(i.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+i.slice(0,6).join("")}}s.getOptions=function(i){i||(i={}),i.color||(i.color={});const t=i.width&&i.width>=21?i.width:void 0;return{width:t,scale:t?4:i.scale||4,margin:null==i.margin||i.margin<0?4:i.margin,color:{dark:l(i.color.dark||"#000000ff"),light:l(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},s.getScale=function(i,e){return e.width&&e.width>=i+2*e.margin?e.width/(i+2*e.margin):e.scale},s.getImageWidth=function(i,e){const t=s.getScale(i,e);return Math.floor((i+2*e.margin)*t)},s.qrToImageData=function(i,e,t){const o=e.modules.size,a=e.modules.data,u=s.getScale(o,t),h=Math.floor((o+2*t.margin)*u),g=t.margin*u,E=[t.color.light,t.color.dark];for(let B=0;B<h;B++)for(let C=0;C<h;C++){let p=4*(B*h+C),S=t.color.light;B>=g&&C>=g&&B<h-g&&C<h-g&&(S=E[a[Math.floor((B-g)/u)*o+Math.floor((C-g)/u)]?1:0]),i[p++]=S.r,i[p++]=S.g,i[p++]=S.b,i[p]=S.a}}},1721:(N,s,l)=>{"use strict";l.r(s),l.d(s,{StudentsModule:()=>R});var r=l(9808),i=l(4004),e=l(8505),t=l(4893),o=l(7556),a=l(9181),u=l(5332);let h=(()=>{class c{constructor(n,d,m){this.authService=n,this.profileService=d,this.router=m}canActivateChild(n,d){return this.checkStudentRole()}checkStudentRole(){return this.profileService.profile.pipe((0,i.U)(n=>(console.log(!!n),!!n)),(0,e.b)(n=>(console.log({res:n}),!!n||(this.router.navigate(["/profile"]),n))))}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(o.e),t.LFG(a.H),t.LFG(u.F0))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var g=l(5698);let E=(()=>{class c{constructor(n,d){this.authService=n,this.router=d}canActivate(n,d){return this.checkLoggedIn(d.url)&&this.checkStudentRole()}checkLoggedIn(n){return!!this.authService.isLoggedIn()||(this.authService.redirectUrl=n,this.router.navigate(["auth"]),!1)}checkStudentRole(){return this.authService.user$.pipe((0,g.q)(1),(0,i.U)(n=>!(!(null==n?void 0:n.roles.student)||(null==n?void 0:n.roles.admin))),(0,e.b)(n=>{n||this.router.navigate(["admin"])}))}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(o.e),t.LFG(u.F0))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var B=l(3209),C=l(5516),p=l(7526);let S=(()=>{class c{constructor(n,d,m){this._profile=n,this._tools=d,this.route=m,this.path="pedidos/",(0,C.v0)(),this._profile.profile.subscribe(Z=>{this.uid=null==Z?void 0:Z.id,this.profile=Z,this.loadCart(this.uid)})}loadCart(n){let d;this._tools.getDoc("profiles/"+this.uid+"/"+this.path,n).subscribe(A=>{A?(d=A,this.pedido=d):this.initCart()})}initCart(){this.pedido={id:this.uid,profile:this.profile,tools:[],status:"enviado",date:new Date}}addToolOn(n){if(this.isOrderExist=n,this.uid.length){const m=this.pedido.tools.find(A=>A.tool.id===n.id);null!=m?m.amount++:this.pedido.tools.push({amount:1,tool:n})}else this.route.navigate(["/auth/login"]);console.log("en addItemTool",this.pedido),this._tools.createDoc(this.pedido,"profiles/"+this.uid+"/"+this.path,this.pedido.id).then(()=>{console.log("Registrado con exito")})}removeTool(n){if(this.uid.length){let m=0;const A=this.pedido.tools.find((D,Z)=>(m=Z,D.tool.id===n.id));null!=A&&A.amount--,0===(null==A?void 0:A.amount)?this.pedido.tools.splice(m,1):console.log("vacio")}else this.route.navigate(["/auth/login"]);console.log("en removeTool",this.pedido),this._tools.createDoc(this.pedido,"profiles/"+this.uid+"/"+this.path,this.pedido.id).then(()=>{console.log("Eliminado con exito")})}makeOnOrder(){return void 0===this.pedido.tools.find(d=>d.tool===this.isOrderExist)?"":(this._tools.createDoc(this.pedido,this.path,this.pedido.id).then(()=>{console.log("Creando pedido con exito")}),this.clearCart(),this.pedido.id)}clearCart(){this.pedido={id:this.uid,profile:this.profile,tools:[],status:"entregado",date:new Date},this._tools.createDoc(this.pedido,"profiles/"+this.uid+"/"+this.path,this.pedido.id).then(()=>{console.log("Eliminado con exito")})}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(a.H),t.LFG(p.G),t.LFG(u.F0))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function I(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"div",5),t.TgZ(2,"h5",6),t._uU(3),t.qZA(),t.TgZ(4,"p",7),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",8),t.TgZ(7,"button",9),t.NdJ("click",function(){const A=t.CHM(n).$implicit;return t.oxw().removeTool(A.tool)}),t.O4$(),t.TgZ(8,"svg",10),t._UZ(9,"path",11),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&c){const n=f.$implicit;t.xp6(3),t.Oqu(n.tool.herramienta),t.xp6(2),t.hij("Cantidad: ",n.amount,"")}}let F=(()=>{class c{constructor(n,d,m){this._tools=n,this._cart=d,this._profile=m,this.pedidos=[],this.path="pedidos/",this._profile.profile.subscribe(A=>{this.uid=null==A?void 0:A.id,this.getOrders(this.uid)})}ngOnInit(){}getOrders(n){const m=this._tools.getDataFirestore("profiles/"+n+"/"+this.path);this.unusubscribe=(0,B.cf)(m,A=>{const D=[];A.forEach(Z=>{D.push(Z.data()),this.pedidos=D[0].tools,console.log(this.pedidos)})})}removeTool(n){this._cart.removeTool(n)}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(p.G),t.Y36(S),t.Y36(a.H))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-cart"]],decls:5,vars:1,consts:[[1,"w-full","bg-gray-300","text-center"],[1,"p-4","w-screen","text-gray-900","text-xl","font-medium"],[1,"w-screen","my-3","sm:w-full","justify-center","flex","flex-row","flex-wrap"],["class","flex flew-row justify-center items-center mx-6 my-2 sm:m-2 border border-gray-300 rounded-lg shadow-xl bg-white w-screen sm:max-w-sm text-center",4,"ngFor","ngForOf"],[1,"flex","flew-row","justify-center","items-center","mx-6","my-2","sm:m-2","border","border-gray-300","rounded-lg","shadow-xl","bg-white","w-screen","sm:max-w-sm","text-center"],[1,"flex","flex-col","flex-wrap","p-6"],[1,"text-gray-900","text-base","font-medium","mb-2"],[1,"text-gray-700","text-base","mb-4","font-light"],[1,"w-4","h-4","flex","justify-center","items-center","rounded-full","bg-red-600","p-6"],["type","button",3,"click"],["fill","currentColor","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"w-5","h-5","text-white"],["d","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]],template:function(n,d){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Carrito de Herramientas"),t.qZA(),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,I,10,2,"div",3),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngForOf",d.pedidos))},directives:[r.sg],styles:[""]}),c})(),v=(()=>{class c{transform(n,d=0,m=""){return 0===this.firstLetterUpperCase(m).length?n.slice(d,d+5):n.filter(D=>D.herramienta.includes(this.firstLetterUpperCase(m))).slice(d,d+5)}firstLetterUpperCase(n){const d=n.charAt(0).toUpperCase(),m=n.substring(1,n.length);return d.concat(m)}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275pipe=t.Yjl({name:"tools",type:c,pure:!0}),c})();function x(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"tr",19),t.TgZ(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.qZA(),t.TgZ(5,"td",22),t.TgZ(6,"button",23),t.NdJ("click",function(){const A=t.CHM(n).$implicit;return t.oxw().addTool(A)}),t.O4$(),t.TgZ(7,"svg",24),t._UZ(8,"path",25),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&c){const n=f.$implicit;t.xp6(2),t.hij(" ",n.herramienta," "),t.xp6(2),t.hij(" ",n.cantidad," ")}}let M=(()=>{class c{constructor(n,d,m,A){this._tools=n,this._cart=d,this._profile=m,this.router=A,this.page=0,this.search="",this.path="herramientas/",this.tools=[],this.QR="",this._profile.profile.subscribe(Q=>{this.uid=null==Q?void 0:Q.id}),(0,C.v0)().currentUser||this.router.navigate(["/auth/login"])}ngOnInit(){this.getDataOnFirestore()}getDataOnFirestore(){const n=this._tools.getDataFirestore(this.path);this.unusubscribe=(0,B.cf)(n,d=>{const m=[];d.forEach(A=>{m.push(A.data()),this.tools=m})})}addTool(n){this._cart.addToolOn(n)}generateQR(){this.unusubscribe(),this._cart.makeOnOrder(),""===this._cart.makeOnOrder()?this.router.navigate(["/students/material"]):this.QR=this._cart.makeOnOrder(),this.router.navigate(["/students/qrcode"])}nextPage(){this.page+=5}prevPage(){this.page>0&&(this.page-=5)}onSearchTool(n){this.page=0,this.search=n}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(p.G),t.Y36(S),t.Y36(a.H),t.Y36(u.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-material"]],decls:33,vars:10,consts:[[1,"flex","flex-col"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"py-2","inline-block","min-w-full","sm:px-6","lg:px-8"],[1,"sm:overflow-x-auto","px-0","p-8"],[1,"flex","flex-row","justify-end","pr-4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"w-6","h-6","mr-2","mt-2","content-center"],["d","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],["type","text","name","searchTool","placeholder","Nombre de la herramienta",1,"form-control","block","sm:w-96","px-3","py-1.5","text-base","font-normal","text-gray-700","bg-white","bg-clip-padding","border","border-solid","border-gray-300","rounded","transition","ease-in-out","m-0","mr-4","mb-4","focus:text-gray-700","focus:bg-white","focus:border-blue-600","focus:outline-none",3,"keyup"],["searchTool",""],[1,"w-screen","overflow-auto","sm:w-min-full","table-auto"],[1,"border-b","bg-gray-300"],["scope","col",1,"text-base","lg:text-lg","font-medium","text-gray-900","px-1","sm:px-6","py-4","text-left"],["class","border-b",4,"ngFor","ngForOf"],[1,"container","mt-2","mb-2","flex","flex-col","sm:flex-row","w-screen","sm:w-full","sm:space-x-3","justify-center"],["type","button",1,"bg-slate-300","rounded","w-30","lg:w-36","text-center","p-2",3,"click"],["type","button",1,"bg-green-300","rounded","w-30","lg:w-36","text-center","p-2",3,"disabled","click"],[1,"flex","flex-col","md:flex-row","w-screen","sm:w-full","flex-wrap","sm:space-x-3","justify-center"],["type","button",1,"bg-blue-300","content-center","rounded","w-30","text-center","p-2",3,"click"],["type","button","routerLink","/students/qrcode",1,"bg-indigo-500","content-center","text-white","rounded","w-30","text-center","p-3","mt-2","sm:mt-0"],[1,"border-b"],[1,"text-base","lg:text-lg","flex","flex-col","text-gray-900","font-normal","sm:font-light","px-1","sm:px-6","py-4","whitespace-normal"],[1,"text-base","lg:text-lg","text-gray-900","font-light","px-1","sm:px-6","py-4","whitespace-nowrap"],[1,"text-base","lg:text-lg","flex","flex-col","sm:flex-row","text-gray-900","font-light","px-6","py-4","whitespace-nowrap"],["type","button",1,"bg-yellow-300","flex","justify-center","hover:bg-yellow-400","text-white","text-sm","font-bold","py-2","mx-1","px-3","sm:px-4","rounded-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"w-6","h-6"],["d","M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"]],template:function(n,d){if(1&n){const m=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"path",6),t.qZA(),t.kcU(),t.TgZ(7,"input",7,8),t.NdJ("keyup",function(){t.CHM(m);const D=t.MAs(8);return d.onSearchTool(D.value)}),t.qZA(),t.qZA(),t.TgZ(9,"table",9),t.TgZ(10,"thead",10),t.TgZ(11,"tr"),t.TgZ(12,"th",11),t._uU(13," Herramienta "),t.qZA(),t.TgZ(14,"th",11),t._uU(15," Total "),t.qZA(),t.TgZ(16,"th",11),t._uU(17," Opciones "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,x,9,2,"tr",12),t.ALo(20,"tools"),t.qZA(),t.qZA(),t.TgZ(21,"div",13),t.TgZ(22,"button",14),t.NdJ("click",function(){return d.prevPage()}),t._uU(23,"Anterior"),t.qZA(),t.TgZ(24,"button",15),t.NdJ("click",function(){return d.nextPage()}),t.ALo(25,"tools"),t._uU(26,"Siguiente"),t.qZA(),t.qZA(),t._UZ(27,"app-cart"),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return d.generateQR()}),t._uU(30,"Generar QR"),t.qZA(),t.TgZ(31,"button",18),t._uU(32,"Ver QR"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&n&&(t.xp6(19),t.Q6J("ngForOf",t.Dn7(20,2,d.tools,d.page,d.search)),t.xp6(5),t.Q6J("disabled",0===t.Dn7(25,6,d.tools,d.page,d.search).length))},directives:[r.sg,F,u.rH],pipes:[v],styles:[""]}),c})();var b=l(5876);const P=["qrcElement"];let U=(()=>{class c{constructor(n){this.renderer=n,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10}ngOnChanges(){this.createQRCode()}isValidQrCodeText(n){return!1===this.allowEmptyString?!(void 0===n||""===n||"null"===n||null===n):void 0!==n}toDataURL(){return new Promise((n,d)=>{b.hz(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},(m,A)=>{m?d(m):n(A)})})}toCanvas(n){return new Promise((d,m)=>{b.rT(n,this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},A=>{A?m(A):d("success")})})}toSVG(){return new Promise((n,d)=>{b.toString(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:"svg",version:this.version,width:this.width},(m,A)=>{m?d(m):n(A)})})}renderElement(n){for(const d of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,d);this.renderer.appendChild(this.qrcElement.nativeElement,n)}createQRCode(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");let n;switch(this.isValidQrCodeText(this.qrdata)&&""===this.qrdata&&(this.qrdata=" "),this.elementType){case"canvas":n=this.renderer.createElement("canvas"),this.toCanvas(n).then(()=>{this.renderElement(n)}).catch(d=>{console.error("[angularx-qrcode] canvas error:",d)});break;case"svg":n=this.renderer.createElement("div"),this.toSVG().then(d=>{this.renderer.setProperty(n,"innerHTML",d);const m=n.firstChild;this.renderer.setAttribute(m,"height",`${this.width}`),this.renderer.setAttribute(m,"width",`${this.width}`),this.renderElement(m)}).catch(d=>{console.error("[angularx-qrcode] svg error:",d)});break;default:n=this.renderer.createElement("img"),this.toDataURL().then(d=>{n.setAttribute("src",d),this.renderElement(n)}).catch(d=>{console.error("[angularx-qrcode] img/url error:",d)})}}catch(n){console.error("[angularx-qrcode] Error generating QR Code:",n.message)}}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.Qsj))},c.\u0275cmp=t.Xpm({type:c,selectors:[["qrcode"]],viewQuery:function(n,d){if(1&n&&t.Gf(P,7),2&n){let m;t.iGM(m=t.CRH())&&(d.qrcElement=m.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width"},features:[t.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(n,d){1&n&&t._UZ(0,"div",null,0),2&n&&t.Tol(d.cssClass)},encapsulation:2,changeDetection:0}),c})(),y=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({providers:[]}),c})();const T=[{path:"",canActivate:[E],canActivateChild:[h],children:[{path:"material",component:M},{path:"qrcode",component:(()=>{class c{constructor(n,d){this._tools=n,this._profile=d,this.dataQR="",this.qrState=!0,this.path="pedidos/",this.data=[],this.id=[],this._profile.profile.subscribe(m=>{this.uid=null==m?void 0:m.id,this.generateQR(this.uid)})}ngOnInit(){this.getQrCode()}getQrCode(){const n=this._tools.getDataFirestore(this.path);this.unusubscribe=(0,B.cf)(n,d=>{const m=[];d.forEach(A=>{m.push(A.data()),this.data=m,this.id.push(A.id)})})}generateQR(n){this.data.forEach((d,m)=>{this.dataQR=n===d.id?this.id[m]:"",this.widthValue=256})}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(p.G),t.Y36(a.H))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-qrcode"]],decls:4,vars:4,consts:[[1,"flex","flex-col","justify-center","items-center"],[1,"flex","justify-center",3,"qrdata","allowEmptyString","width","errorCorrectionLevel"],["type","button","routerLink","/students/material",1,"bg-cyan-500","w-64","text-base","text-bold","text-white","rounded","w-30","text-center","p-2","mt-2"]],template:function(n,d){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"qrcode",1),t.TgZ(2,"button",2),t._uU(3,"Regresar"),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("qrdata",d.dataQR)("allowEmptyString",d.qrState)("width",d.widthValue)("errorCorrectionLevel","M"))},directives:[U,u.rH],styles:[""]}),c})()},{path:"**",redirectTo:"material",pathMatch:"full"}]}];let w=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),c})(),R=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[r.ez,w,y]]}),c})()},4901:N=>{"use strict";var s={single_source_shortest_paths:function(l,r,i){var e={},t={};t[r]=0;var a,u,h,g,E,C,o=s.PriorityQueue.make();for(o.push(r,0);!o.empty();)for(h in g=(a=o.pop()).cost,E=l[u=a.value]||{})E.hasOwnProperty(h)&&(C=g+E[h],(void 0===t[h]||t[h]>C)&&(t[h]=C,o.push(h,C),e[h]=u));if(void 0!==i&&void 0===t[i]){var I=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(I)}return e},extract_shortest_path_from_predecessor_list:function(l,r){for(var i=[],e=r;e;)i.push(e),e=l[e];return i.reverse(),i},find_path:function(l,r,i){var e=s.single_source_shortest_paths(l,r,i);return s.extract_shortest_path_from_predecessor_list(e,i)},PriorityQueue:{make:function(l){var e,r=s.PriorityQueue,i={};for(e in l=l||{},r)r.hasOwnProperty(e)&&(i[e]=r[e]);return i.queue=[],i.sorter=l.sorter||r.default_sorter,i},default_sorter:function(l,r){return l.cost-r.cost},push:function(l,r){this.queue.push({value:l,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};N.exports=s},8419:N=>{"use strict";N.exports=function(l){for(var r=[],i=l.length,e=0;e<i;e++){var t=l.charCodeAt(e);if(t>=55296&&t<=56319&&i>e+1){var o=l.charCodeAt(e+1);o>=56320&&o<=57343&&(t=1024*(t-55296)+o-56320+65536,e+=1)}t<128?r.push(t):t<2048?(r.push(t>>6|192),r.push(63&t|128)):t<55296||t>=57344&&t<65536?(r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=65536&&t<=1114111?(r.push(t>>18|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}}}]);