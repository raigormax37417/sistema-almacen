"use strict";(self.webpackChunksistema_almacen=self.webpackChunksistema_almacen||[]).push([[722],{7722:(q,l,i)=>{i.r(l),i.d(l,{OrdersModule:()=>v});var a=i(9808),u=i(3209),t=i(4893),g=i(7556),m=i(7526),Z=i(186);function _(o,n){if(1&o&&(t.TgZ(0,"div",27),t.TgZ(1,"p"),t.TgZ(2,"strong"),t._uU(3,"Herramienta: "),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"p"),t.TgZ(6,"strong"),t._uU(7,"Cantidad: "),t.qZA(),t._uU(8),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(4),t.Oqu(e.tool.herramienta),t.xp6(4),t.Oqu(e.amount)}}function f(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr",15),t.TgZ(1,"td",16),t.TgZ(2,"p",17),t.TgZ(3,"strong"),t._uU(4,"No.Control: "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p"),t.TgZ(7,"strong"),t._uU(8,"Nombre: "),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p"),t.TgZ(11,"strong"),t._uU(12,"Carrera: "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p"),t.TgZ(15,"strong"),t._uU(16,"Semestre: "),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p"),t.TgZ(19,"strong"),t._uU(20,"Grupo: "),t.qZA(),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"td",18),t.YNc(23,_,9,2,"div",19),t.qZA(),t.TgZ(24,"td",20),t._uU(25),t.qZA(),t.TgZ(26,"td",17),t._uU(27),t.qZA(),t.TgZ(28,"td"),t.TgZ(29,"button",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).changeStatus(s.profile.id)}),t._uU(30," Entregar "),t.O4$(),t.TgZ(31,"svg",22),t._UZ(32,"path",23),t.qZA(),t.qZA(),t.kcU(),t.TgZ(33,"button",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).deleteOrder(s.profile.id)}),t._uU(34," Eliminar "),t.O4$(),t.TgZ(35,"svg",25),t._UZ(36,"path",26),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(5),t.Oqu(e.profile.controlNumber),t.xp6(4),t.Oqu(e.profile.name),t.xp6(4),t.Oqu(e.profile.career),t.xp6(4),t.hij(" ",e.profile.semester,""),t.xp6(4),t.hij(" ",e.profile.group,""),t.xp6(2),t.Q6J("ngForOf",e.tools),t.xp6(2),t.Oqu(e.status),t.xp6(2),t.Oqu(e.date)}}function x(o,n){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,f,37,8,"tr",14),t.ALo(2,"admin"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,e.dataOrder,e.page,e.search))}}function h(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.O4$(),t.TgZ(2,"svg",3),t._UZ(3,"path",4),t.qZA(),t.kcU(),t.TgZ(4,"input",5,6),t.NdJ("keyup",function(){t.CHM(e);const d=t.MAs(5);return t.oxw().onSearchTool(d.value)}),t.qZA(),t.qZA(),t.TgZ(6,"table",7),t.TgZ(7,"thead",8),t.TgZ(8,"tr"),t.TgZ(9,"th",9),t._uU(10," Datos del alumno "),t.qZA(),t.TgZ(11,"th",9),t._uU(12," Herramientas "),t.qZA(),t.TgZ(13,"th",9),t._uU(14," Estado del Pedido "),t.qZA(),t.TgZ(15,"th",9),t._uU(16," Fecha "),t.qZA(),t.TgZ(17,"th",9),t._uU(18," Opciones "),t.qZA(),t.qZA(),t.qZA(),t.YNc(19,x,3,5,"tbody",10),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().prevPage()}),t._uU(22,"Anterior"),t.qZA(),t.TgZ(23,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().nextPage()}),t.ALo(24,"admin"),t._uU(25,"Siguiente"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(19),t.Q6J("ngIf",null!=e.dataOrder),t.xp6(4),t.Q6J("disabled",0===t.xi3(24,2,e.dataOrder,e.page).length)}}let T=(()=>{class o{constructor(e,r){this.authService=e,this._tools=r,this.path="pedidos/",this.search="",this.page=0,this.dataOrder=[]}ngOnInit(){this.getDataOnFirestore()}getDataOnFirestore(){const e=this._tools.getDataFirestore(this.path),r=[];(0,u.cf)(e,s=>{s.forEach(c=>{r.push(c.data())}),this.readFile(r)})}readFile(e){Object.keys(e).map(d=>{const s=e[d];let c=s.date.toDate();this.dataOrder.push({id:s.id,profile:s.profile,status:s.status,tools:s.tools,date:c})}),console.log(this.dataOrder)}deleteOrder(e){confirm("Desea eliminar el pedido?")&&this._tools.deleteDoc(e,this.path)}changeStatus(e){confirm("Desea cambiar el estado del pedido?")&&this._tools.updateDoc("pedidos/"+e+"/",{status:"entregado"}).then(function(){console.log("pedido entregado")})}nextPage(){this.page+=5}prevPage(){this.page>0&&(this.page-=5)}onSearchTool(e){this.page=0,this.search=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.e),t.Y36(m.G))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-order"]],decls:1,vars:1,consts:[["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"flex","flex-row","justify-end","pr-4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"w-6","h-6","mr-2","mt-2","content-center"],["d","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],["type","text","name","searchTool","placeholder","Ingrese el No.Control",1,"form-control","block","sm:w-96","px-3","py-1.5","text-base","font-normal","text-gray-700","bg-white","bg-clip-padding","border","border-solid","border-gray-300","rounded","transition","ease-in-out","m-0","mr-4","mb-4","focus:text-gray-700","focus:bg-white","focus:border-blue-600","focus:outline-none",3,"keyup"],["searchTool",""],[1,"min-w-full","table-auto"],[1,"border-b","bg-gray-300"],["scope","col",1,"text-xs","md:text-sm","font-medium","text-gray-900","px-2","py-1","sm:px-6","sm:py-4","text-left"],[4,"ngIf"],[1,"flex","flex-col","sm:mt-2","sm:gap-4","sm:flex-row","justify-center","gap-y-5"],["type","button",1,"bg-slate-300","rounded","w-30","text-center","p-2",3,"click"],["type","button",1,"bg-green-300","rounded","w-30","text-center","p-2",3,"disabled","click"],["class","border-b",4,"ngFor","ngForOf"],[1,"border-b"],[1,"sm:pl-4"],[1,"font-medium"],[1,"flex","flex-col"],["class","gap-y-2",4,"ngFor","ngForOf"],[1,""],["type","button",1,"text-green-900","flex","flex-col","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","fill","#00ff00",1,"w-8","h-8"],["d","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"],["type","button",1,"text-red-900","flex","flex-col","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","fill","#ff0000",1,"w-8","h-8"],["d","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM99.5 144.8C77.15 176.1 64 214.5 64 256C64 362 149.1 448 256 448C297.5 448 335.9 434.9 367.2 412.5L99.5 144.8zM448 256C448 149.1 362 64 256 64C214.5 64 176.1 77.15 144.8 99.5L412.5 367.2C434.9 335.9 448 297.5 448 256V256z"],[1,"gap-y-2"]],template:function(e,r){1&e&&t.YNc(0,h,26,5,"div",0),2&e&&t.Q6J("ngIf",r.authService.isLoggedIn())},directives:[a.O5,a.sg],pipes:[Z.S],styles:[""]}),o})();var p=i(5332);const C=[{path:"",children:[{path:"inspect-order",component:T},{path:"**",redirectTo:"order",pathMatch:"full"}]}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(C)],p.Bz]}),o})();var A=i(5503);let v=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.ez,O,A.D]]}),o})()}}]);